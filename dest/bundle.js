var define,require,esl;!function(h,i,r){var n={};function c(t){var e=i.console;n[t]||(n[t]=!0,h.migrateWarnings.push(t),e&&e.warn&&!h.migrateMute&&h.migrateTrace&&e.trace)}function t(t,e,i,n){if(Object.defineProperty)try{return void Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return c(n),i},set:function(t){c(n),i=t}})}catch(t){}h._definePropertyBroken=!0,t[e]=i}h.migrateWarnings=[],!h.migrateMute&&i.console&&i.console.log,h.migrateTrace===r&&(h.migrateTrace=!0),h.migrateReset=function(){n={},h.migrateWarnings.length=0},"BackCompat"===document.compatMode&&c("jQuery is not compatible with Quirks Mode");var a=h("<input/>",{size:1}).attr("size")&&h.attrFn,l=h.attr,s=h.attrHooks.value&&h.attrHooks.value.get||function(){return null},o=h.attrHooks.value&&h.attrHooks.value.set||function(){return r},d=/^(?:input|button)$/i,u=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;t(h,"attrFn",a||{},"jQuery.attrFn is deprecated"),h.attr=function(t,e,i,n){var s=e.toLowerCase(),o=t&&t.nodeType;return n&&(l.length<4&&c("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(o)&&(a?e in a:h.isFunction(h.fn[e])))?h(t)[e](i):("type"===e&&i!==r&&d.test(t.nodeName)&&t.parentNode&&c("Can't change the 'type' of an input or button in IE 6/7/8"),!h.attrHooks[s]&&p.test(s)&&(h.attrHooks[s]={get:function(t,e){var i,n=h.prop(t,e);return!0===n||"boolean"!=typeof n&&(i=t.getAttributeNode(e))&&!1!==i.nodeValue?e.toLowerCase():r},set:function(t,e,i){var n;return!1===e?h.removeAttr(t,i):((n=h.propFix[i]||i)in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},f.test(s)&&c("jQuery.fn.attr('"+s+"') may use property instead of attribute")),l.call(h,t,e,i))},h.attrHooks.value={get:function(t,e){var i=(t.nodeName||"").toLowerCase();return"button"===i?s.apply(this,arguments):("input"!==i&&"option"!==i&&c("jQuery.fn.attr('value') no longer gets properties"),e in t?t.value:null)},set:function(t,e){var i=(t.nodeName||"").toLowerCase();if("button"===i)return o.apply(this,arguments);"input"!==i&&"option"!==i&&c("jQuery.fn.attr('value', val) no longer sets properties"),t.value=e}};var e,g,m=h.fn.init,y=h.parseJSON,v=/^([^<]*)(<[\w\W]+>)([^>]*)$/;h.fn.init=function(t,e,i){var n;return t&&"string"==typeof t&&!h.isPlainObject(e)&&(n=v.exec(h.trim(t)))&&n[0]&&("<"!==t.charAt(0)&&c("$(html) HTML strings must start with '<' character"),n[3]&&c("$(html) HTML text after last tag is ignored"),"#"===n[0].charAt(0)&&(c("HTML string cannot start with a '#' character"),h.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&(e=e.context),h.parseHTML)?m.call(this,h.parseHTML(n[2],e,!0),e,i):m.apply(this,arguments)},h.fn.init.prototype=h.fn,h.parseJSON=function(t){return t||null===t?y.apply(this,arguments):(c("jQuery.parseJSON requires a valid JSON string"),null)},h.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},h.browser||(g={},(e=h.uaMatch(navigator.userAgent)).browser&&(g[e.browser]=!0,g.version=e.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),h.browser=g),t(h,"browser",h.browser,"jQuery.browser is deprecated"),h.sub=function(){function i(t,e){return new i.fn.init(t,e)}h.extend(!0,i,this),i.superclass=this,((i.fn=i.prototype=this()).constructor=i).sub=this.sub,i.fn.init=function(t,e){return e&&e instanceof h&&!(e instanceof i)&&(e=i(e)),h.fn.init.call(this,t,e,n)},i.fn.init.prototype=i.fn;var n=i(document);return c("jQuery.sub() is deprecated"),i},h.ajaxSetup({converters:{"text json":h.parseJSON}});var _=h.fn.data;h.fn.data=function(t){var e,i,n=this[0];return!n||"events"!==t||1!==arguments.length||(e=h.data(n,t),i=h._data(n,t),e!==r&&e!==i||i===r)?_.apply(this,arguments):(c("Use of jQuery.fn.data('events') is deprecated"),i)};var b=/\/(java|ecma)script/i,x=h.fn.andSelf||h.fn.addBack;h.fn.andSelf=function(){return c("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),x.apply(this,arguments)},h.clean||(h.clean=function(t,e,i,n){e=(e=!(e=e||document).nodeType&&e[0]||e).ownerDocument||e,c("jQuery.clean() is deprecated");var s,o,r,a,l=[];if(h.merge(l,h.buildFragment(t,e).childNodes),i)for(r=function(t){if(!t.type||b.test(t.type))return n?n.push(t.parentNode?t.parentNode.removeChild(t):t):i.appendChild(t)},s=0;null!=(o=l[s]);s++)h.nodeName(o,"script")&&r(o)||(i.appendChild(o),void 0!==o.getElementsByTagName&&(a=h.grep(h.merge([],o.getElementsByTagName("script")),r),l.splice.apply(l,[s+1,0].concat(a)),s+=a.length));return l});var w=h.event.add,C=h.event.remove,k=h.event.trigger,S=h.fn.toggle,T=h.fn.live,E=h.fn.die,M="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",z=new RegExp("\\b(?:"+M+")\\b"),A=/(?:^|\s)hover(\.\S+|)\b/,D=function(t){return"string"!=typeof t||h.event.special.hover?t:(A.test(t)&&c("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(A,"mouseenter$1 mouseleave$1"))};h.event.props&&"attrChange"!==h.event.props[0]&&h.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),h.event.dispatch&&t(h.event,"handle",h.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),h.event.add=function(t,e,i,n,s){t!==document&&z.test(e)&&c("AJAX events should be attached to document: "+e),w.call(this,t,D(e||""),i,n,s)},h.event.remove=function(t,e,i,n,s){C.call(this,t,D(e)||"",i,n,s)},h.fn.error=function(){var t=Array.prototype.slice.call(arguments,0);return c("jQuery.fn.error() is deprecated"),t.splice(0,0,"error"),arguments.length?this.bind.apply(this,t):(this.triggerHandler.apply(this,t),this)},h.fn.toggle=function(i,t){if(!h.isFunction(i)||!h.isFunction(t))return S.apply(this,arguments);c("jQuery.fn.toggle(handler, handler...) is deprecated");var n=arguments,e=i.guid||h.guid++,s=0,o=function(t){var e=(h._data(this,"lastToggle"+i.guid)||0)%s;return h._data(this,"lastToggle"+i.guid,e+1),t.preventDefault(),n[e].apply(this,arguments)||!1};for(o.guid=e;s<n.length;)n[s++].guid=e;return this.click(o)},h.fn.live=function(t,e,i){return c("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(h(this.context).on(t,this.selector,e,i),this)},h.fn.die=function(t,e){return c("jQuery.fn.die() is deprecated"),E?E.apply(this,arguments):(h(this.context).off(t,this.selector||"**",e),this)},h.event.trigger=function(t,e,i,n){return i||z.test(t)||c("Global events are undocumented and deprecated"),k.call(this,t,e,i||document,n)},h.each(M.split("|"),function(t,e){h.event.special[e]={setup:function(){var t=this;return t!==document&&(h.event.add(document,e+"."+h.guid,function(){h.event.trigger(e,null,t,!0)}),h._data(this,e,h.guid++)),!1},teardown:function(){return this!==document&&h.event.remove(document,e+"."+h._data(this,e)),!1}}})}(jQuery,window),function(p){p.gritter={},p.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},p.gritter.add=function(e){try{return f.add(e||{})}catch(t){var i="Gritter Error: "+t;"undefined"!=typeof console&&console.error?console.error(i,e):alert(i)}},p.gritter.remove=function(t,e){f.removeSpecific(t,e||{})},p.gritter.removeAll=function(t){f.stop(t||{})};var f={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if("string"==typeof i&&(i={text:i}),!i.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var t=i.title,e=i.text,n=i.image||"",s=i.sticky||!1,o=i.class_name||p.gritter.options.class_name,r=p.gritter.options.position,a=i.time||"";this._verifyWrapper(),this._item_count++;var l=this._item_count,h=this._tpl_item;p(["before_open","after_open","before_close","after_close"]).each(function(t,e){f["_"+e+"_"+l]=p.isFunction(i[e])?i[e]:function(){}}),this._custom_timer=0,a&&(this._custom_timer=a);var c=""!=n?'<img src="'+n+'" class="gritter-image" />':"",d=""!=n?"gritter-with-image":"gritter-without-image";if(t=t?this._str_replace("[[title]]",t,this._tpl_title):"",h=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[t,e,this._tpl_close,c,this._item_count,d,o],h),!1===this["_before_open_"+l]())return!1;p("#gritter-notice-wrapper").addClass(r).append(h);var u=p("#gritter-item-"+this._item_count);return u.fadeIn(this.fade_in_speed,function(){f["_after_open_"+l](p(this))}),s||this._setFadeTimer(u,l),p(u).bind("mouseenter mouseleave",function(t){"mouseenter"==t.type?s||f._restoreItemIfFading(p(this),l):s||f._setFadeTimer(p(this),l),f._hoverState(p(this),t.type)}),p(u).find(".gritter-close").click(function(){f.removeSpecific(l,{},null,!0)}),l},_countRemoveWrapper:function(t,e,i){e.remove(),this["_after_close_"+t](e,i),0==p(".gritter-item-wrapper").length&&p("#gritter-notice-wrapper").remove()},_fade:function(t,e,i,n){var s=void 0===(i=i||{}).fade||i.fade,o=i.speed||this.fade_out_speed,r=n;this["_before_close_"+e](t,r),n&&t.unbind("mouseenter mouseleave"),s?t.animate({opacity:0},o,function(){t.animate({height:0},300,function(){f._countRemoveWrapper(e,t,r)})}):this._countRemoveWrapper(e,t)},_hoverState:function(t,e){"mouseenter"==e?(t.addClass("hover"),t.find(".gritter-close").show()):(t.removeClass("hover"),t.find(".gritter-close").hide())},removeSpecific:function(t,e,i,n){if(!i)i=p("#gritter-item-"+t);this._fade(i,t,e||{},n)},_restoreItemIfFading:function(t,e){clearTimeout(this["_int_id_"+e]),t.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in p.gritter.options)this[opt]=p.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(t,e){var i=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+e]=setTimeout(function(){f._fade(t,e)},i)},stop:function(t){var e=p.isFunction(t.before_close)?t.before_close:function(){},i=p.isFunction(t.after_close)?t.after_close:function(){},n=p("#gritter-notice-wrapper");e(n),n.fadeOut(function(){p(this).remove(),i()})},_str_replace:function(t,e,i,n){var s,o=0,r=0,a="",l="",h=0,c=[].concat(t),d=[].concat(e),u=i,p=d instanceof Array,f=u instanceof Array;for(u=[].concat(u),n&&(this.window[n]=0),o=0,s=u.length;o<s;o++)if(""!==u[o])for(r=0,h=c.length;r<h;r++)a=u[o]+"",l=p?void 0!==d[r]?d[r]:"":d[0],u[o]=a.split(c[r]).join(l),n&&u[o]!==a&&(this.window[n]+=(a.length-u[o].length)/c[r].length);return f?u:u[0]},_verifyWrapper:function(){0==p("#gritter-notice-wrapper").length&&p("body").append(this._tpl_wrap)}}}(jQuery),function(){var r;(r=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,s,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),r=[],n=0,s=(o=t.childNodes).length;n<s;n++)i=o[n],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:!0===i?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,i,n,s,o;for(i=new r,n=0,s=(o=t.childNodes).length;n<s;n++)e=o[n],i.add_node(e);return i.parsed},this.SelectParser=r}.call(this),function(){var t;t=function(){function t(t,e){this.form_field=t,this.options=null!=e?e:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.set_default_text(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return t.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.result_add_option=function(t){var e,i;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+i+">"+t.html+"</li>")},t.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&0<this.choices)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t},t.prototype.generate_random_char=function(){var t,e;return t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e=Math.floor(Math.random()*t.length),t.substring(e,e+1)},t}(),this.AbstractChosen=t}.call(this),function(){var v,n,s,o,r=Object.prototype.hasOwnProperty;o=this,(v=jQuery).fn.extend({chosen:function(i){return v.browser.msie&&("6.0"===v.browser.version||"7.0"===v.browser.version&&7===document.documentMode)?this:this.each(function(t){var e;if(!(e=v(this)).hasClass("chzn-done"))return e.data("chosen",new n(this,i))})}}),n=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,AbstractChosen),e.prototype.setup=function(){return this.form_field_jq=v(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},e.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},e.prototype.set_up_html=function(){var t,e,i,n;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),t=v("<div />",{id:this.container_id,class:"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?t.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):t.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(t),this.container=v("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),e=this.container.height(),i=this.f_width-s(this.dropdown),this.dropdown.css({width:i+"px",top:e+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),n=i-s(this.search_container)-s(this.search_field),this.search_field.css({width:n+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},e.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){return e.container_mousedown(t)}),this.container.mouseup(function(t){return e.container_mouseup(t)}),this.container.mouseenter(function(t){return e.mouse_enter(t)}),this.container.mouseleave(function(t){return e.mouse_leave(t)}),this.search_results.mouseup(function(t){return e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){return e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){return e.search_results_mouseout(t)}),this.form_field_jq.bind("liszt:updated",function(t){return e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){return e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){return e.container_mousedown(t)}),this.search_field.blur(function(t){return e.input_blur(t)}),this.search_field.keyup(function(t){return e.keyup_checker(t)}),this.search_field.keydown(function(t){return e.keydown_checker(t)}),this.search_field.focus(function(t){return e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){return e.choices_click(t)}):this.container.click(function(t){return t.preventDefault()})},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},e.prototype.container_mousedown=function(t){var e;if(!this.is_disabled)return e=null!=t&&v(t.target).hasClass("search-choice-close"),t&&"mousedown"===t.type&&!this.results_showing&&t.stopPropagation(),this.pending_destroy_click||e?this.pending_destroy_click=!1:(this.active_field?!this.is_multiple&&t&&(v(t.target)[0]===this.selected_item[0]||v(t.target).parents("a.chzn-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),v(document).click(this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},e.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},e.prototype.close_field=function(){return v(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},e.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(t){return v(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){var t,e,i,n,s;for(this.parsing=!0,this.results_data=o.SelectParser.select_to_array(this.form_field),this.is_multiple&&0<this.choices?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),t="",i=0,n=(s=this.results_data).length;i<n;i++)(e=s[i]).group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},e.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+v("<div />").text(t.label).html()+"</li>")},e.prototype.result_do_highlight=function(t){var e,i,n,s;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),(n=parseInt(this.search_results.css("maxHeight"),10))+(s=this.search_results.scrollTop())<=(e=(i=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<e-n?e-n:0);if(i<s)return this.search_results.scrollTop(i)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){var t;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);return t=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:t+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},e.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},e.prototype.set_tab_index=function(t){var e;if(this.form_field_jq.attr("tabindex"))return e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(t){var e;if((e=v(t.target).hasClass("active-result")?v(t.target):v(t.target).parents(".active-result").first()).length)return this.result_highlight=e,this.result_select(t),this.search_field.focus()},e.prototype.search_results_mouseover=function(t){var e;if(e=v(t.target).hasClass("active-result")?v(t.target):v(t.target).parents(".active-result").first())return this.result_do_highlight(e)},e.prototype.search_results_mouseout=function(t){if(v(t.target).hasClass("active-result"))return this.result_clear_highlight()},e.prototype.choices_click=function(t){if(t.preventDefault(),this.active_field&&!v(t.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()},e.prototype.choice_build=function(t){var e,i,n=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(e=this.container_id+"_c_"+t.array_index,this.choices+=1,i=t.disabled?'<li class="search-choice search-choice-disabled" id="'+e+'"><span>'+t.html+"</span></li>":'<li class="search-choice" id="'+e+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>',this.search_container.before(i),v("#"+e).find("a").first().click(function(t){return n.choice_destroy_link_click(t)}))},e.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),this.is_disabled?t.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(v(t.target)))},e.prototype.choice_destroy=function(t){if(this.result_deselect(t.attr("rel")))return this.choices-=1,this.show_search_field_default(),this.is_multiple&&0<this.choices&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove()},e.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},e.prototype.results_reset_cleanup=function(){return this.current_value=this.form_field_jq.val(),this.selected_item.find("abbr").remove()},e.prototype.result_select=function(t){var e,i,n,s;if(this.result_highlight)return i=(e=this.result_highlight).attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=e,this.selected_item.removeClass("chzn-default")),e.addClass("result-selected"),s=i.substr(i.lastIndexOf("_")+1),(n=this.results_data[s]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.is_multiple?this.choice_build(n):(this.selected_item.find("span").first().text(n.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!t.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()},e.prototype.result_activate=function(t){return t.addClass("active-result")},e.prototype.result_deactivate=function(t){return t.removeClass("active-result")},e.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,v("#"+this.container_id+"_o_"+t).removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1)return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')},e.prototype.winnow_results=function(){var t,e,i,n,s,o,r,a,l,h,c,d,u,p,f,g,m,y;for(this.no_results_clear(),l=0,h=this.search_field.val()===this.default_text?"":v("<div/>").text(v.trim(this.search_field.val())).html(),o=this.search_contains?"":"^",s=new RegExp(o+h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),u=new RegExp(h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=0,g=(y=this.results_data).length;p<g;p++)if(!(e=y[p]).disabled&&!e.empty)if(e.group)v("#"+e.dom_id).css("display","none");else if(!this.is_multiple||!e.selected){if(t=!1,a=e.dom_id,r=v("#"+a),s.test(e.html))t=!0,l+=1;else if((0<=e.html.indexOf(" ")||0===e.html.indexOf("["))&&(n=e.html.replace(/\[|\]/g,"").split(" ")).length)for(f=0,m=n.length;f<m;f++)i=n[f],s.test(i)&&(t=!0,l+=1);t?(d=h.length?(c=e.html.search(u),(d=e.html.substr(0,c+h.length)+"</em>"+e.html.substr(c+h.length)).substr(0,c)+"<em>"+d.substr(c)):e.html,r.html(d),this.result_activate(r),null!=e.group_array_index&&v("#"+this.results_data[e.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&a===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(r))}return l<1&&h.length?this.no_results(h):this.winnow_results_set_highlight()},e.prototype.winnow_results_clear=function(){var t,e,i,n,s;for(this.search_field.val(""),s=[],i=0,n=(e=this.search_results.find("li")).length;i<n;i++)t=e[i],(t=v(t)).hasClass("group-result")?s.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?s.push(void 0):s.push(this.result_activate(t));return s},e.prototype.winnow_results_set_highlight=function(){var t,e;if(!this.result_highlight&&null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},e.prototype.no_results=function(t){var e;return(e=v('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>')).find("span").first().html(t),this.search_results.append(e)},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var t,e;if(this.result_highlight?this.results_showing&&((e=this.result_highlight.nextAll("li.active-result").first())&&this.result_do_highlight(e)):(t=this.search_results.find("li.active-result").first())&&this.result_do_highlight(v(t)),!this.results_showing)return this.results_show()},e.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},e.prototype.search_field_scale=function(){var t,e,i,n,s,o,r,a;if(this.is_multiple){for(n="position:absolute; left: -1000px; top: -1000px; display:none;",r=o=0,a=(s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"]).length;r<a;r++)n+=(i=s[r])+":"+this.search_field.css(i)+";";return(e=v("<div />",{style:n})).text(this.search_field.val()),v("body").append(e),o=e.width()+25,e.remove(),o>this.f_width-10&&(o=this.f_width-10),this.search_field.css({width:o+"px"}),t=this.container.height(),this.dropdown.css({top:t+"px"})}},e.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();0<v("#"+t).length;)t+=this.generate_random_char();return t},e}(),s=function(t){return t.outerWidth()-t.width()},o.get_side_border_padding=s}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(i){var t=function(){if(i&&i.fn&&i.fn.select2&&i.fn.select2.amd)var t=i.fn.select2.amd;var e,s,h;return t&&t.requirejs||(t?s=t:t={},function(u){function p(t,e){return i.call(t,e)}function r(t,e){var i,n,s,o,r,a,l,h,c,d,u,p=e&&e.split("/"),f=x.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(r=(t=t.split("/")).length-1,x.nodeIdCompat&&C.test(t[r])&&(t[r]=t[r].replace(C,"")),t=p.slice(0,p.length-1).concat(t),c=0;c<t.length;c+=1)if("."===(u=t[c]))t.splice(c,1),c-=1;else if(".."===u){if(1===c&&(".."===t[2]||".."===t[0]))break;0<c&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&f){for(c=(i=t.split("/")).length;0<c;c-=1){if(n=i.slice(0,c).join("/"),p)for(d=p.length;0<d;d-=1)if((s=f[p.slice(0,d).join("/")])&&(s=s[n])){o=s,a=c;break}if(o)break;!l&&g&&g[n]&&(l=g[n],h=c)}!o&&l&&(o=l,a=h),o&&(i.splice(0,a,o),t=i.join("/"))}return t}function f(e,i){return function(){var t=n.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),l.apply(u,t.concat([e,i]))}}function g(e){return function(t){_[e]=t}}function m(t){if(p(b,t)){var e=b[t];delete b[t],w[t]=!0,o.apply(u,e)}if(!p(_,t)&&!p(w,t))throw new Error("No "+t);return _[t]}function a(t){var e,i=t?t.indexOf("!"):-1;return-1<i&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}var o,l,y,v,_={},b={},x={},w={},i=Object.prototype.hasOwnProperty,n=[].slice,C=/\.js$/;y=function(t,e){var i,n,s=a(t),o=s[0];return t=s[1],o&&(i=m(o=r(o,e))),o?t=i&&i.normalize?i.normalize(t,(n=e,function(t){return r(t,n)})):r(t,e):(o=(s=a(t=r(t,e)))[0],t=s[1],o&&(i=m(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},v={require:function(t){return f(t)},exports:function(t){var e=_[t];return void 0!==e?e:_[t]={}},module:function(t){return{id:t,uri:"",exports:_[t],config:(e=t,function(){return x&&x.config&&x.config[e]||{}})};var e}},o=function(t,e,i,n){var s,o,r,a,l,h,c=[],d=typeof i;if(n=n||t,"undefined"===d||"function"===d){for(e=!e.length&&i.length?["require","exports","module"]:e,l=0;l<e.length;l+=1)if("require"===(o=(a=y(e[l],n)).f))c[l]=v.require(t);else if("exports"===o)c[l]=v.exports(t),h=!0;else if("module"===o)s=c[l]=v.module(t);else if(p(_,o)||p(b,o)||p(w,o))c[l]=m(o);else{if(!a.p)throw new Error(t+" missing "+o);a.p.load(a.n,f(n,!0),g(o),{}),c[l]=_[o]}r=i?i.apply(_[t],c):void 0,t&&(s&&s.exports!==u&&s.exports!==_[t]?_[t]=s.exports:r===u&&h||(_[t]=r))}else t&&(_[t]=i)},e=s=l=function(t,e,i,n,s){if("string"==typeof t)return v[t]?v[t](e):m(y(t,e).f);if(!t.splice){if((x=t).deps&&l(x.deps,x.callback),!e)return;e.splice?(t=e,e=i,i=null):t=u}return e=e||function(){},"function"==typeof i&&(i=n,n=s),n?o(u,t,e,i):setTimeout(function(){o(u,t,e,i)},4),l},l.config=function(t){return l(t)},e._defined=_,(h=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),p(_,t)||p(b,t)||(b[t]=[t,e,i])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=s,t.define=h),t.define("almond",function(){}),t.define("jquery",[],function(){var t=i||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(o){function c(t){var e=t.prototype,i=[];for(var n in e){"function"==typeof e[n]&&"constructor"!==n&&i.push(n)}return i}var t={Extend:function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var s in e)n.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},Decorate:function(n,s){function o(){var t=Array.prototype.unshift,e=s.prototype.constructor.length,i=n.prototype.constructor;0<e&&(t.call(arguments,n.prototype.constructor),i=s.prototype.constructor),i.apply(this,arguments)}var t=c(s),e=c(n);s.displayName=n.displayName,o.prototype=new function(){this.constructor=o};for(var i=0;i<e.length;i++){var r=e[i];o.prototype[r]=n.prototype[r]}for(var a=function(t){var e=function(){};t in o.prototype&&(e=o.prototype[t]);var i=s.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),i.apply(this,arguments)}},l=0;l<t.length;l++){var h=t[l];o.prototype[h]=a(h)}return o}},e=function(){this.listeners={}};return e.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},e.prototype.trigger=function(t){var e=Array.prototype.slice,i=e.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),(i[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},t.Observable=e,t.generateChars=function(t){for(var e="",i=0;i<t;i++){e+=Math.floor(36*Math.random()).toString(36)}return e},t.bind=function(t,e){return function(){t.apply(e,arguments)}},t._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var s=0;s<i.length;s++){var o=i[s];(o=o.substring(0,1).toLowerCase()+o.substring(1))in n||(n[o]={}),s==i.length-1&&(n[o]=t[e]),n=n[o]}delete t[e]}}return t},t.hasScroll=function(t,e){var i=o(e),n=e.style.overflowX,s=e.style.overflowY;return(n!==s||"hidden"!==s&&"visible"!==s)&&("scroll"===n||"scroll"===s||(i.innerHeight()<e.scrollHeight||i.innerWidth()<e.scrollWidth))},t.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},t.appendMany=function(t,e){if("1.7"===o.fn.jquery.substr(0,3)){var i=o();o.map(e,function(t){i=i.add(t)}),e=i}t.append(e)},t}),t.define("select2/results",["jquery","./utils"],function(u,t){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=u('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=u('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),n=this.options.get("translations").get(t.message);i.append(e(n(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],s=this.option(n);e.push(s)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(t){var n=u.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=u(this),e=u.data(this,"data"),i=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<u.inArray(i,n)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},i=this.option(e);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var n in t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]),i){var s=i[n];e.setAttribute(n,s)}if(t.children){var o=u(e),r=document.createElement("strong");r.className="select2-results__group",u(r),this.template(t,r);for(var a=[],l=0;l<t.children.length;l++){var h=t.children[l],c=this.option(h);a.push(c)}var d=u("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(a),o.append(r),o.append(d)}else this.template(t,e);return u.data(e,"data",t),e},n.prototype.bind=function(e,t){var l=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){l.clear(),l.append(t.data),e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("results:append",function(t){l.append(t.data),e.isOpen()&&l.setClasses()}),e.on("query",function(t){l.hideMessages(),l.showLoading(t)}),e.on("select",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(l.setClasses(),l.highlightFirstItem())}),e.on("open",function(){l.$results.attr("aria-expanded","true"),l.$results.attr("aria-hidden","false"),l.setClasses(),l.ensureHighlightVisible()}),e.on("close",function(){l.$results.attr("aria-expanded","false"),l.$results.attr("aria-hidden","true"),l.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=l.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=l.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?l.trigger("close",{}):l.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var n=i-1;0===t.length&&(n=0);var s=e.eq(n);s.trigger("mouseenter");var o=l.$results.offset().top,r=s.offset().top,a=l.$results.scrollTop()+(r-o);0===n?l.$results.scrollTop(0):r-o<0&&l.$results.scrollTop(a)}}),e.on("results:next",function(){var t=l.getHighlightedResults(),e=l.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var n=e.eq(i);n.trigger("mouseenter");var s=l.$results.offset().top+l.$results.outerHeight(!1),o=n.offset().top+n.outerHeight(!1),r=l.$results.scrollTop()+o-s;0===i?l.$results.scrollTop(0):s<o&&l.$results.scrollTop(r)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){l.displayMessage(t)}),u.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=l.$results.scrollTop(),i=l.$results.get(0).scrollHeight-e+t.deltaY,n=0<t.deltaY&&e-t.deltaY<=0,s=t.deltaY<0&&i<=l.$results.height();n?(l.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):s&&(l.$results.scrollTop(l.$results.get(0).scrollHeight-l.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=u(this),i=e.data("data");return"true"===e.attr("aria-selected")?void(l.options.get("multiple")?l.trigger("unselect",{originalEvent:t,data:i}):l.trigger("close",{})):void l.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=u(this).data("data");l.getHighlightedResults().removeClass("select2-results__option--highlighted"),l.trigger("results:focus",{data:e,element:u(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),i=this.$results.offset().top,n=t.offset().top,s=this.$results.scrollTop()+(n-i),o=n-i;s-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(s)}},n.prototype.template=function(t,e){var i=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),s=i(t,e);null==s?e.style.display="none":"string"==typeof s?e.innerHTML=n(s):u(e).append(s)},n}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(i,t,s){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=i('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t},n.prototype.bind=function(t,e){var i=this,n=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===s.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",n),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),t.on("disable",function(){i.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||i.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},n.prototype._attachCloseHandler=function(t){i(document.body).on("mousedown.select2."+t.id,function(t){var e=i(t.target).closest(".select2");i(".select2.select2-container--open").each(function(){var t=i(this);this!=e[0]&&t.data("element").select2("close")})})},n.prototype._detachCloseHandler=function(t){i(document.body).off("mousedown.select2."+t.id)},n.prototype.position=function(t,e){e.find(".selection").append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){function s(){s.__super__.constructor.apply(this,arguments)}return i.Extend(s,e),s.prototype.render=function(){var t=s.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},s.prototype.bind=function(e,t){var i=this;s.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||i.$selection.focus()}),e.on("selection:update",function(t){i.update(t.data)})},s.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},s.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},s.prototype.selectionContainer=function(){return t("<span></span>")},s.prototype.update=function(t){if(0!==t.length){var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n),i.prop("title",e.title||e.text)}else this.clear()},s}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,a){function s(t,e){s.__super__.constructor.apply(this,arguments)}return a.Extend(s,t),s.prototype.render=function(){var t=s.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},s.prototype.bind=function(t,e){var i=this;s.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){i.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!i.options.get("disabled")){var e=n(this).parent().data("data");i.trigger("unselect",{originalEvent:t,data:e})}})},s.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},s.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},s.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},s.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var n=t[i],s=this.selectionContainer(),o=this.display(n,s);s.append(o),s.prop("title",n.title||n.text),s.data("data",n),e.push(s)}var r=this.$selection.find(".select2-selection__rendered");a.appendMany(r,e)}},s}),t.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e}),t.define("select2/selection/allowClear",["jquery","../keys"],function(n,s){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),s=0;s<n.length;s++){var o={data:n[s]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},t.prototype._handleKeyboardClear=function(t,e,i){i.isOpen()||(e.which==s.DELETE||e.which==s.BACKSPACE)&&this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(0<this.$selection.find(".select2-selection__placeholder").length||0===e.length)){var i=n('<span class="select2-selection__clear">&times;</span>');i.data("data",e),this.$selection.find(".select2-selection__rendered").prepend(i)}},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,r){function e(t,e,i){t.call(this,e,i)}return e.prototype.render=function(t){var e=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=e,this.$search=e.find("input");var i=t.call(this);return this._transferTabIndex(),i},e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("open",function(){n.$search.trigger("focus")}),e.on("close",function(){n.$search.val(""),n.$search.removeAttr("aria-activedescendant"),n.$search.trigger("focus")}),e.on("enable",function(){n.$search.prop("disabled",!1),n._transferTabIndex()}),e.on("disable",function(){n.$search.prop("disabled",!0)}),e.on("focus",function(t){n.$search.trigger("focus")}),e.on("results:focus",function(t){n.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){n.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){n._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented(),t.which===r.BACKSPACE&&""===n.$search.val()){var e=n.$searchContainer.prev(".select2-selection__choice");if(0<e.length){var i=e.data("data");n.searchRemoveChoice(i),t.preventDefault()}}});var s=document.documentMode,o=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return o?void n.$selection.off("input.search input.searchcheck"):void n.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(o&&"input"===t.type)n.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=r.SHIFT&&e!=r.CTRL&&e!=r.ALT&&e!=r.TAB&&n.handleSearch(t)}})},e.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},e.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},e.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},e}),t.define("select2/selection/eventRelay",["jquery"],function(r){function t(){}return t.prototype.bind=function(t,e,i){var n=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,e,i),e.on("*",function(t,e){if(-1!==r.inArray(t,s)){e=e||{};var i=r.Event("select2:"+t,{params:e});n.$element.trigger(i),-1!==r.inArray(t,o)&&(e.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,i){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var e=i(t);n._cache[t]=e}return new n(n._cache[t])},n}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(n){function i(t,e){i.__super__.constructor.call(this)}return n.Extend(i,n.Observable),i.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},i.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},i.prototype.bind=function(t,e){},i.prototype.destroy=function(){},i.prototype.generateResultId=function(t,e){var i=t.id+"-result-";return(i+=n.generateChars(4))+(null!=e.id?"-"+e.id.toString():"-"+n.generateChars(4))},i}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,e,a){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var i=[],n=this;this.$element.find(":selected").each(function(){var t=a(this),e=n.item(t);i.push(e)}),t(i)},i.prototype.select=function(s){var o=this;if(s.selected=!0,a(s.element).is("option"))return s.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];(s=[s]).push.apply(s,t);for(var i=0;i<s.length;i++){var n=s[i].id;-1===a.inArray(n,e)&&e.push(n)}o.$element.val(e),o.$element.trigger("change")});else{var t=s.id;this.$element.val(t),this.$element.trigger("change")}},i.prototype.unselect=function(s){var o=this;if(this.$element.prop("multiple"))return s.selected=!1,a(s.element).is("option")?(s.element.selected=!1,void this.$element.trigger("change")):void this.current(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i].id;n!==s.id&&-1===a.inArray(n,e)&&e.push(n)}o.$element.val(e),o.$element.trigger("change")})},i.prototype.bind=function(t,e){var i=this;(this.container=t).on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){a.removeData(this,"data")})},i.prototype.query=function(n,t){var s=[],o=this;this.$element.children().each(function(){var t=a(this);if(t.is("option")||t.is("optgroup")){var e=o.item(t),i=o.matches(n,e);null!==i&&s.push(i)}}),t({results:s})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=a(e),n=this._normalizeItem(t);return n.element=e,a.data(e,"data",n),i},i.prototype.item=function(t){var e={};if(null!=(e=a.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),n=[],s=0;s<i.length;s++){var o=a(i[s]),r=this.item(o);n.push(r)}e.children=n}return(e=this._normalizeItem(e)).element=t[0],a.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){a.isPlainObject(t)||(t={id:t,text:t});return null!=(t=a.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),a.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,f,g){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return f.Extend(n,t),n.prototype.select=function(i){var t=this.$element.find("option").filter(function(t,e){return e.value==i.id.toString()});0===t.length&&(t=this.option(i),this.addOptions(t)),n.__super__.select.call(this,i)},n.prototype.convertToOptions=function(t){function e(t){return function(){return g(this).val()==t.id}}for(var i=this,n=this.$element.find("option"),s=n.map(function(){return i.item(g(this)).id}).get(),o=[],r=0;r<t.length;r++){var a=this._normalizeItem(t[r]);if(0<=g.inArray(a.id,s)){var l=n.filter(e(a)),h=this.item(l),c=g.extend(!0,{},a,h),d=this.option(c);l.replaceWith(d)}else{var u=this.option(a);if(a.children){var p=this.convertToOptions(a.children);f.appendMany(u,p)}o.push(u)}}return o},n}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,o){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return o.extend({},t,{q:t.term})},transport:function(t,e,i){var n=o.ajax(t);return n.then(e),n.fail(i),n}};return o.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(i,n){function t(){var t=e.transport(e,function(t){var e=s.processResults(t,i);s.options.get("debug")&&window.console&&console.error&&(e&&e.results&&o.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(e)},function(){t.status&&"0"===t.status||s.trigger("results:message",{message:"errorLoading"})});s._request=t}var s=this;null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=o.extend({type:"GET"},this.ajaxOptions);"function"==typeof e.url&&(e.url=e.url.call(this.$element,i)),"function"==typeof e.data&&(e.data=e.data.call(this.$element,i)),this.ajaxOptions.delay&&null!=i.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},i}),t.define("select2/data/tags",["jquery"],function(c){function t(t,e,i){var n=i.get("tags"),s=i.get("createTag");void 0!==s&&(this.createTag=s);var o=i.get("insertTag");if(void 0!==o&&(this.insertTag=o),t.call(this,e,i),c.isArray(n))for(var r=0;r<n.length;r++){var a=n[r],l=this._normalizeItem(a),h=this.option(l);this.$element.append(h)}}return t.prototype.query=function(t,h,c){var d=this;return this._removeOldTags(),null==h.term||null!=h.page?void t.call(this,h,c):void t.call(this,h,function t(e,i){for(var n=e.results,s=0;s<n.length;s++){var o=n[s],r=null!=o.children&&!t({results:o.children},!0);if(o.text===h.term||r)return!i&&(e.data=n,void c(e))}if(i)return!0;var a=d.createTag(h);if(null!=a){var l=d.option(a);l.attr("data-select2-tag",!0),d.addOptions([l]),d.insertTag(n,a)}e.results=n,c(e)})},t.prototype.createTag=function(t,e){var i=c.trim(e.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(t,e,i){e.unshift(i)},t.prototype._removeOldTags=function(t){(this._lastTag,this.$element.find("option[data-select2-tag]")).each(function(){this.selected||c(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(d){function t(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,e,i){var s=this;e.term=e.term||"";var n=this.tokenizer(e,this.options,function(t){var e,i=s._normalizeItem(t);if(!s.$element.find("option").filter(function(){return d(this).val()===i.id}).length){var n=s.option(i);n.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([n])}e=i,s.trigger("select",{data:e})});n.term!==e.term&&(this.$search.length&&(this.$search.val(n.term),this.$search.focus()),e.term=n.term),t.call(this,e,i)},t.prototype.tokenizer=function(t,e,i,n){for(var s=i.get("tokenSeparators")||[],o=e.term,r=0,a=this.createTag||function(t){return{id:t.term,text:t.term}};r<o.length;){var l=o[r];if(-1!==d.inArray(l,s)){var h=o.substr(0,r),c=a(d.extend({},e,{term:h}));null!=c?(n(c),o=o.substr(r+1)||"",r=0):r++}else r++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(i,n,s){var o=this;this.current(function(t){var e=null!=t?t.length:0;return 0<o.maximumSelectionLength&&e>=o.maximumSelectionLength?void o.trigger("results:message",{message:"maximumSelected",args:{maximum:o.maximumSelectionLength}}):void i.call(o,n,s)})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(s,t){function e(){}return e.prototype.render=function(t){var e=t.call(this),i=s('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),e.prepend(i),e},e.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),this.$search.on("keydown",function(t){n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){s(this).off("keyup")}),this.$search.on("keyup input",function(t){n.handleSearch(t)}),e.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus(),window.setTimeout(function(){n.$search.focus()},0)}),e.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val("")}),e.on("focus",function(){e.isOpen()&&n.$search.focus()}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(n.showSearch(t)?n.$searchContainer.removeClass("select2-search--hide"):n.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;0<=n;n--){var s=e[n];this.placeholder.id===s.id&&i.splice(n,1)}return i},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(s){function t(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("query",function(t){n.lastParams=t,n.loading=!0}),e.on("query:append",function(t){n.lastParams=t,n.loading=!0}),this.$results.on("scroll",function(){var t=s.contains(document.documentElement,n.$loadingMore[0]);if(!n.loading&&t){var e=n.$results.offset().top+n.$results.outerHeight(!1);n.$loadingMore.offset().top+n.$loadingMore.outerHeight(!1)<=e+50&&n.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=s.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=s('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(f,a){function t(t,e,i){this.$dropdownParent=i.get("dropdownParent")||f(document.body),t.call(this,e,i)}return t.prototype.bind=function(t,e,i){var n=this,s=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),s||(s=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},t.prototype.render=function(t){var e=f("<span></span>"),i=t.call(this);return e.append(i),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._attachPositioningHandler=function(t,e){var i=this,n="scroll.select2."+e.id,s="resize.select2."+e.id,o="orientationchange.select2."+e.id,r=this.$container.parents().filter(a.hasScroll);r.each(function(){f(this).data("select2-scroll-position",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),r.on(n,function(t){var e=f(this).data("select2-scroll-position");f(this).scrollTop(e.y)}),f(window).on(n+" "+s+" "+o,function(t){i._positionDropdown(),i._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var i="scroll.select2."+e.id,n="resize.select2."+e.id,s="orientationchange.select2."+e.id;this.$container.parents().filter(a.hasScroll).off(i),f(window).off(i+" "+n+" "+s)},t.prototype._positionDropdown=function(){var t=f(window),e=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),n=null,s=this.$container.offset();s.bottom=s.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=s.top,o.bottom=s.top+o.height;var r=this.$dropdown.outerHeight(!1),a=t.scrollTop(),l=t.scrollTop()+t.height(),h=a<s.top-r,c=l>s.bottom+r,d={left:s.left,top:o.bottom},u=this.$dropdownParent;"static"===u.css("position")&&(u=u.offsetParent());var p=u.offset();d.top-=p.top,d.left-=p.left,e||i||(n="below"),c||!h||e?!h&&c&&e&&(n="below"):n="above",("above"==n||e&&"below"!==n)&&(d.top=o.top-p.top-r),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(d)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var i=0,n=0;n<e.length;n++){var s=e[n];s.children?i+=t(s.children):i++}return i}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(t){n._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var i=e.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var n=this.getHighlightedResults();if(!(n.length<1)){var s=n.data("data");null!=s.element&&s.element.selected||null==s.element&&s.selected||this.trigger("select",{data:s})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:e})},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(f,g,m,y,v,_,b,x,w,C,k,e,S,T,E,M,z,A,D,L,$,O,I,P,R,H,N,F,t){function i(){this.reset()}return i.prototype.apply=function(e){if(null==(e=f.extend(!0,{},this.defaults,e)).dataAdapter){if(null!=e.ajax?e.dataAdapter=E:null!=e.data?e.dataAdapter=T:e.dataAdapter=S,0<e.minimumInputLength&&(e.dataAdapter=C.Decorate(e.dataAdapter,A)),0<e.maximumInputLength&&(e.dataAdapter=C.Decorate(e.dataAdapter,D)),0<e.maximumSelectionLength&&(e.dataAdapter=C.Decorate(e.dataAdapter,L)),e.tags&&(e.dataAdapter=C.Decorate(e.dataAdapter,M)),(null!=e.tokenSeparators||null!=e.tokenizer)&&(e.dataAdapter=C.Decorate(e.dataAdapter,z)),null!=e.query){var t=g(e.amdBase+"compat/query");e.dataAdapter=C.Decorate(e.dataAdapter,t)}if(null!=e.initSelection){var i=g(e.amdBase+"compat/initSelection");e.dataAdapter=C.Decorate(e.dataAdapter,i)}}if(null==e.resultsAdapter&&(e.resultsAdapter=m,null!=e.ajax&&(e.resultsAdapter=C.Decorate(e.resultsAdapter,P)),null!=e.placeholder&&(e.resultsAdapter=C.Decorate(e.resultsAdapter,I)),e.selectOnClose&&(e.resultsAdapter=C.Decorate(e.resultsAdapter,N))),null==e.dropdownAdapter){if(e.multiple)e.dropdownAdapter=$;else{var n=C.Decorate($,O);e.dropdownAdapter=n}if(0!==e.minimumResultsForSearch&&(e.dropdownAdapter=C.Decorate(e.dropdownAdapter,H)),e.closeOnSelect&&(e.dropdownAdapter=C.Decorate(e.dropdownAdapter,F)),null!=e.dropdownCssClass||null!=e.dropdownCss||null!=e.adaptDropdownCssClass){var s=g(e.amdBase+"compat/dropdownCss");e.dropdownAdapter=C.Decorate(e.dropdownAdapter,s)}e.dropdownAdapter=C.Decorate(e.dropdownAdapter,R)}if(null==e.selectionAdapter){if(e.multiple?e.selectionAdapter=v:e.selectionAdapter=y,null!=e.placeholder&&(e.selectionAdapter=C.Decorate(e.selectionAdapter,_)),e.allowClear&&(e.selectionAdapter=C.Decorate(e.selectionAdapter,b)),e.multiple&&(e.selectionAdapter=C.Decorate(e.selectionAdapter,x)),null!=e.containerCssClass||null!=e.containerCss||null!=e.adaptContainerCssClass){var o=g(e.amdBase+"compat/containerCss");e.selectionAdapter=C.Decorate(e.selectionAdapter,o)}e.selectionAdapter=C.Decorate(e.selectionAdapter,w)}if("string"==typeof e.language)if(0<e.language.indexOf("-")){var r=e.language.split("-")[0];e.language=[e.language,r]}else e.language=[e.language];if(f.isArray(e.language)){var a=new k;e.language.push("en");for(var l=e.language,h=0;h<l.length;h++){var c=l[h],d={};try{d=k.loadPath(c)}catch(t){try{c=this.defaults.amdLanguageBase+c,d=k.loadPath(c)}catch(t){e.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+c+'" could not be automatically loaded. A fallback will be used instead.');continue}}a.extend(d)}e.translations=a}else{var u=k.loadPath(this.defaults.amdLanguageBase+"en"),p=new k(e.language);p.extend(u),e.translations=p}return e},i.prototype.reset=function(){function a(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:C.escapeMarkup,language:t,matcher:function t(e,i){if(""===f.trim(e.term))return i;if(i.children&&0<i.children.length){for(var n=f.extend(!0,{},i),s=i.children.length-1;0<=s;s--)null==t(e,i.children[s])&&n.children.splice(s,1);return 0<n.children.length?n:t(e,n)}var o=a(i.text).toUpperCase(),r=a(e.term).toUpperCase();return-1<o.indexOf(r)?i:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},i.prototype.set=function(t,e){var i={};i[f.camelCase(t)]=e;var n=C._convertData(i);f.extend(this.defaults,n)},new i}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,o,s,r){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),this.options=s.apply(this.options),e&&e.is("input")){var i=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,i)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var i;i=o.fn.jquery&&"1."==o.fn.jquery.substr(0,2)&&t[0].dataset?o.extend(!0,{},t[0].dataset,t.data()):t.data();var n=o.extend(!0,{},i);for(var s in n=r._convertData(n))-1<o.inArray(s,e)||(o.isPlainObject(this.options[s])?o.extend(this.options[s],n[s]):this.options[s]=n[s]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(s,h,i,n){var c=function(t,e){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new h(e,t),c.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var n=this.options.get("dataAdapter");this.dataAdapter=new n(t,this.options);var s=this.render();this._placeContainer(s);var o=this.options.get("selectionAdapter");this.selection=new o(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var r=this.options.get("dropdownAdapter");this.dropdown=new r(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var a=this.options.get("resultsAdapter");this.results=new a(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){l.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(c,i.Observable),c.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},c.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},c.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var s=t.outerWidth(!1);return s<=0?"auto":s+"px"}if("style"!=e)return e;var o=t.attr("style");if("string"!=typeof o)return null;for(var r=o.split(";"),a=0,l=r.length;a<l;a+=1){var h=r[a].replace(/\s/g,"").match(i);if(null!==h&&1<=h.length)return h[1]}return null},c.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},c.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){s.each(t,e._syncA),s.each(t,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},c.prototype._registerDataEvents=function(){var i=this;this.dataAdapter.on("*",function(t,e){i.trigger(t,e)})},c.prototype._registerSelectionEvents=function(){var i=this,n=["toggle","focus"];this.selection.on("toggle",function(){i.toggleDropdown()}),this.selection.on("focus",function(t){i.focus(t)}),this.selection.on("*",function(t,e){-1===s.inArray(t,n)&&i.trigger(t,e)})},c.prototype._registerDropdownEvents=function(){var i=this;this.dropdown.on("*",function(t,e){i.trigger(t,e)})},c.prototype._registerResultsEvents=function(){var i=this;this.results.on("*",function(t,e){i.trigger(t,e)})},c.prototype._registerEvents=function(){var i=this;this.on("open",function(){i.$container.addClass("select2-container--open")}),this.on("close",function(){i.$container.removeClass("select2-container--open")}),this.on("enable",function(){i.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){i.$container.addClass("select2-container--disabled")}),this.on("blur",function(){i.$container.removeClass("select2-container--focus")}),this.on("query",function(e){i.isOpen()||i.trigger("open",{}),this.dataAdapter.query(e,function(t){i.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){i.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;i.isOpen()?e===n.ESC||e===n.TAB||e===n.UP&&t.altKey?(i.close(),t.preventDefault()):e===n.ENTER?(i.trigger("results:select",{}),t.preventDefault()):e===n.SPACE&&t.ctrlKey?(i.trigger("results:toggle",{}),t.preventDefault()):e===n.UP?(i.trigger("results:previous",{}),t.preventDefault()):e===n.DOWN&&(i.trigger("results:next",{}),t.preventDefault()):(e===n.ENTER||e===n.SPACE||e===n.DOWN&&t.altKey)&&(i.open(),t.preventDefault())})},c.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},c.prototype._syncSubtree=function(t,e){var i=!1,n=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var s=0;s<e.addedNodes.length;s++){e.addedNodes[s].selected&&(i=!0)}else e.removedNodes&&0<e.removedNodes.length&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})}},c.prototype.trigger=function(t,e){var i=c.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in n){var s=n[t],o={prevented:!1,name:t,args:e};if(i.call(this,s,o),o.prevented)return void(e.prevented=!0)}i.call(this,t,e)},c.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},c.prototype.open=function(){this.isOpen()||this.trigger("query",{})},c.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},c.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},c.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},c.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},c.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},c.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},c.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];s.isArray(e)&&(e=s.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("change")},c.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},c.prototype.render=function(){var t=s('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},c}),t.define("jquery-mousewheel",["jquery"],function(t){return t}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(s,t,o,e){if(null==s.fn.select2){var r=["open","close","destroy"];s.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=s.extend(!0,{},e);new o(s(this),t)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var i,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=s(this).data("select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=t[e].apply(t,n)}),-1<s.inArray(e,r)?this:i}}return null==s.fn.select2.defaults&&(s.fn.select2.defaults=e),o}),{define:t.define,require:t.require}}(),e=t.require("jquery.select2");return i.fn.select2.amd=t,e}),function(v){v.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},v.browser.msie&&v.browser.version<7?v.support.selectOpacity=!1:v.support.selectOpacity=!0,v.fn.uniform=function(m){m=v.extend(v.uniform.options,m);var t=this;function y(t){1<(t=v(t).get()).length?v.each(t,function(t,e){v.uniform.elements.push(e)}):v.uniform.elements.push(t)}return 0!=m.resetSelector&&v(m.resetSelector).mouseup(function(){setTimeout(function(){v.uniform.update(t)},10)}),v.uniform.restore=function(e){null==e&&(e=v(v.uniform.elements)),v(e).each(function(){v(this).is(":checkbox")?v(this).unwrap().unwrap():v(this).is("select")?(v(this).siblings("span").remove(),v(this).unwrap()):v(this).is(":radio")?v(this).unwrap().unwrap():v(this).is(":file")?(v(this).siblings("span").remove(),v(this).unwrap()):v(this).is("button, :submit, :reset, a, input[type='button']")&&v(this).unwrap().unwrap(),v(this).unbind(".uniform"),v(this).css("opacity","1");var t=v.inArray(v(e),v.uniform.elements);v.uniform.elements.splice(t,1)})},v.uniform.noSelect=function(t){function e(){return!1}v(t).each(function(){this.onselectstart=this.ondragstart=e,v(this).mousedown(e).css({MozUserSelect:"none"})})},v.uniform.update=function(s){null==s&&(s=v(v.uniform.elements)),(s=v(s)).each(function(){var t=v(this);if(t.is("select")){var e=t.siblings("span");(i=t.parent("div")).removeClass(m.hoverClass+" "+m.focusClass+" "+m.activeClass),e.html(t.find(":selected").html()),t.is(":disabled")?i.addClass(m.disabledClass):i.removeClass(m.disabledClass)}else if(t.is(":checkbox")){e=t.closest("span");(i=t.closest("div")).removeClass(m.hoverClass+" "+m.focusClass+" "+m.activeClass),e.removeClass(m.checkedClass),t.is(":checked")&&e.addClass(m.checkedClass),t.is(":disabled")?i.addClass(m.disabledClass):i.removeClass(m.disabledClass)}else if(t.is(":radio")){e=t.closest("span");(i=t.closest("div")).removeClass(m.hoverClass+" "+m.focusClass+" "+m.activeClass),e.removeClass(m.checkedClass),t.is(":checked")&&e.addClass(m.checkedClass),t.is(":disabled")?i.addClass(m.disabledClass):i.removeClass(m.disabledClass)}else if(t.is(":file")){var i=t.parent("div"),n=t.siblings(m.filenameClass);btnTag=t.siblings(m.fileBtnClass),i.removeClass(m.hoverClass+" "+m.focusClass+" "+m.activeClass),n.text(t.val()),t.is(":disabled")?i.addClass(m.disabledClass):i.removeClass(m.disabledClass)}else{if(t.is(":submit")||t.is(":reset")||t.is("button")||t.is("a")||s.is("input[type=button]"))(i=t.closest("div")).removeClass(m.hoverClass+" "+m.focusClass+" "+m.activeClass),t.is(":disabled")?i.addClass(m.disabledClass):i.removeClass(m.disabledClass)}})},this.each(function(){if(v.support.selectOpacity){var t=v(this);t.is("select")?1!=t.attr("multiple")&&(null==t.attr("size")||t.attr("size")<=1)&&function(t){var e=v(t),i=v("<div />"),n=v("<span />");"none"==!e.css("display")&&m.autoHide&&i.hide(),i.addClass(m.selectClass),m.useID&&""!=t.attr("id")&&i.attr("id",m.idPrefix+"-"+t.attr("id"));var s=t.find(":selected:first");0==s.length&&(s=t.find("option:first")),n.html(s.html()),t.css("opacity",0),t.wrap(i),t.before(n),i=t.parent("div"),n=t.siblings("span"),t.bind({"change.uniform":function(){n.text(t.find(":selected").html()),i.removeClass(m.activeClass)},"focus.uniform":function(){i.addClass(m.focusClass)},"blur.uniform":function(){i.removeClass(m.focusClass),i.removeClass(m.activeClass)},"mousedown.uniform touchbegin.uniform":function(){i.addClass(m.activeClass)},"mouseup.uniform touchend.uniform":function(){i.removeClass(m.activeClass)},"click.uniform touchend.uniform":function(){i.removeClass(m.activeClass)},"mouseenter.uniform":function(){i.addClass(m.hoverClass)},"mouseleave.uniform":function(){i.removeClass(m.hoverClass),i.removeClass(m.activeClass)},"keyup.uniform":function(){n.text(t.find(":selected").html())}}),v(t).attr("disabled")&&i.addClass(m.disabledClass),v.uniform.noSelect(n),y(t)}(t):t.is(":checkbox")?(p=v(u=t),f=v("<div />"),g=v("<span />"),"none"==!p.css("display")&&m.autoHide&&f.hide(),f.addClass(m.checkboxClass),m.useID&&""!=u.attr("id")&&f.attr("id",m.idPrefix+"-"+u.attr("id")),v(u).wrap(f),v(u).wrap(g),g=u.parent(),f=g.parent(),v(u).css("opacity",0).bind({"focus.uniform":function(){f.addClass(m.focusClass)},"blur.uniform":function(){f.removeClass(m.focusClass)},"click.uniform touchend.uniform":function(){v(u).attr("checked")?g.addClass(m.checkedClass):g.removeClass(m.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){f.addClass(m.activeClass)},"mouseup.uniform touchend.uniform":function(){f.removeClass(m.activeClass)},"mouseenter.uniform":function(){f.addClass(m.hoverClass)},"mouseleave.uniform":function(){f.removeClass(m.hoverClass),f.removeClass(m.activeClass)}}),v(u).attr("checked")&&g.addClass(m.checkedClass),v(u).attr("disabled")&&f.addClass(m.disabledClass),y(u)):t.is(":radio")?(h=v(l=t),c=v("<div />"),d=v("<span />"),"none"==!h.css("display")&&m.autoHide&&c.hide(),c.addClass(m.radioClass),m.useID&&""!=l.attr("id")&&c.attr("id",m.idPrefix+"-"+l.attr("id")),v(l).wrap(c),v(l).wrap(d),d=l.parent(),c=d.parent(),v(l).css("opacity",0).bind({"focus.uniform":function(){c.addClass(m.focusClass)},"blur.uniform":function(){c.removeClass(m.focusClass)},"click.uniform touchend.uniform":function(){if(v(l).attr("checked")){var t=m.radioClass.split(" ")[0];v("."+t+" span."+m.checkedClass+":has([name='"+v(l).attr("name")+"'])").removeClass(m.checkedClass),d.addClass(m.checkedClass)}else d.removeClass(m.checkedClass)},"mousedown.uniform touchend.uniform":function(){v(l).is(":disabled")||c.addClass(m.activeClass)},"mouseup.uniform touchbegin.uniform":function(){c.removeClass(m.activeClass)},"mouseenter.uniform touchend.uniform":function(){c.addClass(m.hoverClass)},"mouseleave.uniform":function(){c.removeClass(m.hoverClass),c.removeClass(m.activeClass)}}),v(l).attr("checked")&&d.addClass(m.checkedClass),v(l).attr("disabled")&&c.addClass(m.disabledClass),y(l)):t.is(":file")?function(t){var e=v(t),i=v("<div />"),n=v("<span>"+m.fileDefaultText+"</span>"),s=v("<span>"+m.fileBtnText+"</span>");if("none"==!e.css("display")&&m.autoHide&&i.hide(),i.addClass(m.fileClass),n.addClass(m.filenameClass),s.addClass(m.fileBtnClass),m.useID&&""!=e.attr("id")&&i.attr("id",m.idPrefix+"-"+e.attr("id")),e.wrap(i),e.after(s),e.after(n),i=e.closest("div"),n=e.siblings("."+m.filenameClass),s=e.siblings("."+m.fileBtnClass),!e.attr("size")){var o=i.width();e.attr("size",o/10)}var r=function(){var t=e.val();t=""===t?m.fileDefaultText:(t=t.split(/[\/\\]+/))[t.length-1],n.text(t)};r(),e.css("opacity",0).bind({"focus.uniform":function(){i.addClass(m.focusClass)},"blur.uniform":function(){i.removeClass(m.focusClass)},"mousedown.uniform":function(){v(t).is(":disabled")||i.addClass(m.activeClass)},"mouseup.uniform":function(){i.removeClass(m.activeClass)},"mouseenter.uniform":function(){i.addClass(m.hoverClass)},"mouseleave.uniform":function(){i.removeClass(m.hoverClass),i.removeClass(m.activeClass)}}),v.browser.msie?e.bind("click.uniform.ie7",function(){setTimeout(r,0)}):e.bind("change.uniform",r),e.attr("disabled")&&i.addClass(m.disabledClass),v.uniform.noSelect(n),v.uniform.noSelect(s),y(t)}(t):t.is(":text, :password, input[type='email']")?(a=t,$el=v(a),$el.addClass($el.attr("type")),y(a)):t.is("textarea")?(v(r=t).addClass("uniform"),y(r)):(t.is("a")||t.is(":submit")||t.is(":reset")||t.is("button")||t.is("input[type=button]"))&&(n=v(i=t),s=v("<div>"),o=v("<span>"),s.addClass(m.buttonClass),m.useID&&""!=n.attr("id")&&s.attr("id",m.idPrefix+"-"+n.attr("id")),n.is("a")||n.is("button")?e=n.text():(n.is(":submit")||n.is(":reset")||n.is("input[type=button]"))&&(e=n.attr("value")),e=""==e?n.is(":reset")?"Reset":"Submit":e,o.html(e),n.css("opacity",0),n.wrap(s),n.wrap(o),s=n.closest("div"),o=n.closest("span"),n.is(":disabled")&&s.addClass(m.disabledClass),s.bind({"mouseenter.uniform":function(){s.addClass(m.hoverClass)},"mouseleave.uniform":function(){s.removeClass(m.hoverClass),s.removeClass(m.activeClass)},"mousedown.uniform touchbegin.uniform":function(){s.addClass(m.activeClass)},"mouseup.uniform touchend.uniform":function(){s.removeClass(m.activeClass)},"click.uniform touchend.uniform":function(t){if(v(t.target).is("span")||v(t.target).is("div"))if(i[0].dispatchEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),i[0].dispatchEvent(e)}else i[0].click()}}),i.bind({"focus.uniform":function(){s.addClass(m.focusClass)},"blur.uniform":function(){s.removeClass(m.focusClass)}}),v.uniform.noSelect(s),y(i))}var i,e,n,s,o,r,a,l,h,c,d,u,p,f,g})}}(jQuery),function(s){"use strict";var o=function(t,e){this.$element=s(t),this.options=s.extend({},s.fn.timepicker.defaults,e,this.$element.data()),this.minuteStep=this.options.minuteStep||this.minuteStep,this.secondStep=this.options.secondStep||this.secondStep,this.showMeridian=this.options.showMeridian||this.showMeridian,this.showSeconds=this.options.showSeconds||this.showSeconds,this.showInputs=this.options.showInputs||this.showInputs,this.disableFocus=this.options.disableFocus||this.disableFocus,this.template=this.options.template||this.template,this.modalBackdrop=this.options.modalBackdrop||this.modalBackdrop,this.defaultTime=this.options.defaultTime||this.defaultTime,this.open=!1,this.init()};o.prototype={constructor:o,init:function(){this.$element.parent().hasClass("input-append")?(this.$element.parent(".input-append").find(".add-on").on("click",s.proxy(this.showWidget,this)),this.$element.on({focus:s.proxy(this.highlightUnit,this),click:s.proxy(this.highlightUnit,this),keypress:s.proxy(this.elementKeypress,this),blur:s.proxy(this.blurElement,this)})):this.template?this.$element.on({focus:s.proxy(this.showWidget,this),click:s.proxy(this.showWidget,this),blur:s.proxy(this.blurElement,this)}):this.$element.on({focus:s.proxy(this.highlightUnit,this),click:s.proxy(this.highlightUnit,this),keypress:s.proxy(this.elementKeypress,this),blur:s.proxy(this.blurElement,this)}),this.$widget=s(this.getTemplate()).appendTo("body"),this.$widget.on("click",s.proxy(this.widgetClick,this)),this.showInputs&&this.$widget.find("input").on({click:function(){this.select()},keypress:s.proxy(this.widgetKeypress,this),change:s.proxy(this.updateFromWidgetInputs,this)}),this.setDefaultTime(this.defaultTime)},showWidget:function(t){if(t.stopPropagation(),t.preventDefault(),!this.open){this.$element.trigger("show"),this.disableFocus&&this.$element.blur();var e=s.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.updateFromElementVal(),s("html").trigger("click.timepicker.data-api").one("click.timepicker.data-api",s.proxy(this.hideWidget,this)),"modal"===this.template?this.$widget.modal("show").on("hidden",s.proxy(this.hideWidget,this)):(this.$widget.css({top:e.top+e.height,left:e.left}),this.open||this.$widget.addClass("open")),this.open=!0,this.$element.trigger("shown")}},hideWidget:function(){this.$element.trigger("hide"),"modal"===this.template?this.$widget.modal("hide"):this.$widget.removeClass("open"),this.open=!1,this.$element.trigger("hidden")},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var e=s(t.target).closest("a").data("action");e&&(this[e](),this.update())},widgetKeypress:function(t){var e=s(t.target).closest("input").attr("name");switch(t.keyCode){case 9:this.showMeridian?"meridian"==e&&this.hideWidget():this.showSeconds?"second"==e&&this.hideWidget():"minute"==e&&this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.update();break;case 40:switch(e){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.update()}},elementKeypress:function(t){this.$element.get(0);switch(t.keyCode){case 0:break;case 9:this.updateFromElementVal(),this.showMeridian?"meridian"!=this.highlightedUnit&&(t.preventDefault(),this.highlightNextUnit()):this.showSeconds?"second"!=this.highlightedUnit&&(t.preventDefault(),this.highlightNextUnit()):"minute"!=this.highlightedUnit&&(t.preventDefault(),this.highlightNextUnit());break;case 27:this.updateFromElementVal();break;case 37:this.updateFromElementVal(),this.highlightPrevUnit();break;case 38:switch(this.highlightedUnit){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.updateElement();break;case 39:this.updateFromElementVal(),this.highlightNextUnit();break;case 40:switch(this.highlightedUnit){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.updateElement()}0!==t.keyCode&&8!==t.keyCode&&9!==t.keyCode&&46!==t.keyCode&&t.preventDefault()},setValues:function(t){if(this.showMeridian){var e=t.split(" "),i=e[0].split(":");this.meridian=e[1]}else i=t.split(":");this.hour=parseInt(i[0],10),this.minute=parseInt(i[1],10),this.second=parseInt(i[2],10),isNaN(this.hour)&&(this.hour=0),isNaN(this.minute)&&(this.minute=0),this.showMeridian?(12<this.hour?this.hour=12:this.hour<1&&(this.hour=1),"am"==this.meridian||"a"==this.meridian?this.meridian="AM":"pm"!=this.meridian&&"p"!=this.meridian||(this.meridian="PM"),"AM"!=this.meridian&&"PM"!=this.meridian&&(this.meridian="AM")):24<=this.hour?this.hour=23:this.hour<0&&(this.hour=0),this.minute<0?this.minute=0:60<=this.minute&&(this.minute=59),this.showSeconds&&(isNaN(this.second)?this.second=0:this.second<0?this.second=0:60<=this.second&&(this.second=59)),""!=this.$element.val()&&this.updateElement(),this.updateWidget()},setMeridian:function(t){"a"==t||"am"==t||"AM"==t?this.meridian="AM":"p"==t||"pm"==t||"PM"==t?this.meridian="PM":this.updateWidget(),this.updateElement()},setDefaultTime:function(t){if(t){if("current"===t){var e=new Date,i=e.getHours(),n=Math.floor(e.getMinutes()/this.minuteStep)*this.minuteStep,s=Math.floor(e.getSeconds()/this.secondStep)*this.secondStep,o="AM";this.showMeridian&&(0===i?i=12:o=12<=i?(12<i&&(i-=12),"PM"):"AM"),this.hour=i,this.minute=n,this.second=s,this.meridian=o}else"value"===t?this.setValues(this.$element.val()):this.setValues(t);""!=this.$element.val()&&this.updateElement(),this.updateWidget()}else this.hour=0,this.minute=0,this.second=0},formatTime:function(t,e,i,n){return i=i<10?"0"+i:i,(t=t<10?"0"+t:t)+":"+(e=e<10?"0"+e:e)+(this.showSeconds?":"+i:"")+(this.showMeridian?" "+n:"")},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},setTime:function(t){this.setValues(t),this.update()},update:function(){this.updateElement(),this.updateWidget()},blurElement:function(){this.highlightedUnit=void 0,this.updateFromElementVal()},updateElement:function(){var t=this.getTime();switch(this.$element.val(t).change(),this.highlightedUnit){case"hour":this.highlightHour();break;case"minute":this.highlightMinute();break;case"second":this.highlightSecond();break;case"meridian":this.highlightMeridian()}},updateWidget:function(){this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(this.hour<10?"0"+this.hour:this.hour),this.$widget.find("input.bootstrap-timepicker-minute").val(this.minute<10?"0"+this.minute:this.minute),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(this.second<10?"0"+this.second:this.second),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(this.hour),this.$widget.find("span.bootstrap-timepicker-minute").text(this.minute<10?"0"+this.minute:this.minute),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(this.second<10?"0"+this.second:this.second),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))},updateFromElementVal:function(t){var e=this.$element.val();e&&(this.setValues(e),this.updateWidget())},updateFromWidgetInputs:function(){var t=s("input.bootstrap-timepicker-hour",this.$widget).val()+":"+s("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+s("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+s("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setValues(t)},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange(),i=document.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-i}},highlightUnit:function(){this.$element.get(0);this.position=this.getCursorPosition(),0<=this.position&&this.position<=2?this.highlightHour():3<=this.position&&this.position<=5?this.highlightMinute():6<=this.position&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():9<=this.position&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.highlightMeridian();break;case"second":this.highlightMeridian();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){this.highlightedUnit="hour",this.$element.get(0).setSelectionRange(0,2)},highlightMinute:function(){this.highlightedUnit="minute",this.$element.get(0).setSelectionRange(3,5)},highlightSecond:function(){this.highlightedUnit="second",this.$element.get(0).setSelectionRange(6,8)},highlightMeridian:function(){this.highlightedUnit="meridian",this.showSeconds?this.$element.get(0).setSelectionRange(9,11):this.$element.get(0).setSelectionRange(6,8)},incrementHour:function(){if(this.showMeridian)if(11===this.hour)this.toggleMeridian();else if(12===this.hour)return this.hour=1;if(23===this.hour)return this.hour=0;this.hour=this.hour+1},decrementHour:function(){if(this.showMeridian){if(1===this.hour)return this.hour=12;12===this.hour&&this.toggleMeridian()}if(0===this.hour)return this.hour=23;this.hour=this.hour-1},incrementMinute:function(){var t=this.minute+this.minuteStep-this.minute%this.minuteStep;this.minute=59<t?(this.incrementHour(),t-60):t},decrementMinute:function(){var t=this.minute-this.minuteStep;this.minute=t<0?(this.decrementHour(),t+60):t},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;this.second=59<t?(this.incrementMinute(),t-60):t},decrementSecond:function(){var t=this.second-this.secondStep;this.second=t<0?(this.decrementMinute(),t+60):t},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM",this.update()},getTemplate:function(){if(this.options.templates[this.options.template])return this.options.templates[this.options.template];if(this.showInputs)var t='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>',e='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>',i='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>',n='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>';else t='<span class="bootstrap-timepicker-hour"></span>',e='<span class="bootstrap-timepicker-minute"></span>',i='<span class="bootstrap-timepicker-second"></span>',n='<span class="bootstrap-timepicker-meridian"></span>';var s,o='<table class="'+(this.showSeconds?"show-seconds":"")+" "+(this.showMeridian?"show-meridian":"")+'"><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+t+'</td> <td class="separator">:</td><td>'+e+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+n+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>";switch(this.options.template){case"modal":s='<div class="bootstrap-timepicker modal hide fade in" style="top: 30%; margin-top: 0; width: 200px; margin-left: -100px;" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal"></a><h3>Pick a Time</h3></div><div class="modal-content">'+o+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">Ok</a></div></div>';break;case"dropdown":s='<div class="bootstrap-timepicker dropdown-menu">'+o+"</div>"}return s}},s.fn.timepicker=function(n){return this.each(function(){var t=s(this),e=t.data("timepicker"),i="object"==typeof n&&n;e||t.data("timepicker",e=new o(this,i)),"string"==typeof n&&e[n]()})},s.fn.timepicker.defaults={minuteStep:15,secondStep:15,disableFocus:!1,defaultTime:"current",showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",modalBackdrop:!1,templates:{}},s.fn.timepicker.Constructor=o}(window.jQuery),Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},function(){var a,l,h,n=Date,t=n.prototype,r=n.CultureInfo,s=function(t,e){return e||(e=2),("000"+t).slice(-1*e)};t.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},t.setTimeToNow=function(){var t=new Date;return this.setHours(t.getHours()),this.setMinutes(t.getMinutes()),this.setSeconds(t.getSeconds()),this.setMilliseconds(t.getMilliseconds()),this},n.today=function(){return(new Date).clearTime()},n.compare=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(t+" - "+e);if(t instanceof Date&&e instanceof Date)return t<e?-1:e<t?1:0;throw new TypeError(t+" - "+e)},n.equals=function(t,e){return 0===t.compareTo(e)},n.getDayNumberFromName=function(t){for(var e=r.dayNames,i=r.abbreviatedDayNames,n=r.shortestDayNames,s=t.toLowerCase(),o=0;o<e.length;o++)if(e[o].toLowerCase()==s||i[o].toLowerCase()==s||n[o].toLowerCase()==s)return o;return-1},n.getMonthNumberFromName=function(t){for(var e=r.monthNames,i=r.abbreviatedMonthNames,n=t.toLowerCase(),s=0;s<e.length;s++)if(e[s].toLowerCase()==n||i[s].toLowerCase()==n)return s;return-1},n.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},n.getDaysInMonth=function(t,e){return[31,n.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},n.getTimezoneAbbreviation=function(t){for(var e=r.timezones,i=0;i<e.length;i++)if(e[i].offset===t)return e[i].name;return null},n.getTimezoneOffset=function(t){for(var e=r.timezones,i=0;i<e.length;i++)if(e[i].name===t.toUpperCase())return e[i].offset;return null},t.clone=function(){return new Date(this.getTime())},t.compareTo=function(t){return Date.compare(this,t)},t.equals=function(t){return Date.equals(this,t||new Date)},t.between=function(t,e){return this.getTime()>=t.getTime()&&this.getTime()<=e.getTime()},t.isAfter=function(t){return 1===this.compareTo(t||new Date)},t.isBefore=function(t){return-1===this.compareTo(t||new Date)},t.isToday=function(){return this.isSameDay(new Date)},t.isSameDay=function(t){return this.clone().clearTime().equals(t.clone().clearTime())},t.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},t.addSeconds=function(t){return this.addMilliseconds(1e3*t)},t.addMinutes=function(t){return this.addMilliseconds(6e4*t)},t.addHours=function(t){return this.addMilliseconds(36e5*t)},t.addDays=function(t){return this.setDate(this.getDate()+t),this},t.addWeeks=function(t){return this.addDays(7*t)},t.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,n.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},t.addYears=function(t){return this.addMonths(12*t)},t.add=function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return e.milliseconds&&this.addMilliseconds(e.milliseconds),e.seconds&&this.addSeconds(e.seconds),e.minutes&&this.addMinutes(e.minutes),e.hours&&this.addHours(e.hours),e.weeks&&this.addWeeks(e.weeks),e.months&&this.addMonths(e.months),e.years&&this.addYears(e.years),e.days&&this.addDays(e.days),this},t.getWeek=function(){var t,e,i,n,s,o,r;return a=a||this.getFullYear(),l=l||this.getMonth()+1,h=h||this.getDate(),n=l<=2?(r=(e=((t=a-1)/4|0)-(t/100|0)+(t/400|0))-(((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0)),i=0,h-1+31*(l-1)):(i=(r=(e=((t=a)/4|0)-(t/100|0)+(t/400|0))-(((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0)))+1,h+(153*(l-3)+2)/5+58+r),a=l=h=null,(o=n+3-(n+(s=(t+e)%7)-i)%7|0)<0?53-((s-r)/5|0):364+r<o?1:1+(o/7|0)},t.getISOWeek=function(){return a=this.getUTCFullYear(),l=this.getUTCMonth()+1,h=this.getUTCDate(),s(this.getWeek())},t.setWeek=function(t){return this.moveToDayOfWeek(1).addWeeks(t-this.getWeek())},n._validate=function(t,e,i,n){if(void 0===t)return!1;if("number"!=typeof t)throw new TypeError(t+" is not a Number.");if(t<e||i<t)throw new RangeError(t+" is not a valid value for "+n+".");return!0},n.validateMillisecond=function(t){return n._validate(t,0,999,"millisecond")},n.validateSecond=function(t){return n._validate(t,0,59,"second")},n.validateMinute=function(t){return n._validate(t,0,59,"minute")},n.validateHour=function(t){return n._validate(t,0,23,"hour")},n.validateDay=function(t,e,i){return n._validate(t,1,n.getDaysInMonth(e,i),"day")},n.validateMonth=function(t){return n._validate(t,0,11,"month")},n.validateYear=function(t){return n._validate(t,0,9999,"year")},t.set=function(t){return n.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),n.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),n.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),n.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),n.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),n.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),n.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),t.week&&n._validate(t.week,0,53,"week")&&this.setWeek(t.week),this},t.moveToFirstDayOfMonth=function(){return this.set({day:1})},t.moveToLastDayOfMonth=function(){return this.set({day:n.getDaysInMonth(this.getFullYear(),this.getMonth())})},t.moveToNthOccurrence=function(t,e){var i=0;if(0<e)i=e-1;else if(-1===e)return this.moveToLastDayOfMonth(),this.getDay()!==t&&this.moveToDayOfWeek(t,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(t,1).addWeeks(i)},t.moveToDayOfWeek=function(t,e){var i=(t-this.getDay()+7*(e||1))%7;return this.addDays(0===i?i+=7*(e||1):i)},t.moveToMonth=function(t,e){var i=(t-this.getMonth()+12*(e||1))%12;return this.addMonths(0===i?i+=12*(e||1):i)},t.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},t.getTimezone=function(){return n.getTimezoneAbbreviation(this.getUTCOffset())},t.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),i=-6*Number(t)/10;return this.addMinutes(i-e)},t.setTimezone=function(t){return this.setTimezoneOffset(n.getTimezoneOffset(t))},t.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},t.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()},t.getUTCOffset=function(){var t,e=-10*this.getTimezoneOffset()/6;return e<0?(t=(e-1e4).toString()).charAt(0)+t.substr(2):"+"+(t=(e+1e4).toString()).substr(1)},t.getElapsed=function(t){return(t||new Date)-this},t.toISOString||(t.toISOString=function(){function t(t){return t<10?"0"+t:t}return'"'+this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+'Z"'}),t._toString=t.toString,t.toString=function(t){var e=this;if(t&&1==t.length){var i=r.formatPatterns;switch(e.t=e.toString,t){case"d":return e.t(i.shortDate);case"D":return e.t(i.longDate);case"F":return e.t(i.fullDateTime);case"m":return e.t(i.monthDay);case"r":return e.t(i.rfc1123);case"s":return e.t(i.sortableDateTime);case"t":return e.t(i.shortTime);case"T":return e.t(i.longTime);case"u":return e.t(i.universalSortableDateTime);case"y":return e.t(i.yearMonth)}}return t?t.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(t){if("\\"===t.charAt(0))return t.replace("\\","");switch(e.h=e.getHours,t){case"hh":return s(e.h()<13?0===e.h()?12:e.h():e.h()-12);case"h":return e.h()<13?0===e.h()?12:e.h():e.h()-12;case"HH":return s(e.h());case"H":return e.h();case"mm":return s(e.getMinutes());case"m":return e.getMinutes();case"ss":return s(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return s(e.getFullYear(),4);case"yy":return s(e.getFullYear());case"dddd":return r.dayNames[e.getDay()];case"ddd":return r.abbreviatedDayNames[e.getDay()];case"dd":return s(e.getDate());case"d":return e.getDate();case"MMMM":return r.monthNames[e.getMonth()];case"MMM":return r.abbreviatedMonthNames[e.getMonth()];case"MM":return s(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return e.h()<12?r.amDesignator.substring(0,1):r.pmDesignator.substring(0,1);case"tt":return e.h()<12?r.amDesignator:r.pmDesignator;case"S":return function(t){switch(1*t){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}}(e.getDate());default:return t}}):this._toString()}}(),function(){var n=Date,t=n.prototype,s=n.CultureInfo,e=Number.prototype;t._orient=1,t._nth=null,t._is=!1,t._same=!1,t._isSecond=!1,e._dateElement="day",t.next=function(){return this._orient=1,this},n.next=function(){return n.today().next()},t.last=t.prev=t.previous=function(){return this._orient=-1,this},n.last=n.prev=n.previous=function(){return n.today().last()},t.is=function(){return this._is=!0,this},t.same=function(){return this._same=!0,this._isSecond=!1,this},t.today=function(){return this.same().day()},t.weekday=function(){return!!this._is&&(this._is=!1,!this.is().sat()&&!this.is().sun())},t.at=function(t){return"string"==typeof t?n.parse(this.toString("d")+" "+t):this.set(t)},e.fromNow=e.after=function(t){var e={};return e[this._dateElement]=this,(t?t.clone():new Date).add(e)},e.ago=e.before=function(t){var e={};return e[this._dateElement]=-1*this,(t?t.clone():new Date).add(e)};var i,o="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),r="january february march april may june july august september october november december".split(/\s/),a="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),l="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),h="final first second third fourth fifth".split(/\s/);t.toObject=function(){for(var t={},e=0;e<a.length;e++)t[a[e].toLowerCase()]=this["get"+l[e]]();return t},n.fromObject=function(t){return t.week=null,Date.today().set(t)};for(var c=function(i){return function(){if(this._is)return this._is=!1,this.getDay()==i;if(null===this._nth)return this.moveToDayOfWeek(i,this._orient);this._isSecond&&this.addSeconds(-1*this._orient),this._isSecond=!1;var t=this._nth;this._nth=null;var e=this.clone().moveToLastDayOfMonth();if(this.moveToNthOccurrence(i,t),e<this)throw new RangeError(n.getDayName(i)+" does not occur "+t+" times in the month of "+n.getMonthName(e.getMonth())+" "+e.getFullYear()+".");return this}},d=function(i){return function(){var t=n.today(),e=i-t.getDay();return 0===i&&1===s.firstDayOfWeek&&0!==t.getDay()&&(e+=7),t.addDays(e)}},u=0;u<o.length;u++)n[o[u].toUpperCase()]=n[o[u].toUpperCase().substring(0,3)]=u,n[o[u]]=n[o[u].substring(0,3)]=d(u),t[o[u]]=t[o[u].substring(0,3)]=c(u);for(var p=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}},f=function(t){return function(){return n.today().set({month:t,day:1})}},g=0;g<r.length;g++)n[r[g].toUpperCase()]=n[r[g].toUpperCase().substring(0,3)]=g,n[r[g]]=n[r[g].substring(0,3)]=f(g),t[r[g]]=t[r[g].substring(0,3)]=p(g);for(var m=function(o){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;for(var t=this.toObject(),e=(arguments[0]||new Date).toObject(),i="",n=o.toLowerCase(),s=a.length-1;-1<s;s--){if(t[i=a[s].toLowerCase()]!=e[i])return!1;if(n==i)break}return!0}return"s"!=o.substring(o.length-1)&&(o+="s"),this["add"+o](this._orient)}},y=function(t){return function(){return this._dateElement=t,this}},v=0;v<a.length;v++)t[i=a[v].toLowerCase()]=t[i+"s"]=m(a[v]),e[i]=e[i+"s"]=y(i);t._ss=m("Second");for(var _=function(e){return function(t){return this._same?this._ss(t):t||0===t?this.moveToNthOccurrence(t,e):2===(this._nth=e)&&null==t?(this._isSecond=!0,this.addSeconds(this._orient)):this}},b=0;b<h.length;b++)t[h[b]]=_(0===b?-1:b)}(),function(){Date.Parsing={Exception:function(t){this.message="Parse error at '"+t.substring(0,10)+" ...'"}};for(var p=Date.Parsing,f=p.Operators={rtoken:function(i){return function(t){var e=t.match(i);if(e)return[e[0],t.substring(e[0].length)];throw new p.Exception(t)}},token:function(t){return function(t){return f.rtoken(new RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return f.rtoken(new RegExp("^"+t))},until:function(t){return function(e){for(var i=[],n=null;e.length;){try{n=t.call(this,e)}catch(t){i.push(n[0]),e=n[1];continue}break}return[i,e]}},many:function(n){return function(e){for(var i=[],t=null;e.length;){try{t=n.call(this,e)}catch(t){return[i,e]}i.push(t[0]),e=t[1]}return[i,e]}},optional:function(i){return function(e){var t=null;try{t=i.call(this,e)}catch(t){return[null,e]}return[t[0],t[1]]}},not:function(t){return function(e){try{t.call(this,e)}catch(t){return[null,e]}throw new p.Exception(e)}},ignore:function(e){return e?function(t){return[null,e.call(this,t)[1]]}:null},product:function(){for(var t=arguments[0],e=Array.prototype.slice.call(arguments,1),i=[],n=0;n<t.length;n++)i.push(f.each(t[n],e));return i},cache:function(t){var i={},n=null;return function(e){try{n=i[e]=i[e]||t.call(this,e)}catch(t){n=i[e]=t}if(n instanceof p.Exception)throw n;return n}},any:function(){var n=arguments;return function(t){for(var e=null,i=0;i<n.length;i++)if(null!=n[i]){try{e=n[i].call(this,t)}catch(t){e=null}if(e)return e}throw new p.Exception(t)}},each:function(){var s=arguments;return function(e){for(var t=[],i=null,n=0;n<s.length;n++)if(null!=s[n]){try{i=s[n].call(this,e)}catch(t){throw new p.Exception(e)}t.push(i[0]),e=i[1]}return[t,e]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(o,r,a){return r=r||f.rtoken(/^\s*/),a=a||null,1==o.length?o[0]:function(t){for(var e=null,i=null,n=[],s=0;s<o.length;s++){try{e=o[s].call(this,t)}catch(t){break}n.push(e[0]);try{i=r.call(this,e[1])}catch(t){i=null;break}t=i[1]}if(!e)throw new p.Exception(t);if(i)throw new p.Exception(i[1]);if(a)try{e=a.call(this,e[1])}catch(t){throw new p.Exception(e[1])}return[n,e?e[1]:t]}},between:function(t,e,i){i=i||t;var n=f.each(f.ignore(t),e,f.ignore(i));return function(t){var e=n.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,e,i){return e=e||f.rtoken(/^\s*/),i=i||null,t instanceof Array?f.each(f.product(t.slice(0,-1),f.ignore(e)),t.slice(-1),f.ignore(i)):f.each(f.many(f.each(t,f.ignore(e))),px,f.ignore(i))},set:function(c,d,u){return d=d||f.rtoken(/^\s*/),u=u||null,function(t){for(var e=null,i=null,n=null,s=null,o=[[],t],r=!1,a=0;a<c.length;a++){e=i=n=null,r=1==c.length;try{e=c[a].call(this,t)}catch(t){continue}if(s=[[e[0]],e[1]],0<e[1].length&&!r)try{n=d.call(this,e[1])}catch(t){r=!0}else r=!0;if(r||0!==n[1].length||(r=!0),!r){for(var l=[],h=0;h<c.length;h++)a!=h&&l.push(c[h]);0<(i=f.set(l,d).call(this,n[1]))[0].length&&(s[0]=s[0].concat(i[0]),s[1]=i[1])}if(s[1].length<o[1].length&&(o=s),0===o[1].length)break}if(0===o[0].length)return o;if(u){try{n=u.call(this,o[1])}catch(t){throw new p.Exception(o[1])}o[1]=n[1]}return o}},forward:function(e,i){return function(t){return e[i].call(this,t)}},replace:function(i,n){return function(t){var e=i.call(this,t);return[n,e[1]]}},process:function(i,n){return function(t){var e=i.call(this,t);return[n.call(this,e[0]),e[1]]}},min:function(i,n){return function(t){var e=n.call(this,t);if(e[0].length<i)throw new p.Exception(t);return e}}},t=function(s){return function(){var t=null,e=[];if(1<arguments.length?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]),!t)return s.apply(null,arguments);for(var i=0,n=t.shift();i<n.length;i++)return t.unshift(n[i]),e.push(s.apply(null,t)),t.shift(),e}},e="optional not ignore cache".split(/\s/),i=0;i<e.length;i++)f[e[i]]=t(f[e[i]]);for(var n=function(t){return function(){return arguments[0]instanceof Array?t.apply(null,arguments[0]):t.apply(null,arguments)}},s="each any all".split(/\s/),o=0;o<s.length;o++)f[s[o]]=n(f[s[o]])}(),function(){var l=Date,r=(l.prototype,l.CultureInfo),h=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof Array?e=e.concat(h(t[i])):t[i]&&e.push(t[i]);return e};l.Grammar={},l.Translator={hour:function(t){return function(){this.hour=Number(t)}},minute:function(t){return function(){this.minute=Number(t)}},second:function(t){return function(){this.second=Number(t)}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(t){var e=t[0];return function(){this.day=Number(e.match(/\d+/)[0])}},month:function(t){return function(){this.month=3==t.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(t)/4:Number(t)-1}},year:function(e){return function(){var t=Number(e);this.year=2<e.length?t:t+(t+2e3<r.twoDigitYearMax?2e3:1900)}},rday:function(t){return function(){switch(t){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];for(var e=0;e<t.length;e++)t[e]&&t[e].call(this);var i=new Date;if(!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=i.getDate()),this.year||(this.year=i.getFullYear()),this.month||0===this.month||(this.month=i.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.day>l.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var n=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?n.set({timezone:this.timezone}):this.timezoneOffset&&n.set({timezoneOffset:this.timezoneOffset}),n},finish:function(t){if(0===(t=t instanceof Array?h(t):[t]).length)return null;for(var e=0;e<t.length;e++)"function"==typeof t[e]&&t[e].call(this);var i=l.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(i=new Date);var n,s,o,r=!!(this.days&&null!==this.days||this.orient||this.operator);if(o="past"==this.orient||"subtract"==this.operator?-1:1,this.now||-1=="hour minute second".indexOf(this.unit)||i.setTimeToNow(),(this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit)&&(this.value=this.month+1,r=!(this.month=null)),!r&&this.weekday&&!this.day&&!this.days){var a=Date[this.weekday]();this.day=a.getDate(),this.month||(this.month=a.getMonth()),this.year=a.getFullYear()}if(r&&this.weekday&&"month"!=this.unit&&(this.unit="day",n=l.getDayNumberFromName(this.weekday)-i.getDay(),s=7,this.days=n?(n+o*s)%s:o*s),this.month&&"day"==this.unit&&this.operator&&(this.value=this.month+1,this.month=null),null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value),this.month&&!this.day&&this.value&&(i.set({day:1*this.value}),r||(this.day=1*this.value)),this.month||!this.value||"month"!=this.unit||this.now||(this.month=this.value,r=!0),r&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",n=this.month-i.getMonth(),s=12,this.months=n?(n+o*s)%s:o*s,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]?this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*o:null!=this[this.unit+"s"]&&null==this.operator||(this.value||(this.value=1),this[this.unit+"s"]=this.value*o),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.weekday&&!this.day&&!this.days){a=Date[this.weekday]();this.day=a.getDate(),a.getMonth()!==i.getMonth()&&(this.month=a.getMonth())}return!this.month&&0!==this.month||this.day||(this.day=1),this.orient||this.operator||"week"!=this.unit||!this.value||this.day||this.month?(r&&this.timezone&&this.day&&this.days&&(this.day=this.days),r?i.add(this):i.set(this)):Date.today().setWeek(this.value)}};var t,a=l.Parsing.Operators,i=l.Grammar,e=l.Translator;i.datePartDelimiter=a.rtoken(/^([\s\-\.\,\/\x27]+)/),i.timePartDelimiter=a.stoken(":"),i.whiteSpace=a.rtoken(/^\s*/),i.generalDelimiter=a.rtoken(/^(([\s\,]|at|@|on)+)/);var c={};i.ctoken=function(t){var e=c[t];if(!e){for(var i=r.regexPatterns,n=t.split(/\s+/),s=[],o=0;o<n.length;o++)s.push(a.replace(a.rtoken(i[n[o]]),n[o]));e=c[t]=a.any.apply(null,s)}return e},i.ctoken2=function(t){return a.rtoken(r.regexPatterns[t])},i.h=a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),e.hour)),i.hh=a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2])/),e.hour)),i.H=a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),e.hour)),i.HH=a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3])/),e.hour)),i.m=a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/),e.minute)),i.mm=a.cache(a.process(a.rtoken(/^[0-5][0-9]/),e.minute)),i.s=a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/),e.second)),i.ss=a.cache(a.process(a.rtoken(/^[0-5][0-9]/),e.second)),i.hms=a.cache(a.sequence([i.H,i.m,i.s],i.timePartDelimiter)),i.t=a.cache(a.process(i.ctoken2("shortMeridian"),e.meridian)),i.tt=a.cache(a.process(i.ctoken2("longMeridian"),e.meridian)),i.z=a.cache(a.process(a.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),e.timezone)),i.zz=a.cache(a.process(a.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),e.timezone)),i.zzz=a.cache(a.process(i.ctoken2("timezone"),e.timezone)),i.timeSuffix=a.each(a.ignore(i.whiteSpace),a.set([i.tt,i.zzz])),i.time=a.each(a.optional(a.ignore(a.stoken("T"))),i.hms,i.timeSuffix),i.d=a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1]|\d)/),a.optional(i.ctoken2("ordinalSuffix"))),e.day)),i.dd=a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1])/),a.optional(i.ctoken2("ordinalSuffix"))),e.day)),i.ddd=i.dddd=a.cache(a.process(i.ctoken("sun mon tue wed thu fri sat"),function(t){return function(){this.weekday=t}})),i.M=a.cache(a.process(a.rtoken(/^(1[0-2]|0\d|\d)/),e.month)),i.MM=a.cache(a.process(a.rtoken(/^(1[0-2]|0\d)/),e.month)),i.MMM=i.MMMM=a.cache(a.process(i.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),e.month)),i.y=a.cache(a.process(a.rtoken(/^(\d\d?)/),e.year)),i.yy=a.cache(a.process(a.rtoken(/^(\d\d)/),e.year)),i.yyy=a.cache(a.process(a.rtoken(/^(\d\d?\d?\d?)/),e.year)),i.yyyy=a.cache(a.process(a.rtoken(/^(\d\d\d\d)/),e.year)),t=function(){return a.each(a.any.apply(null,arguments),a.not(i.ctoken2("timeContext")))},i.day=t(i.d,i.dd),i.month=t(i.M,i.MMM),i.year=t(i.yyyy,i.yy),i.orientation=a.process(i.ctoken("past future"),function(t){return function(){this.orient=t}}),i.operator=a.process(i.ctoken("add subtract"),function(t){return function(){this.operator=t}}),i.rday=a.process(i.ctoken("yesterday tomorrow today now"),e.rday),i.unit=a.process(i.ctoken("second minute hour day week month year"),function(t){return function(){this.unit=t}}),i.value=a.process(a.rtoken(/^\d\d?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\D/g,"")}}),i.expression=a.set([i.rday,i.operator,i.value,i.unit,i.orientation,i.ddd,i.MMM]),t=function(){return a.set(arguments,i.datePartDelimiter)},i.mdy=t(i.ddd,i.month,i.day,i.year),i.ymd=t(i.ddd,i.year,i.month,i.day),i.dmy=t(i.ddd,i.day,i.month,i.year),i.date=function(t){return(i[r.dateElementOrder]||i.mdy).call(this,t)},i.format=a.process(a.many(a.any(a.process(a.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(i[t])return i[t];throw l.Parsing.Exception(t)}),a.process(a.rtoken(/^[^dMyhHmstz]+/),function(t){return a.ignore(a.stoken(t))}))),function(t){return a.process(a.each.apply(null,t),e.finishExact)});var n={},s=function(t){return n[t]=n[t]||i.format(t)[0]};i.formats=function(t){if(t instanceof Array){for(var e=[],i=0;i<t.length;i++)e.push(s(t[i]));return a.any.apply(null,e)}return s(t)},i._formats=i.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]),i._start=a.process(a.set([i.date,i.time,i.expression],i.generalDelimiter,i.whiteSpace),e.finish),i.start=function(t){try{var e=i._formats.call({},t);if(0===e[1].length)return e}catch(t){}return i._start.call({},t)},l._parse=l.parse,l.parse=function(t){var e=null;if(!t)return null;if(t instanceof Date)return t;try{e=l.Grammar.start.call({},t.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(t){return null}return 0===e[1].length?e[0]:null},l.getParseFunction=function(t){var i=l.Grammar.formats(t);return function(t){var e=null;try{e=i.call({},t)}catch(t){return null}return 0===e[1].length?e[0]:null}},l.parseExact=function(t,e){return l.getParseFunction(e)(t)}}(),function(f){var n=function(t,i,e){var n,s="object"==typeof i;this.startDate=Date.today(),this.endDate=Date.today(),this.minDate=!1,this.maxDate=!1,this.changed=!1,this.ranges={},this.opens="right",this.cb=function(){},this.format="MM/dd/yyyy",this.separator=" - ",this.showWeekNumbers=!1,this.buttonClasses=["btn-success"],this.locale={applyLabel:"Apply",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Date.CultureInfo.shortestDayNames,monthNames:Date.CultureInfo.monthNames,firstDay:0},n=this.locale,this.leftCalendar={month:Date.today().set({day:1,month:this.startDate.getMonth(),year:this.startDate.getFullYear()}),calendar:Array()},this.rightCalendar={month:Date.today().set({day:1,month:this.endDate.getMonth(),year:this.endDate.getFullYear()}),calendar:Array()},this.parentEl="body",this.element=f(t),this.element.hasClass("pull-right")&&(this.opens="left"),this.element.is("input")?this.element.on({click:f.proxy(this.show,this),focus:f.proxy(this.show,this)}):this.element.on("click",f.proxy(this.show,this)),s&&"object"==typeof i.locale&&f.each(n,function(t,e){n[t]=i.locale[t]||e});var o='<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div><label for="daterangepicker_start">'+this.locale.fromLabel+'</label><input class="m-wrap input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div><label for="daterangepicker_end">'+this.locale.toLabel+'</label><input class="m-wrap input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="btn " disabled="disabled">'+this.locale.applyLabel+"</button></div></div></div>";if(this.parentEl=s&&i.parentEl&&f(i.parentEl)||f(this.parentEl),this.container=f(o).appendTo(this.parentEl),s){if("string"==typeof i.format&&(this.format=i.format),"string"==typeof i.separator&&(this.separator=i.separator),"string"==typeof i.startDate&&(this.startDate=Date.parse(i.startDate,this.format)),"string"==typeof i.endDate&&(this.endDate=Date.parse(i.endDate,this.format)),"string"==typeof i.minDate&&(this.minDate=Date.parse(i.minDate,this.format)),"string"==typeof i.maxDate&&(this.maxDate=Date.parse(i.maxDate,this.format)),"object"==typeof i.startDate&&(this.startDate=i.startDate),"object"==typeof i.endDate&&(this.endDate=i.endDate),"object"==typeof i.minDate&&(this.minDate=i.minDate),"object"==typeof i.maxDate&&(this.maxDate=i.maxDate),"object"==typeof i.ranges){for(var r in i.ranges){var a=i.ranges[r][0],l=i.ranges[r][1];"string"==typeof a&&(a=Date.parse(a)),"string"==typeof l&&(l=Date.parse(l)),this.minDate&&a<this.minDate&&(a=this.minDate),this.maxDate&&l>this.maxDate&&(l=this.maxDate),this.minDate&&l<this.minDate||this.maxDate&&a>this.maxDate||(this.ranges[r]=[a,l])}var h="<ul>";for(var r in this.ranges)h+="<li>"+r+"</li>";h+="<li>"+this.locale.customRangeLabel+"</li>",h+="</ul>",this.container.find(".ranges").prepend(h)}if("object"==typeof i.locale&&"number"==typeof i.locale.firstDay){this.locale.firstDay=i.locale.firstDay;for(var c=i.locale.firstDay;0<c;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),c--}"string"==typeof i.opens&&(this.opens=i.opens),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=[i.buttonClasses]),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses)}var d=this.container;if(f.each(this.buttonClasses,function(t,e){d.find("button").addClass(e)}),"right"==this.opens){var u=this.container.find(".calendar.left"),p=this.container.find(".calendar.right");u.removeClass("left").addClass("right"),p.removeClass("right").addClass("left")}void 0!==i&&void 0!==i.ranges||this.container.find(".calendar").show(),"function"==typeof e&&(this.cb=e),this.container.addClass("opens"+this.opens),this.container.on("mousedown",f.proxy(this.mousedown,this)),this.container.find(".calendar").on("click",".prev",f.proxy(this.clickPrev,this)),this.container.find(".calendar").on("click",".next",f.proxy(this.clickNext,this)),this.container.find(".ranges").on("click","button",f.proxy(this.clickApply,this)),this.container.find(".calendar").on("click","td.available",f.proxy(this.clickDate,this)),this.container.find(".calendar").on("mouseenter","td.available",f.proxy(this.enterDate,this)),this.container.find(".calendar").on("mouseleave","td.available",f.proxy(this.updateView,this)),this.container.find(".ranges").on("click","li",f.proxy(this.clickRange,this)),this.container.find(".ranges").on("mouseenter","li",f.proxy(this.enterRange,this)),this.container.find(".ranges").on("mouseleave","li",f.proxy(this.updateView,this)),this.element.on("keyup",f.proxy(this.updateFromControl,this)),this.updateView(),this.updateCalendars()};n.prototype={constructor:n,mousedown:function(t){t.stopPropagation(),t.preventDefault()},updateView:function(){this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()}),this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()}),this.container.find("input[name=daterangepicker_start]").val(this.startDate.toString(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.toString(this.format)),this.startDate.equals(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button").removeAttr("disabled"):this.container.find("button").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")){var t=this.element.val().split(this.separator),e=Date.parseExact(t[0],this.format),i=Date.parseExact(t[1],this.format);null!=e&&null!=i&&(i.isBefore(e)||(this.startDate=e,this.endDate=i,this.updateView(),this.cb(this.startDate,this.endDate),this.updateCalendars()))}},notify:function(){this.updateView(),this.element.is("input")&&this.element.val(this.startDate.toString(this.format)+this.separator+this.endDate.toString(this.format)),this.cb(this.startDate,this.endDate)},move:function(){this.parentEl.offset().top,this.parentEl.scrollTop();var t=this.parentEl.offset().left-this.parentEl.scrollLeft();"left"==this.opens?this.container.css({top:this.element.offset().top+this.element.outerHeight(),right:f(window).width()-this.element.offset().left-this.element.outerWidth()-t,left:"auto"}):this.container.css({top:this.element.offset().top+this.element.outerHeight(),left:this.element.offset().left-t,right:"auto"})},show:function(t){this.container.show(),this.move(),t&&(t.stopPropagation(),t.preventDefault()),this.changed=!1,f(document).on("mousedown",f.proxy(this.hide,this))},hide:function(t){this.container.hide(),f(document).off("mousedown",this.hide),this.changed&&(this.changed=!1,this.notify())},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].toString(this.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].toString(this.format))}},clickRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.container.find(".calendar").show();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()}),this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()}),this.updateCalendars(),this.changed=!0,this.container.find(".calendar").hide(),this.hide()}},clickPrev:function(t){f(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add({months:-1}):this.rightCalendar.month.add({months:-1}),this.updateCalendars()},clickNext:function(t){f(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add({months:1}):this.rightCalendar.month.add({months:1}),this.updateCalendars()},enterDate:function(t){var e=f(t.target).attr("title"),i=e.substr(1,1),n=e.substr(3,1);f(t.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][n].toString(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][n].toString(this.format))},clickDate:function(t){var e=f(t.target).attr("title"),i=e.substr(1,1),n=e.substr(3,1),s=f(t.target).parents(".calendar");s.hasClass("left")?(startDate=this.leftCalendar.calendar[i][n],endDate=this.endDate):(startDate=this.startDate,endDate=this.rightCalendar.calendar[i][n]),s.find("td").removeClass("active"),(startDate.equals(endDate)||startDate.isBefore(endDate))&&(f(t.target).addClass("active"),startDate.equals(this.startDate)&&endDate.equals(this.endDate)||(this.changed=!0),this.startDate=startDate,this.endDate=endDate),this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()}),this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()}),this.updateCalendars()},clickApply:function(t){this.hide()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.getMonth(),this.leftCalendar.month.getFullYear()),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.getMonth(),this.rightCalendar.month.getFullYear()),this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.endDate)),this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate))},buildCalendar:function(t,e){for(var i=Date.today().set({day:1,month:t,year:e}),n=i.clone().add(-1).day().getMonth(),s=i.clone().add(-1).day().getFullYear(),o=(Date.getDaysInMonth(e,t),Date.getDaysInMonth(s,n)),r=i.getDay(),a=Array(),l=0;l<6;l++)a[l]=Array();var h=o-r+this.locale.firstDay+1;o<h&&(h-=7),r==this.locale.firstDay&&(h=o-6);for(var c=Date.today().set({day:h,month:n,year:s}),d=(l=0,0),u=0;l<42;l++,d++,c=c.clone().add(1).day())0<l&&d%7==0&&(d=0,u++),a[u][d]=c;return a},renderCalendar:function(t,e,i,n){var s='<table class="table-condensed">';s+="<thead>",s+="<tr>",this.showWeekNumbers&&(s+="<th></th>"),!i||i<t[1][1]?s+='<th class="prev available"><i class="icon-angle-left"></i></th>':s+="<th></th>",s+='<th colspan="5" style="width: auto">'+this.locale.monthNames[t[1][1].getMonth()]+t[1][1].toString(" yyyy")+"</th>",!n||n>t[1][1]?s+='<th class="next available"><i class="icon-angle-right"></i></th>':s+="<th></th>",s+="</tr>",s+="<tr>",this.showWeekNumbers&&(s+='<th class="week">'+this.locale.weekLabel+"</th>"),f.each(this.locale.daysOfWeek,function(t,e){s+="<th>"+e+"</th>"}),s+="</tr>",s+="</thead>",s+="<tbody>";for(var o=0;o<6;o++){s+="<tr>",this.showWeekNumbers&&(s+='<td class="week">'+t[o][0].getWeek()+"</td>");for(var r=0;r<7;r++){var a="available ";a+=t[o][r].getMonth()==t[1][1].getMonth()?"":"off",e.setHours(0,0,0,0),i&&t[o][r]<i||n&&t[o][r]>n?a="off disabled":t[o][r].equals(e)&&(a+="active"),s+='<td class="'+a+'" title="'+("r"+o+"c"+r)+'">'+t[o][r].getDate()+"</td>"}s+="</tr>"}return s+="</tbody>",s+="</table>"}},f.fn.daterangepicker=function(e,i){return this.each(function(){var t=f(this);t.data("daterangepicker")||t.data("daterangepicker",new n(t,e,i))}),this}}(window.jQuery),function(o){var r=function(t,e){if(this.element=o(t),this.format=u.parseFormat(e.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=o(u.template).appendTo("body").on({click:o.proxy(this.click,this),mousedown:o.proxy(this.mousedown,this)}),this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on"),this.isInput?this.element.on({focus:o.proxy(this.show,this),blur:o.proxy(this.hide,this),keyup:o.proxy(this.update,this)}):this.component?this.component.on("click",o.proxy(this.show,this)):this.element.on("click",o.proxy(this.show,this)),this.minViewMode=e.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=e.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=e.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};r.prototype={constructor:r,show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),o(window).on("resize",o.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.isInput||o(document).on("mousedown",o.proxy(this.hide,this)),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),o(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||o(document).off("mousedown",this.hide),this.set(),this.element.trigger({type:"hide",date:this.date})},set:function(){var t=u.formatDate(this.date,this.format);this.isInput?this.element.prop("value",t):(this.component&&this.element.find("input").prop("value",t),this.element.data("date",t))},setValue:function(t){this.date="string"==typeof t?u.parseDate(t,this.format):new Date(t),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var t=this.component?this.component.offset():this.element.offset();this.picker.css({top:t.top+this.height,left:t.left})},update:function(t){this.date=u.parseDate("string"==typeof t?t:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+u.dates.daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+u.dates.monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").append(t)},fill:function(){var t=new Date(this.viewDate),e=t.getFullYear(),i=t.getMonth(),n=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(u.dates.months[i]+" "+e);var s=new Date(e,i-1,28,0,0,0,0),o=u.getDaysInMonth(s.getFullYear(),s.getMonth());s.setDate(o),s.setDate(o-(s.getDay()-this.weekStart+7)%7);var r,a=new Date(s);for(a.setDate(a.getDate()+42),a=a.valueOf(),html=[];s.valueOf()<a;)s.getDay()===this.weekStart&&html.push("<tr>"),r="",s.getMonth()<i?r+=" old":s.getMonth()>i&&(r+=" new"),s.valueOf()===n&&(r+=" active"),html.push('<td class="day'+r+'">'+s.getDate()+"</td>"),s.getDay()===this.weekEnd&&html.push("</tr>"),s.setDate(s.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var l=this.date.getFullYear(),h=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");l===e&&h.eq(this.date.getMonth()).addClass("active"),html="",e=10*parseInt(e/10,10);var c=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");e-=1;for(var d=-1;d<11;d++)html+='<span class="year'+(-1===d||10===d?" old":"")+(l===e?" active":"")+'">'+e+"</span>",e+=1;c.html(html)},click:function(t){t.stopPropagation(),t.preventDefault();var e=o(t.target).closest("span, td, th");if(1===e.length)switch(e[0].nodeName.toLowerCase()){case"th":switch(e[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+u.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+u.modes[this.viewMode].navFnc].call(this.viewDate)+u.modes[this.viewMode].navStep*("prev"===e[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(e.is(".month")){var i=e.parent().find("span").index(e);this.viewDate.setMonth(i)}else{var n=parseInt(e.text(),10)||0;this.viewDate.setFullYear(n)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:u.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(e.is(".day")){var s=parseInt(e.text(),10)||1;i=this.viewDate.getMonth();e.is(".old")?i-=1:e.is(".new")&&(i+=1);n=this.viewDate.getFullYear();this.date=new Date(n,i,s,0,0,0,0),this.viewDate=new Date(n,i,Math.min(28,s),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:u.modes[this.viewMode].clsName})}}},mousedown:function(t){t.stopPropagation(),t.preventDefault()},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+u.modes[this.viewMode].clsName).show()}},o.fn.datepicker=function(n,s){return this.each(function(){var t=o(this),e=t.data("datepicker"),i="object"==typeof n&&n;e||t.data("datepicker",e=new r(this,o.extend({},o.fn.datepicker.defaults,i))),"string"==typeof n&&e[n](s)})},o.fn.datepicker.defaults={},o.fn.datepicker.Constructor=r;var u={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,u.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},parseFormat:function(t){var e=t.match(/[.\/\-\s].*?/),i=t.split(/\W+/);if(!e||!i||0===i.length)throw new Error("Invalid date format.");return{separator:e,parts:i}},parseDate:function(t,e){var i,n=t.split(e.separator);if((t=new Date).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),n.length===e.parts.length)for(var s=0,o=e.parts.length;s<o;s++)switch(i=parseInt(n[s],10)||1,e.parts[s]){case"dd":case"d":t.setDate(i);break;case"mm":case"m":t.setMonth(i-1);break;case"yy":t.setFullYear(2e3+i);break;case"yyyy":t.setFullYear(i)}return t},formatDate:function(t,e){var i={d:t.getDate(),m:t.getMonth()+1,yy:t.getFullYear().toString().substring(2),yyyy:t.getFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m;t=[];for(var n=0,s=e.parts.length;n<s;n++)t.push(i[e.parts[n]]);return t.join(e.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};u.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+u.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+u.headTemplate+u.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+u.headTemplate+u.contTemplate+"</table></div></div>"}(window.jQuery),function(n){"use strict";var s=function(t,e){if(this.$element=n(t),this.type=this.$element.data("uploadtype")||(0<this.$element.find(".thumbnail").length?"image":"file"),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||e.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=n('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileupload-preview");var i=this.$preview.css("height");"inline"!=this.$preview.css("display")&&"0px"!=i&&"none"!=i&&this.$preview.css("line-height",i),this.original={exists:this.$element.hasClass("fileupload-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.$remove=this.$element.find('[data-dismiss="fileupload"]'),this.$element.find('[data-trigger="fileupload"]').on("click.fileupload",n.proxy(this.trigger,this)),this.listen()}};s.prototype={listen:function(){this.$input.on("change.fileupload",n.proxy(this.change,this)),n(this.$input[0].form).on("reset.fileupload",n.proxy(this.reset,this)),this.$remove&&this.$remove.on("click.fileupload",n.proxy(this.clear,this))},change:function(t,e){var i=void 0!==t.target.files?t.target.files[0]:t.target.value?{name:t.target.value.replace(/^.+\\/,"")}:null;if("clear"!==e)if(i)if(this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name),"image"===this.type&&0<this.$preview.length&&(void 0!==i.type?i.type.match("image.*"):i.name.match("\\.(gif|png|jpe?g)$"))&&"undefined"!=typeof FileReader){var n=new FileReader,s=this.$preview,o=this.$element;n.onload=function(t){s.html('<img src="'+t.target.result+'" '+("none"!=s.css("max-height")?'style="max-height: '+s.css("max-height")+';"':"")+" />"),o.addClass("fileupload-exists").removeClass("fileupload-new")},n.readAsDataURL(i)}else this.$preview.text(i.name),this.$element.addClass("fileupload-exists").removeClass("fileupload-new");else this.clear()},clear:function(t){if(this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),n.browser.msie){var e=this.$input.clone(!0);this.$input.after(e),this.$input.remove(),this.$input=e}else this.$input.val("");this.$preview.html(""),this.$element.addClass("fileupload-new").removeClass("fileupload-exists"),t&&(this.$input.trigger("change",["clear"]),t.preventDefault())},reset:function(t){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.original.exists?this.$element.addClass("fileupload-exists").removeClass("fileupload-new"):this.$element.addClass("fileupload-new").removeClass("fileupload-exists")},trigger:function(t){this.$input.trigger("click"),t.preventDefault()}},n.fn.fileupload=function(i){return this.each(function(){var t=n(this),e=t.data("fileupload");e||t.data("fileupload",e=new s(this,i)),"string"==typeof i&&e[i]()})},n.fn.fileupload.Constructor=s,n(function(){n("body").on("click.fileupload.data-api",'[data-provides="fileupload"]',function(t){var e=n(this);if(!e.data("fileupload")){e.fileupload(e.data());var i=n(t.target).is("[data-dismiss=fileupload],[data-trigger=fileupload]")?n(t.target):n(t.target).parents("[data-dismiss=fileupload],[data-trigger=fileupload]").first();0<i.length&&(i.trigger("click.fileupload"),t.preventDefault())}})})}(window.jQuery),function(b){"use strict";function n(t,e){return-1<t.toUpperCase().indexOf(e.toUpperCase())}function m(t){return b.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t.replace(this.re,this.ch)}),t}function a(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),s=new RegExp(i,"g"),o=null==t?"":""+t;return n.test(o)?o.replace(s,function(t){return e[t]}):o}function e(o,r){var a=arguments,t=o;o=a[0],r=a[1];[].shift.apply(a),void 0===o&&(o=t);var l,e=this.each(function(){var t=b(this);if(t.is("select")){var e=t.data("selectpicker"),i="object"==typeof o&&o;if(e){if(i)for(var n in i)i.hasOwnProperty(n)&&(e.options[n]=i[n])}else{var s=b.extend({},h.DEFAULTS,b.fn.selectpicker.defaults||{},t.data(),i);t.data("selectpicker",e=new h(this,s,r))}"string"==typeof o&&(l=e[o]instanceof Function?e[o].apply(e,a):e.options[o])}});return void 0!==l?l:e}b.expr[":"].icontains=function(t,e,i){return n(b(t).text(),i[3])},b.expr[":"].aicontains=function(t,e,i){return n(b(t).data("normalizedText")||b(t).text(),i[3])};var h=function(t,e,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=b(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=e,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=h.prototype.val,this.render=h.prototype.render,this.refresh=h.prototype.refresh,this.setStyle=h.prototype.setStyle,this.selectAll=h.prototype.selectAll,this.deselectAll=h.prototype.deselectAll,this.destroy=h.prototype.remove,this.remove=h.prototype.remove,this.show=h.prototype.show,this.hide=h.prototype.hide,this.init()};h.VERSION="1.6.3",h.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(t){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){var i=[];return i[0]=1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",i[1]=1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",i},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},h.prototype={constructor:h,init:function(){var e=this,t=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==t&&(this.$button.attr("data-id",t),b('label[for="'+t+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var t=this.multiple?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",n=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",r=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"";return b('<div class="btn-group bootstrap-select'+t+e+'"><button type="button" class="btn dropdown-toggle selectpicker'+n+'" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+s+o+r+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>')},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul").append(e),t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menu.find("ul").append(t)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var c=this,d=[],u=0,p=function(t,e,i){return"<li"+(void 0!==i?' class="'+i+'"':"")+(void 0!==e|null===e?' data-original-index="'+e+'"':"")+">"+t+"</li>"},f=function(t,e,i,n){return'<a tabindex="0"'+(void 0!==e?' class="'+e+'"':"")+(void 0!==i?' style="'+i+'"':"")+(void 0!==n?'data-optgroup="'+n+'"':"")+' data-normalized-text="'+m(a(t))+'">'+t+'<span class="'+c.options.iconBase+" "+c.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(){var t=b(this),e=t.attr("class")||"",i=t.attr("style"),n=t.data("content")?t.data("content"):t.html(),s=void 0!==t.data("subtext")?'<small class="muted text-muted">'+t.data("subtext")+"</small>":"",o=void 0!==t.data("icon")?'<span class="'+c.options.iconBase+" "+t.data("icon")+'"></span> ':"",r=t.is(":disabled")||t.parent().is(":disabled"),a=t[0].index;if(""!==o&&r&&(o="<span>"+o+"</span>"),t.data("content")||(n=o+'<span class="text">'+n+s+"</span>"),!c.options.hideDisabled||!r)if(t.parent().is("optgroup")&&!0!==t.data("divider")){if(0===t.index()){u+=1;var l=t.parent().attr("label"),h=void 0!==t.parent().data("subtext")?'<small class="muted text-muted">'+t.parent().data("subtext")+"</small>":"";l=(t.parent().data("icon")?'<span class="'+c.options.iconBase+" "+t.parent().data("icon")+'"></span> ':"")+'<span class="text">'+l+h+"</span>",0!==a&&0<d.length&&d.push(p("",null,"divider")),d.push(p(l,null,"dropdown-header"))}d.push(p(f(n,"opt "+e,i,u),a))}else d.push(!0===t.data("divider")?p("",a,"divider"):!0===t.data("hidden")?p(f(n,e,i),a,"hide is-hidden"):p(f(n,e,i),a))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),b(d.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var n=this;!1!==t&&this.$element.find("option").each(function(t){n.setDisabled(t,b(this).is(":disabled")||b(this).parent().is(":disabled")),n.setSelected(t,b(this).is(":selected"))}),this.tabIndex();var e=this.options.hideDisabled?":not([disabled])":"",i=this.$element.find("option:selected"+e).map(function(){var t,e=b(this),i=e.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+e.data("icon")+'"></i> ':"";return t=n.options.showSubtext&&e.attr("data-subtext")&&!n.multiple?' <small class="muted text-muted">'+e.data("subtext")+"</small>":"",e.data("content")&&n.options.showContent?e.data("content"):void 0!==e.attr("title")?e.attr("title"):i+e.html()+t}).toArray(),s=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var o=this.options.selectedTextFormat.split(">");if(1<o.length&&i.length>o[1]||1==o.length&&2<=i.length){e=this.options.hideDisabled?", [disabled]":"";var r=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+e).length;s=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,r):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",r.toString())}}this.options.title=this.$element.attr("title"),"static"==this.options.selectedTextFormat&&(s=this.options.title),s||(s=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",a(s)),this.$newElement.find(".filter-option").html(s)},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var i=t||this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(!1!==this.options.size){var t=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),e=t.addClass("open").find("> .dropdown-menu"),i=e.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),n=this.options.header?e.find(".popover-title").outerHeight():0,s=this.options.liveSearch?e.find(".bs-searchbox").outerHeight():0,o=this.options.actionsBox?e.find(".bs-actionsbox").outerHeight():0;t.remove(),this.$newElement.data("liHeight",i).data("headerHeight",n).data("searchHeight",s).data("actionsHeight",o)}},setSize:function(){this.findLis();var i,n,s,o=this,r=this.$menu,a=r.find(".inner"),t=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),h=this.$newElement.data("headerHeight"),c=this.$newElement.data("searchHeight"),d=this.$newElement.data("actionsHeight"),e=this.$lis.filter(".divider").outerHeight(!0),u=parseInt(r.css("padding-top"))+parseInt(r.css("padding-bottom"))+parseInt(r.css("border-top-width"))+parseInt(r.css("border-bottom-width")),p=this.options.hideDisabled?", .disabled":"",f=b(window),g=u+parseInt(r.css("margin-top"))+parseInt(r.css("margin-bottom"))+2,m=function(){n=o.$newElement.offset().top-f.scrollTop(),s=f.height()-n-t};if(m(),this.options.header&&r.css("padding-top",0),"auto"==this.options.size){var y=function(){var t,e=o.$lis.not(".hide");m(),i=s-g,o.options.dropupAuto&&o.$newElement.toggleClass("dropup",s<n&&i-g<r.height()),o.$newElement.hasClass("dropup")&&(i=n-g),t=3<e.length+e.filter(".dropdown-header").length?3*l+g-2:0,r.css({"max-height":i+"px",overflow:"hidden","min-height":t+h+c+d+"px"}),a.css({"max-height":i-h-c-d-u+"px","overflow-y":"auto","min-height":Math.max(t-u,0)+"px"})};y(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",y),b(window).off("resize.getSize").on("resize.getSize",y),b(window).off("scroll.getSize").on("scroll.getSize",y)}else if(this.options.size&&"auto"!=this.options.size&&r.find("li"+p).length>this.options.size){var v=this.$lis.not(".divider"+p).find(" > *").slice(0,this.options.size).last().parent().index(),_=this.$lis.slice(0,v+1).filter(".divider").length;i=l*this.options.size+_*e+u,o.options.dropupAuto&&this.$newElement.toggleClass("dropup",s<n&&i<r.height()),r.css({"max-height":i+h+c+d+"px",overflow:"hidden"}),a.css({"max-height":i-u+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var t=this.$newElement.clone().appendTo("body"),e=t.find("> .dropdown-menu").css("width"),i=t.css("width","auto").find("> button").css("width");t.remove(),this.$newElement.css("width",Math.max(parseInt(e),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var e,i,n=this,s=b("<div />"),t=function(t){s.addClass(t.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,s.css({top:e.top+i,left:e.left,width:t[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){n.isDisabled()||(t(b(this)),s.appendTo(n.options.container),s.toggleClass("open",!b(this).hasClass("open")),s.append(n.$menu))}),b(window).resize(function(){t(n.$newElement)}),b(window).on("scroll",function(){t(n.$newElement)}),b("html").on("click",function(t){b(t.target).closest(n.$newElement).length<1&&s.removeClass("open")})},setSelected:function(t,e){this.findLis(),this.$lis.filter('[data-original-index="'+t+'"]').toggleClass("selected",e)},setDisabled:function(t,e){this.findLis(),e?this.$lis.filter('[data-original-index="'+t+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+t+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var t=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var v=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),this.$newElement.on("click",function(){v.setSize(),v.options.liveSearch||v.multiple||setTimeout(function(){v.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(t){var e=b(this),i=e.parent().data("originalIndex"),n=v.$element.val(),s=v.$element.prop("selectedIndex");if(v.multiple&&t.stopPropagation(),t.preventDefault(),!v.isDisabled()&&!e.parent().hasClass("disabled")){var o=v.$element.find("option"),r=o.eq(i),a=r.prop("selected"),l=r.parent("optgroup"),h=v.options.maxOptions,c=l.data("maxOptions")||!1;if(v.multiple){if(r.prop("selected",!a),v.setSelected(i,!a),e.blur(),!1!==h||!1!==c){var d=h<o.filter(":selected").length,u=c<l.find("option:selected").length;if(h&&d||c&&u)if(h&&1==h)o.prop("selected",!1),r.prop("selected",!0),v.$menu.find(".selected").removeClass("selected"),v.setSelected(i,!0);else if(c&&1==c){l.find("option:selected").prop("selected",!1),r.prop("selected",!0);var p=e.data("optgroup");v.$menu.find(".selected").has('a[data-optgroup="'+p+'"]').removeClass("selected"),v.setSelected(i,!0)}else{var f="function"==typeof v.options.maxOptionsText?v.options.maxOptionsText(h,c):v.options.maxOptionsText,g=f[0].replace("{n}",h),m=f[1].replace("{n}",c),y=b('<div class="notify"></div>');f[2]&&(g=g.replace("{var}",f[2][1<h?0:1]),m=m.replace("{var}",f[2][1<c?0:1])),r.prop("selected",!1),v.$menu.append(y),h&&d&&(y.append(b("<div>"+g+"</div>")),v.$element.trigger("maxReached.bs.select")),c&&u&&(y.append(b("<div>"+m+"</div>")),v.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){v.setSelected(i,!1)},10),y.delay(750).fadeOut(300,function(){b(this).remove()})}}}else o.prop("selected",!1),r.prop("selected",!0),v.$menu.find(".selected").removeClass("selected"),v.setSelected(i,!0);v.multiple?v.options.liveSearch&&v.$searchbox.focus():v.$button.focus(),(n!=v.$element.val()&&v.multiple||s!=v.$element.prop("selectedIndex")&&!v.multiple)&&v.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.target==this&&(t.preventDefault(),t.stopPropagation(),v.options.liveSearch?v.$searchbox.focus():v.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),v.options.liveSearch?v.$searchbox.focus():v.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){v.$button.focus()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){v.options.liveSearch?v.$searchbox.focus():v.$button.focus(),t.preventDefault(),t.stopPropagation(),b(this).is(".bs-select-all")?v.selectAll():v.deselectAll(),v.$element.change()}),this.$element.change(function(){v.render(!1)})},liveSearchListener:function(){var t=this,e=b('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),t.multiple||t.$menu.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){t.$searchbox.val()?(t.options.searchAccentInsensitive?t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+m(t.$searchbox.val())+")").parent().addClass("hide"):t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+t.$searchbox.val()+")").parent().addClass("hide"),t.$menu.find("li").filter(":visible:not(.no-results)").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html(t.options.noneResultsText+' "'+a(t.$searchbox.val())+'"').show(),t.$menu.find("li").last().after(e))):(t.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),t.$menu.find("li.active").removeClass("active"),t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),b(this).focus()})},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(t){var e,i,n,s,o,r,a,l,h,c=b(this),d=c.is("input")?c.parent().parent():c.parent(),u=d.data("this"),p={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(u.options.liveSearch&&(d=c.parent().parent()),u.options.container&&(d=u.$menu),e=b("[role=menu] li a",d),!(h=u.$menu.parent().hasClass("open"))&&/([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode))&&(u.options.container?u.$newElement.trigger("click"):(u.setSize(),u.$menu.parent().addClass("open"),h=!0),u.$searchbox.focus()),u.options.liveSearch&&(/(^9$|27)/.test(t.keyCode.toString(10))&&h&&0===u.$menu.find(".active").length&&(t.preventDefault(),u.$menu.parent().removeClass("open"),u.$button.focus()),e=b("[role=menu] li:not(.divider):not(.dropdown-header):visible",d),c.val()||/(38|40)/.test(t.keyCode.toString(10))||0===e.filter(".active").length&&(e=u.$newElement.find("li").filter(u.options.searchAccentInsensitive?":aicontains("+m(p[t.keyCode])+")":":icontains("+p[t.keyCode]+")"))),e.length){if(/(38|40)/.test(t.keyCode.toString(10)))i=e.index(e.filter(":focus")),s=e.parent(":not(.disabled):visible").first().index(),o=e.parent(":not(.disabled):visible").last().index(),n=e.eq(i).parent().nextAll(":not(.disabled):visible").eq(0).index(),r=e.eq(i).parent().prevAll(":not(.disabled):visible").eq(0).index(),a=e.eq(n).parent().prevAll(":not(.disabled):visible").eq(0).index(),u.options.liveSearch&&(e.each(function(t){b(this).is(":not(.disabled)")&&b(this).data("index",t)}),i=e.index(e.filter(".active")),s=e.filter(":not(.disabled):visible").first().data("index"),o=e.filter(":not(.disabled):visible").last().data("index"),n=e.eq(i).nextAll(":not(.disabled):visible").eq(0).data("index"),r=e.eq(i).prevAll(":not(.disabled):visible").eq(0).data("index"),a=e.eq(n).prevAll(":not(.disabled):visible").eq(0).data("index")),l=c.data("prevIndex"),38==t.keyCode&&(u.options.liveSearch&&(i-=1),i!=a&&r<i&&(i=r),i<s&&(i=s),i==l&&(i=o)),40==t.keyCode&&(u.options.liveSearch&&(i+=1),-1==i&&(i=0),i!=a&&i<n&&(i=n),o<i&&(i=o),i==l&&(i=s)),c.data("prevIndex",i),u.options.liveSearch?(t.preventDefault(),c.is(".dropdown-toggle")||(e.removeClass("active"),e.eq(i).addClass("active").find("a").focus(),c.focus())):e.eq(i).focus();else if(!c.is("input")){var f,g=[];e.each(function(){b(this).parent().is(":not(.disabled)")&&b.trim(b(this).text().toLowerCase()).substring(0,1)==p[t.keyCode]&&g.push(b(this).parent().index())}),f=b(document).data("keycount"),f++,b(document).data("keycount",f),b.trim(b(":focus").text().toLowerCase()).substring(0,1)!=p[t.keyCode]?(f=1,b(document).data("keycount",f)):f>=g.length&&(b(document).data("keycount",0),f>g.length&&(f=1)),e.eq(g[f-1]).focus()}(/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&u.options.selectOnTab)&&h&&(/(32)/.test(t.keyCode.toString(10))||t.preventDefault(),u.options.liveSearch?/(32)/.test(t.keyCode.toString(10))||(u.$menu.find(".active a").click(),c.focus()):b(":focus").click(),b(document).data("keycount",0)),(/(^9$|27)/.test(t.keyCode.toString(10))&&h&&(u.multiple||u.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!h)&&(u.$menu.parent().removeClass("open"),u.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var t=b.fn.selectpicker;b.fn.selectpicker=e,b.fn.selectpicker.Constructor=h,b.fn.selectpicker.noConflict=function(){return b.fn.selectpicker=t,this},b(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",h.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(t){t.stopPropagation()}),b(window).on("load.bs.select.data-api",function(){b(".selectpicker").each(function(){var t=b(this);e.call(t,t.data())})})}(jQuery),function(o){var r=0,e=null;o.fn.resetBreakpoints=function(){o(window).unbind("resize"),e&&clearInterval(e),r=0},o.fn.setBreakpoints=function(t){var s=jQuery.extend({distinct:!0,breakpoints:new Array(320,480,768,1024)},t);e=setInterval(function(){var t=o(window).width(),e=!1;for(var i in s.breakpoints.sort(function(t,e){return e-t})){if(!e&&t>=s.breakpoints[i]&&r<s.breakpoints[i]){if(s.distinct){for(var n in s.breakpoints.sort(function(t,e){return e-t}))o("body").hasClass("breakpoint-"+s.breakpoints[n])&&(o("body").removeClass("breakpoint-"+s.breakpoints[n]),o(window).trigger("exitBreakpoint"+s.breakpoints[n]));e=!0}o("body").addClass("breakpoint-"+s.breakpoints[i]),o(window).trigger("enterBreakpoint"+s.breakpoints[i])}t<s.breakpoints[i]&&r>=s.breakpoints[i]&&(o("body").removeClass("breakpoint-"+s.breakpoints[i]),o(window).trigger("exitBreakpoint"+s.breakpoints[i])),s.distinct&&t>=s.breakpoints[i]&&t<s.breakpoints[i-1]&&t<r&&0<r&&!o("body").hasClass("breakpoint-"+s.breakpoints[i])&&(o("body").addClass("breakpoint-"+s.breakpoints[i]),o(window).trigger("enterBreakpoint"+s.breakpoints[i]))}r!=t&&(r=t)},250)}}(jQuery),function(V){null==V.fn.inputmask&&(V.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:V.noop,onincomplete:V.noop,oncleared:V.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:V.noop,onKeyDown:V.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:V.noop,skipOptionalPartCharacter:" ",numericInput:!1,radixPoint:"",rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z-]",cardinality:1},"*":{validator:"[A-Za-z-0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(t,e,i){var n=t.length;return!e&&1<i&&(n+=t.length*(i-1)),n}},val:V.fn.val,escapeRegex:function(t){return t.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},V.fn.inputmask=function(t,e){var y,v;function n(t,e){var i=B.aliases[t];return!!i&&(i.alias&&n(i.alias),V.extend(!0,B,i),V.extend(!0,B,e),!0)}function h(t){var n=!1,s=0,e=B.greedy,i=B.repeat;1==t.length&&0==e&&(B.placeholder="");for(var o=(t=V.map(t.split(""),function(t){var e=[];if(t==B.escapeChar)n=!0;else if(t!=B.optionalmarker.start&&t!=B.optionalmarker.end||n){var i=B.definitions[t];if(i&&!n)for(t=0;t<i.cardinality;t++)e.push(S(s+t));else e.push(t),n=!1;return s+=e.length,e}})).slice(),r=1;r<i&&e;r++)o=o.concat(t.slice());return{mask:o,repeat:i,greedy:e}}function c(t){var l=!1,h=!1,c=!1;return V.map(t.split(""),function(t){var e=[];if(t==B.escapeChar)h=!0;else if(t!=B.optionalmarker.start||h){if(t!=B.optionalmarker.end||h){var i=B.definitions[t];if(i&&!h){for(var n=i.prevalidator,s=n?n.length:0,o=1;o<i.cardinality;o++){var r=(a=o<=s?n[o-1]:[]).validator,a=a.cardinality;e.push({fn:r?"string"==typeof r?RegExp(r):new function(){this.test=r}:/./,cardinality:a||1,optionality:l,newBlockMarker:1==l&&c,offset:0,casing:i.casing,def:i.definitionSymbol|t}),1==l&&(c=!1)}e.push({fn:i.validator?"string"==typeof i.validator?RegExp(i.validator):new function(){this.test=i.validator}:/./,cardinality:i.cardinality,optionality:l,newBlockMarker:c,offset:0,casing:i.casing,def:i.definitionSymbol|t})}else e.push({fn:null,cardinality:0,optionality:l,newBlockMarker:c,offset:0,casing:null,def:t}),h=!1;return c=!1,e}c=!(l=!1)}else c=l=!0})}function s(){function a(t,e){var n,s=0,o=0,r=e.length;for(i=0;i<r&&(e.charAt(i)==B.optionalmarker.start&&s++,e.charAt(i)==B.optionalmarker.end&&o++,!(0<s&&s==o));i++);for(s=[e.substring(0,i)],i<r&&s.push(e.substring(i+1,r)),n=(o=s[0]).length,i=0;i<n&&o.charAt(i)!=B.optionalmarker.start;i++);r=[o.substring(0,i)],i<n&&r.push(o.substring(i+1,n)),1<r.length?(n=h(o=t+r[0]+(B.optionalmarker.start+r[1]+B.optionalmarker.end)+(1<s.length?s[1]:"")),l.push({mask:o,_buffer:n.mask,tests:c(o),lastValidPosition:void 0,greedy:n.greedy,repeat:n.repeat}),n=h(o=t+r[0]+(1<s.length?s[1]:"")),l.push({mask:o,_buffer:n.mask,tests:c(o),lastValidPosition:void 0,greedy:n.greedy,repeat:n.repeat}),1<s.length&&1<s[1].split(B.optionalmarker.start).length&&(a(t+r[0]+(B.optionalmarker.start+r[1]+B.optionalmarker.end),s[1]),a(t+r[0],s[1]))):(n=h(o=t+s),l.push({mask:o,_buffer:n.mask,tests:c(o),lastValidPosition:void 0,greedy:n.greedy,repeat:n.repeat}))}var l=[];return V.isArray(B.mask)?V.each(B.mask,function(t,e){a("",e.toString())}):a("",B.mask.toString()),l}function _(){return Y[U].tests}function b(){return Y[U]._buffer}function x(i,r,a,l,n){function s(t,e){for(var i=k(t),n=r?1:0,s="",o=e.tests[i].cardinality;n<o;o--)s+=A(a,i-(o-1));return r&&(s+=r),null!=e.tests[i].fn&&e.tests[i].fn.test(s,a,t,l,B)}if(l)return s(i,Y[U]);var o=[],t=!1,h=U;return V.each(Y,function(t){var e=i;if(h!=(U=t)&&!C(i)){if(r==this._buffer[e]||r==B.skipOptionalPartCharacter)return o[t]={refresh:!0},this.lastValidPosition=e,!1;e=n?M(a,i):E(a,i)}(null==this.lastValidPosition||n||B.numericInput?this.lastValidPosition<=B.numericInput?T(a):E(a,e):this.lastValidPosition>=M(a,e))&&0<=e&&e<T(a)&&(o[t]=s(e,this),!1!==o[t]?(!0===o[t]&&(o[t]={pos:e}),this.lastValidPosition=o[t].pos||e):this.lastValidPosition=n?i==T(a)?void 0:E(a,i):0==i?void 0:M(a,i))}),w(a,i,U=h,n),t=o[U]||t,setTimeout(function(){B.onKeyValidation.call(this,t,B)},0),t}function w(s,o,r,a){V.each(Y,function(t){if(this.lastValidPosition&&(a||B.numericInput)?this.lastValidPosition<=o:this.lastValidPosition>=o){if((U=t)!=r){t=T(s);var e=b();(a||B.numericInput)&&(s.reverse(),e.reverse());for(var i=s.length=o;i<t;i++){var n=k(i);z(s,i,A(e,n))}a&&s.reverse()}return!1}})}function C(t){return t=k(t),null!=(t=_()[t])&&t.fn}function k(t){return t%_().length}function S(t){return B.placeholder.charAt(t%B.placeholder.length)}function T(t){return B.getMaskLength(b(),Y[U].greedy,Y[U].repeat,t,B)}function E(t,e){var i=T(t);if(i<=e)return i;for(var n=e;++n<i&&!C(n););return n}function M(t,e){var i=e;if(i<=0)return 0;for(;0<--i&&!C(i););return i}function z(t,e,i){var n=_()[k(e)],s=i;if(null!=s)switch(n.casing){case"upper":s=i.toUpperCase();break;case"lower":s=i.toLowerCase()}t[e]=s}function A(t,e,i){return i&&(e=D(t,e)),t[e]}function D(t,e,i){if(i)for(;e<0&&t.length<T(t);)for(i=b().length-1,e=b().length;void 0!==b()[i];)t.unshift(b()[i--]);else for(;null==t[e]&&t.length<T(t);)for(i=0;void 0!==b()[i];)t.push(b()[i++]);return e}function L(t,e,i){t._valueSet(e.join("")),null!=i&&H(t,i)}function $(t,e,i){for(var n=T(t);e<i&&e<n;e++)z(t,e,A(b().slice(),e))}function O(t,e){var i=k(e);z(t,e,A(b(),i))}function I(t,e,i,n){var s=V(t).data("inputmask").isRTL,o=P(t._valueGet(),s).split(""),r=T(e);if(s){var a=o.reverse();a.length=r;for(var l=0;l<r;l++){var h=k(r-(l+1));null==_()[h].fn&&a[l]!=A(b(),h)?(a.splice(l,0,A(b(),h)),a.length=r):a[l]=a[l]||A(b(),h)}o=a.reverse()}$(e,0,e.length),e.length=b().length;var c,d=a=-1,u=o.length;for(h=0==u?r:-1,l=0;l<u;l++)for(var p=d+1;p<r;p++){if(C(p)){var f=o[l];!1!==(c=x(p,f,e,!i,s))?(!0!==c&&(p=null!=c.pos?c.pos:p,f=null!=c.c?c.c:f),z(e,p,f),a=d=p):(O(e,p),f==S(p)&&(h=d=p));break}if(O(e,p),a==d&&(a=p),d=p,o[l]==A(e,p))break}if(0==Y[U].greedy){for(o=(l=P(e.join(""),s).split("")).length,d=0;d<o;d++)e[d]=l[d];e.length=l.length}return i&&L(t,e),s?B.numericInput?""!=B.radixPoint&&-1!=V.inArray(B.radixPoint,e)&&!0!==n?V.inArray(B.radixPoint,e):E(e,r):E(e,h):E(e,a)}function o(t){return V.inputmask.escapeRegex.call(this,t)}function P(t,e){return e?t.replace(RegExp("^("+o(b().join(""))+")*"),""):t.replace(RegExp("("+o(b().join(""))+")*$"),"")}function R(t,e){I(t,e,!1);var i,n,s=e.slice();if(V(t).data("inputmask").isRTL)for(n=0;n<=s.length-1&&(i=k(n),_()[i].optionality)&&(!C(n)||!x(n,e[n],e,!0));n++)s.splice(0,1);else for(n=s.length-1;0<=n&&(i=k(n),_()[i].optionality)&&(!C(n)||!x(n,e[n],e,!0));n--)s.pop();L(t,s)}function r(t,e){var i=t[0];if(!_()||!0!==e&&t.hasClass("hasDatepicker"))return i._valueGet();var n=b().slice();return I(i,n),V.map(n,function(t,e){return C(e)&&x(e,t,n,!0)?t:null}).join("")}function H(t,e,i){var n=t.jquery&&0<t.length?t[0]:t;if("number"!=typeof e)return V(t).is(":visible")?(n.setSelectionRange?(e=n.selectionStart,i=n.selectionEnd):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),e=0-range.duplicate().moveStart("character",-1e5),i=e+range.text.length),{begin:e,end:i}):{begin:0,end:0};V(t).is(":visible")&&(i="number"==typeof i?i:e,0==B.insertMode&&e==i&&i++,n.setSelectionRange?q?(setTimeout(function(){n.selectionStart=e,n.selectionEnd=q?e:i},10),y=e,v=i):(n.selectionStart=e,n.selectionEnd=i):n.createTextRange&&(range=n.createTextRange(),range.collapse(!0),range.moveEnd("character",i),range.moveStart("character",e),range.select()))}function N(r){var a=!1,l=0,t=U;return V.each(Y,function(t,e){U=t;var i=T(r);if(e.lastValidPosition&&e.lastValidPosition>=l&&e.lastValidPosition==i-1){for(var n=!0,s=0;s<i;s++){var o=C(s);if(o&&r[s]==S(s)||!o&&r[s]!=b()[s]){n=!1;break}}if(a=a||n)return!1}l=e.lastValidPosition}),U=t,a}function a(t){function r(t,e){if(B.numericInput&&""!=B.radixPoint){var i=t._valueGet().indexOf(B.radixPoint);g=e.begin<=i||e.end<=i||-1==i}}function h(t,e,i){for(;!C(t)&&0<=t-1;)t--;for(var n=t;n<e&&n<T(d);n++)if(C(n)){O(d,n);var s=E(d,n),o=A(d,s);if(o!=S(s)){if(s<T(d)&&!1!==x(n,o,d,!0,g)&&_()[k(n)].def==_()[k(s)].def)z(d,n,A(d,s)),O(d,s);else if(C(n))break}else if(null==i)break}else O(d,n);return null!=i&&z(d,g?e:M(0,e),i),0==(d=P(d.join(""),g).split("")).length&&(d=b().slice()),t}function c(t,e,i,n){for(;t<=e&&t<T(d);t++)if(C(t)){var s=A(d,t);if(z(d,t,i),s!=S(t)){if(!((i=E(d,t))<T(d)))break;if(!1!==x(i,s,d,!0,g)&&_()[k(t)].def==_()[k(i)].def)i=s;else{if(C(i))break;i=s}}else if(!0!==n)break}else O(d,t);return n=d.length,0==(d=P(d.join(""),g).split("")).length&&(d=b().slice()),e-(n-d.length)}var e,i,n,s=V(t);if(s.is(":input")){var d=b().slice();Y[U].greedy=Y[U].greedy?Y[U].greedy:0==Y[U].repeat;var o=s.prop("maxLength");T(d)>o&&-1<o&&(o<b().length&&(b().length=o),0==Y[U].greedy&&(Y[U].repeat=Math.round(o/b().length)),s.prop("maxLength",2*T(d))),s.data("inputmask",{masksets:Y,activeMasksetIndex:U,autoUnmask:B.autoUnmask,definitions:B.definitions,isRTL:!1}),i=t,Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(i,"value")),n&&n.get?i._valueGet||(i._valueGet=n.get,i._valueSet=n.set,Object.defineProperty(i,"value",{get:function(){var t=V(this),e=V(this).data("inputmask"),i=e.masksets,n=e.activeMasksetIndex;return e&&e.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=i[n]._buffer.join("")?this._valueGet():""},set:function(t){this._valueSet(t),V(this).triggerHandler("setvalue.inputmask")}})):document.__lookupGetter__&&i.__lookupGetter__("value")?i._valueGet||(i._valueGet=i.__lookupGetter__("value"),i._valueSet=i.__lookupSetter__("value"),i.__defineGetter__("value",function(){var t=V(this),e=V(this).data("inputmask"),i=e.masksets,n=e.activeMasksetIndex;return e&&e.autoUnmask?t.inputmask("unmaskedvalue"):this._valueGet()!=i[n]._buffer.join("")?this._valueGet():""}),i.__defineSetter__("value",function(t){this._valueSet(t),V(this).triggerHandler("setvalue.inputmask")})):(i._valueGet||(i._valueGet=function(){return this.value},i._valueSet=function(t){this.value=t}),1!=V.fn.val.inputmaskpatch&&(V.fn.val=function(){if(0==arguments.length){if((t=V(this)).data("inputmask")){if(t.data("inputmask").autoUnmask)return t.inputmask("unmaskedvalue");var t=V.inputmask.val.apply(t),e=V(this).data("inputmask");return t!=e.masksets[e.activeMasksetIndex]._buffer.join("")?t:""}return V.inputmask.val.apply(t)}var i=arguments;return this.each(function(){var t=V(this),e=V.inputmask.val.apply(t,i);return t.data("inputmask")&&t.triggerHandler("setvalue.inputmask"),e})},V.extend(V.fn.val,{inputmaskpatch:!0})));d=b().slice();var a=t._valueGet(),u=!1,p=!1,l=-1,f=E(d,-1);M(0,T(d));var g=!1;("rtl"==t.dir||B.numericInput)&&(("rtl"==t.dir||B.numericInput&&B.rightAlignNumerics)&&s.css("text-align","right"),t.dir="ltr",s.removeAttr("dir"),(o=s.data("inputmask")).isRTL=!0,s.data("inputmask",o),g=!0),s.unbind(".inputmask"),s.removeClass("focus.inputmask"),s.bind("mouseenter.inputmask",function(){if(!V(this).hasClass("focus.inputmask")&&B.showMaskOnHover){var t=this._valueGet().length;t<d.length&&(0==t&&(d=b().slice()),L(this,d))}}).bind("blur.inputmask",function(){var t=V(this),e=this._valueGet();t.removeClass("focus.inputmask"),e!=a&&t.change(),B.clearMaskOnLostFocus&&""!=e&&(e==b().join("")?this._valueSet(""):R(this,d)),N(d)||(t.trigger("incomplete"),B.clearIncomplete&&(B.clearMaskOnLostFocus?this._valueSet(""):L(this,d=b().slice())))}).bind("focus.inputmask",function(){var t=V(this),e=this._valueGet();B.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!B.showMaskOnHover||B.showMaskOnHover&&""==e)&&(e=e.length)<d.length&&(0==e&&(d=b().slice()),H(this,I(this,d,!0))),t.addClass("focus.inputmask"),a=this._valueGet()}).bind("mouseleave.inputmask",function(){var t=V(this);B.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||(this._valueGet()==b().join("")||""==this._valueGet()?this._valueSet(""):R(this,d)))}).bind("click.inputmask",function(){var i=this;setTimeout(function(){var t=H(i);if(t.begin==t.end){var e=t.begin;l=I(i,d,!1),r(i,t),H(i,g?l<e&&(!1!==x(e,d[e],d,!0,g)||!C(e))?e:l:e<l&&(!1!==x(e,d[e],d,!0,g)||!C(e))?e:l)}},0)}).bind("dblclick.inputmask",function(){var t=this;setTimeout(function(){H(t,0,l)},0)}).bind("keydown.inputmask",function(e){u=!1;var i=this,t=e.keyCode,n=H(i);if(r(i,n),t==B.keyCode.BACKSPACE||t==B.keyCode.DELETE||W&&127==t){var s=T(d);if(0==n.begin&&n.end==s)U=0,d=b().slice(),L(i,d),H(i,I(i,d,!1));else if(1<n.end-n.begin||1==n.end-n.begin&&B.insertMode)$(d,n.begin,n.end),w(d,n.begin,U),L(i,d,g?I(i,d,!1):n.begin);else{var o=F?n.end:n.begin;t==B.keyCode.DELETE?(o<f&&(o=f),o<s&&(o=B.numericInput&&""!=B.radixPoint&&d[o]==B.radixPoint?h(o=d.length-1==o?o:E(d,o),s):g?(o=c(f,o,S(o),!0),E(d,o)):h(o,s),w(d,o,U),L(i,d,o))):t==B.keyCode.BACKSPACE&&f<o&&(o-=1,B.numericInput&&""!=B.radixPoint&&d[o]==B.radixPoint?(o=c(f,d.length-1==o?o:o-1,S(o),!0),o++):o=g?(o=c(f,o,S(o),!0),d[o+1]==B.radixPoint?o+1:E(d,o)):h(o,s),w(d,o,U),L(i,d,o))}i._valueGet()==b().join("")&&V(i).trigger("cleared"),e.preventDefault()}else t==B.keyCode.END||t==B.keyCode.PAGE_DOWN?setTimeout(function(){var t=I(i,d,!1,!0);!B.insertMode&&t==T(d)&&!e.shiftKey&&t--,H(i,e.shiftKey?n.begin:t,t)},0):t==B.keyCode.HOME&&!e.shiftKey||t==B.keyCode.PAGE_UP?H(i,0,e.shiftKey?n.begin:0):t==B.keyCode.ESCAPE?(i._valueSet(a),H(i,0,I(i,d))):t==B.keyCode.INSERT?(B.insertMode=!B.insertMode,H(i,B.insertMode||n.begin!=T(d)?n.begin:n.begin-1)):e.ctrlKey&&88==t?setTimeout(function(){H(i,I(i,d,!0))},0):B.insertMode||(t==B.keyCode.RIGHT?(s=(s=n.begin==n.end?n.end+1:n.end)<T(d)?s:n.end,H(i,e.shiftKey?n.begin:s,e.shiftKey?s+1:s)):t==B.keyCode.LEFT&&(s=n.begin-1,H(i,s=0<s?s:0,e.shiftKey?n.end:s)));B.onKeyDown.call(this,e,d,B),p=-1!=V.inArray(t,B.ignorables)}).bind("keypress.inputmask",function(t){if(u)return!1;u=!0;var e=V(this),i=(t=t||window.event).which||t.charCode||t.keyCode,n=String.fromCharCode(i);if(B.numericInput&&n==B.radixPoint){var s=this._valueGet().indexOf(B.radixPoint);H(this,E(d,-1!=s?s:T(d)))}if(t.metaKey||p)return!0;if(i){var o,r=H(this),a=T(d);if(i=!0,$(d,r.begin,r.end),g){if(!1!==(o=x((s=M(0,r.end))==a||A(d,s)==B.radixPoint?M(0,s):s,n,d,!1,g))){var l=!1;if(!0!==o&&(l=o.refresh,s=null!=o.pos?o.pos:s,n=null!=o.c?o.c:n),!0!==l)if(a=T(d),o=f,1==B.insertMode){if(1==Y[U].greedy)for(l=d.slice();A(l,o,!0)!=S(o)&&o<=s;)o=o==a?a+1:E(d,o);o<=s&&(Y[U].greedy||d.length<a)?(d[f]!=S(f)&&d.length<a&&(l=D(d,-1,g),0!=r.end&&(s+=l),a=d.length),h(o,s,n)):i=!1}else z(d,s,n);i&&(L(this,d,B.numericInput?s+1:s),setTimeout(function(){N(d)&&e.trigger("complete")},0))}}else if(s=E(d,r.begin-1),D(d,s,g),!1!==(o=x(s,n,d,!1,g))){if(!(l=!1)!==o&&(l=o.refresh,s=null!=o.pos?o.pos:s,n=null!=o.c?o.c:n),!0!==l)if(1==B.insertMode){for(r=T(d),l=d.slice();A(l,r,!0)!=S(r)&&s<=r;)r=0==r?-1:M(0,r);s<=r?c(s,d.length,n):i=!1}else z(d,s,n);i&&(n=E(d,s),L(this,d,n),setTimeout(function(){N(d)&&e.trigger("complete")},0))}q&&H(this,y,v),t.preventDefault()}}).bind("keyup.inputmask",function(t){var e=V(this),i=t.keyCode;B.onKeyUp.call(this,t,d,B),i==B.keyCode.TAB&&e.hasClass("focus.inputmask")&&0==this._valueGet().length&&B.showMaskOnFocus&&(L(this,d=b().slice()),g||H(this,0),a=this._valueGet())}).bind(j+".inputmask dragdrop.inputmask drop.inputmask",function(){var t=this;setTimeout(function(){H(t,I(t,d,!0)),N(d)&&s.trigger("complete")},0)}).bind("setvalue.inputmask",function(){a=this._valueGet(),I(this,d,!0),this._valueGet()==b().join("")&&this._valueSet("")}).bind("complete.inputmask",B.oncomplete).bind("incomplete.inputmask",B.onincomplete).bind("cleared.inputmask",B.oncleared);var m;l=I(t,d,!0);try{m=document.activeElement}catch(t){}m===t?(s.addClass("focus.inputmask"),H(t,l)):B.clearMaskOnLostFocus&&(t._valueGet()==b().join("")?t._valueSet(""):R(t,d)),e=t,e=V._data(e).events,V.each(e,function(t,e){V.each(e,function(t,e){if("inputmask"==e.namespace){var i=e.handler;e.handler=function(){return!this.readOnly&&!this.disabled&&i.apply(this,arguments)}}})})}}var F,l,d,u,B=V.extend(!0,{},V.inputmask.defaults,e),j=(l="paste",d=document.createElement("input"),(u=(l="on"+l)in d)||(d.setAttribute(l,"return;"),u="function"==typeof d[l]),u?"paste":"input"),W=null!=navigator.userAgent.match(/iphone/i),q=null!=navigator.userAgent.match(/android.*safari.*/i);if(q){var p=navigator.userAgent.match(/safari.*/i);F=parseInt(RegExp(/[0-9]+/).exec(p))<=533}var Y,U=0;if("string"==typeof t)switch(t){case"mask":return n(B.alias,e),Y=s(),this.each(function(){a(this)});case"unmaskedvalue":return Y=this.data("inputmask").masksets,U=this.data("inputmask").activeMasksetIndex,B.definitions=this.data("inputmask").definitions,r(this);case"remove":return this.each(function(){var e=V(this),i=this;setTimeout(function(){var t;e.data("inputmask")&&(Y=e.data("inputmask").masksets,U=e.data("inputmask").activeMasksetIndex,B.definitions=e.data("inputmask").definitions,i._valueSet(r(e,!0)),e.removeData("inputmask"),e.unbind(".inputmask"),e.removeClass("focus.inputmask"),Object.getOwnPropertyDescriptor&&(t=Object.getOwnPropertyDescriptor(i,"value")),t&&t.get?i._valueGet&&Object.defineProperty(i,"value",{get:i._valueGet,set:i._valueSet}):document.__lookupGetter__&&i.__lookupGetter__("value")&&i._valueGet&&(i.__defineGetter__("value",i._valueGet),i.__defineSetter__("value",i._valueSet)),delete i._valueGet,delete i._valueSet)},0)});case"getemptymask":return this.data("inputmask")?(Y=this.data("inputmask").masksets,U=this.data("inputmask").activeMasksetIndex,Y[U]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("inputmask")&&!this.data("inputmask").autoUnmask;case"isComplete":return Y=this.data("inputmask").masksets,U=this.data("inputmask").activeMasksetIndex,B.definitions=this.data("inputmask").definitions,N(this[0].split(""));default:return n(t,e)||(B.mask=t),Y=s(),this.each(function(){a(this)})}else{if("object"==typeof t)return n((B=V.extend(!0,{},V.inputmask.defaults,t)).alias,t),Y=s(),this.each(function(){a(this)});if(null==t)return this.each(function(){if((t=V(this).attr("data-inputmask"))&&""!=t)try{var t=t.replace(RegExp("'","g"),'"'),e=V.parseJSON("{"+t+"}");n((B=V.extend(!0,{},V.inputmask.defaults,e)).alias,e),B.alias=void 0,V(this).inputmask(B)}catch(t){}})}return this})}(jQuery),function(t){t.extend(t.inputmask.defaults.definitions,{A:{validator:"[A-Za-z]",cardinality:1,casing:"upper"},"#":{validator:"[A-Za-z-0-9]",cardinality:1,casing:"upper"}}),t.extend(t.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:/[fh]/,urlpre2:/(ft|ht)/,urlpre3:/(ftp|htt)/,urlpre4:/(ftp:|http|ftps)/,urlpre5:/(ftp:\/|ftps:|http:|https)/,urlpre6:/(ftp:\/\/|ftps:\/|http:\/|https:)/,urlpre7:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/)/,urlpre8:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/\/)/},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var t=[],e=0;e<8;e++)t[e]=function(){var r=e;return{validator:function(t,e,i,n,s){if(s.regex["urlpre"+(r+1)]){var o=t;if(0<r+1-t.length&&(o=e.join("").substring(0,r+1-t.length)+""+o),t=s.regex["urlpre"+(r+1)].test(o),n||t)return t;for(i-=r,n=0;n<s.defaultPrefix.length;n++)e[i]=s.defaultPrefix[n],i++;for(n=0;n<o.length-1;n++)e[i]=o[n],i++;return{pos:i}}return!1},cardinality:r}}();return t}()}},insertMode:!1,autoUnmask:!1},ip:{mask:"i.i.i.i",definitions:{i:{validator:"25[0-5]|2[0-4][0-9]|[01][0-9][0-9]",cardinality:3,prevalidator:[{validator:"[0-2]",cardinality:1},{validator:"2[0-5]|[01][0-9]",cardinality:2}]}}}})}(jQuery),function(n){n.extend(n.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),n.extend(n.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:/[0-3]/,val1:/0[1-9]|[12][0-9]|3[01]/,val2pre:function(t){return t=n.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|[12][0-9]|3[01])"+t+"[01])")},val2:function(t){return t=n.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|[12][0-9])"+t+"(0[1-9]|1[012]))|(30"+t+"(0[13-9]|1[012]))|(31"+t+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(t,e,i){var n=parseInt(t.concat(e.toString().slice(t.length)));t=parseInt(t.concat(i.toString().slice(t.length)));return NaN!=n&&(e<=n&&n<=i)||NaN!=t&&(e<=t&&t<=i)},determinebaseyear:function(t,e){var i=(new Date).getFullYear();return i<t?t:e<i?e:i},onKeyUp:function(t,e,i){e=n(this),t.ctrlKey&&t.keyCode==i.keyCode.RIGHT&&(t=new Date,e.val(t.getDate().toString()+(t.getMonth()+1).toString()+t.getFullYear().toString()))},definitions:{1:{validator:function(t,e,i,n,s){var o=s.regex.val1.test(t);return n||o||t.charAt(1)!=s.separator&&-1=="-./".indexOf(t.charAt(1))||!(o=s.regex.val1.test("0"+t.charAt(0)))?o:(e[i-1]="0",{pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){var o=s.regex.val1pre.test(t);return n||o||!(o=s.regex.val1.test("0"+t))?o:(e[i]="0",{pos:++i})},cardinality:1}]},2:{validator:function(t,e,i,n,s){var o=e.join("").substr(0,3),r=s.regex.val2(s.separator).test(o+t);return n||r||t.charAt(1)!=s.separator&&-1=="-./".indexOf(t.charAt(1))||!(r=s.regex.val2(s.separator).test(o+"0"+t.charAt(0)))?r:(e[i-1]="0",{pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){var o=e.join("").substr(0,3),r=s.regex.val2pre(s.separator).test(o+t);return n||r||!(r=s.regex.val2(s.separator).test(o+"0"+t))?r:(e[i]="0",{pos:++i})},cardinality:1}]},y:{validator:function(t,e,i,n,s){return!!s.isInYearRange(t,s.yearrange.minyear,s.yearrange.maxyear)&&(e.join("").substr(0,6)!=s.leapday||0==(t=parseInt(t,10))%4&&(0!=t%100||0==t%400))},cardinality:4,prevalidator:[{validator:function(t,e,i,n,s){var o=s.isInYearRange(t,s.yearrange.minyear,s.yearrange.maxyear);if(!n&&!o){if(n=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear).toString().slice(0,1),o=s.isInYearRange(n+t,s.yearrange.minyear,s.yearrange.maxyear))return e[i++]=n[0],{pos:i};if(n=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear).toString().slice(0,2),o=s.isInYearRange(n+t,s.yearrange.minyear,s.yearrange.maxyear))return e[i++]=n[0],e[i++]=n[1],{pos:i}}return o},cardinality:1},{validator:function(t,e,i,n,s){var o=s.isInYearRange(t,s.yearrange.minyear,s.yearrange.maxyear);if(!n&&!o){if(n=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear).toString().slice(0,2),o=s.isInYearRange(t[0]+n[1]+t[1],s.yearrange.minyear,s.yearrange.maxyear))return e[i++]=n[1],{pos:i};if(n=s.determinebaseyear(s.yearrange.minyear,s.yearrange.maxyear).toString().slice(0,2),o=!!s.isInYearRange(n+t,s.yearrange.minyear,s.yearrange.maxyear)&&(e.join("").substr(0,6)!=s.leapday||0==(s=parseInt(t,10))%4&&(0!=s%100||0==s%400)))return e[i-1]=n[0],e[i++]=n[1],e[i++]=t[0],{pos:i}}return o},cardinality:2},{validator:function(t,e,i,n,s){return s.isInYearRange(t,s.yearrange.minyear,s.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){return t=n.inputmask.escapeRegex.call(this,t),RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(t){return t=n.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},leapday:"02/29/",onKeyUp:function(t,e,i){e=n(this),t.ctrlKey&&t.keyCode==i.keyCode.RIGHT&&(t=new Date,e.val((t.getMonth()+1).toString()+t.getDate().toString()+t.getFullYear().toString()))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t,e,i){e=n(this),t.ctrlKey&&t.keyCode==i.keyCode.RIGHT&&(t=new Date,e.val(t.getFullYear().toString()+(t.getMonth()+1).toString()+t.getDate().toString()))},definitions:{2:{validator:function(t,e,i,n,s){var o=e.join("").substr(5,3),r=s.regex.val2(s.separator).test(o+t);return n||r||t.charAt(1)!=s.separator&&-1=="-./".indexOf(t.charAt(1))||!(r=s.regex.val2(s.separator).test(o+"0"+t.charAt(0)))?r?e.join("").substr(4,4)+t!=s.leapday||0==(t=parseInt(e.join("").substr(0,4),10))%4&&(0!=t%100||0==t%400):r:(e[i-1]="0",{pos:i,c:t.charAt(0)})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){var o=e.join("").substr(5,3),r=s.regex.val2pre(s.separator).test(o+t);return n||r||!(r=s.regex.val2(s.separator).test(o+"0"+t))?r:(e[i]="0",{pos:++i})},cardinality:1}]}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:/[012]/,hrs24:/2[0-9]|1[3-9]/,hrs:/[01][0-9]|2[0-3]/,ampmpre:/[apAP]/,ampm:/^[a|p|A|P][m|M]/},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(t,e,i,n,s){var o=s.regex.hrs.test(t);return n||o||t.charAt(1)!=s.timeseparator&&-1=="-.:".indexOf(t.charAt(1))||!(o=s.regex.hrs.test("0"+t.charAt(0)))?o&&"24"!==s.hourFormat&&s.regex.hrs24.test(t)?(t=parseInt(t,10),e[i+5]=24==t?"a":"p",e[i+6]="m",t-=12,e[i-1]=t<10?(e[i]=t.toString(),"0"):(e[i]=t.toString().charAt(1),t.toString().charAt(0)),{pos:i,c:e[i]}):o:(e[i-1]="0",e[i]=t.charAt(0),{pos:++i})},cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){var o=s.regex.hrspre.test(t);return n||o||!(o=s.regex.hrs.test("0"+t))?o:(e[i]="0",{pos:++i})},cardinality:1}]},t:{validator:function(t,e,i,n,s){var o=s.regex.ampm.test(t);return n||o||!(o=s.regex.ampm.test(t+"m"))?o:(e[i-1]=t.charAt(0),e[i]="m",++i)},casing:"lower",cardinality:2,prevalidator:[{validator:function(t,e,i,n,s){return(n=s.regex.ampmpre.test(t))&&(n=s.regex.ampm.test(t+"m"))?(e[i]=t,e[i+1]="m",i):n},cardinality:1}]}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",autoUnmask:!1},"hh:mm":{mask:"h:s",autoUnmask:!1},date:{alias:"dd/mm/yyyy"}})}(jQuery),function(a){a.extend(a.inputmask.defaults.aliases,{decimal:{mask:"~",placeholder:"",repeat:10,greedy:!1,numericInput:!0,digits:"*",groupSeparator:",",radixPoint:".",groupSize:3,autoGroup:!1,getMaskLength:function(t,e,i,n,s){var o=t.length;return!e&&1<i&&(o+=t.length*(i-1)),t=a.inputmask.escapeRegex.call(this,s.groupSeparator),s=a.inputmask.escapeRegex.call(this,s.radixPoint),s=(n=n.join("")).replace(RegExp(t,"g"),"").replace(RegExp(s),""),o+(n.length-s.length)},postFormat:function(t,e,i,n){var s=t.slice();if(i||s.splice(e,0,"?"),s=s.join(""),n.autoGroup||i&&-1!=s.indexOf(n.groupSeparator)){for(var o=(s=s.replace(RegExp("\\"+n.groupSeparator,"g"),"")).split(n.radixPoint),r=(s=o[0],RegExp("([-+]?[\\d?]+)([\\d?]{"+n.groupSize+"})"));r.test(s);)s=(s=s.replace(r,"$1"+n.groupSeparator+"$2")).replace(n.groupSeparator+n.groupSeparator,n.groupSeparator);1<o.length&&(s+=n.radixPoint+o[1])}for(t.length=s.length,n=0,o=s.length;n<o;n++)t[n]=s.charAt(n);return e=i?e:a.inArray("?",t),i||t.splice(e,1),e},regex:{number:function(t,e,i,n){return t=a.inputmask.escapeRegex.call(this,t),i=a.inputmask.escapeRegex.call(this,i),n=isNaN(n)?n:"{0,"+n+"}",RegExp("^[+-]?(\\d+|\\d{1,"+e+"}(("+t+"\\d{"+e+"})?)+)("+i+"\\d"+n+")?$")}},onKeyDown:function(t,e,i){var n=a(this);if(t.keyCode==i.keyCode.TAB){if(-1!=(t=a.inArray(i.radixPoint,e))){for(var s=n.data("inputmask").masksets,o=(n=n.data("inputmask").activeMasksetIndex,1);o<=i.digits&&o<i.getMaskLength(s[n]._buffer,s[n].greedy,s[n].repeat,e,i);o++)null==e[t+o]&&(e[t+o]="0");this._valueSet(e.join(""))}}else t.keyCode!=i.keyCode.DELETE&&t.keyCode!=i.keyCode.BACKSPACE||(i.postFormat(e,0,!0,i),this._valueSet(e.join("")))},definitions:{"~":{validator:function(t,e,n,s,o){if(""==t)return!1;if(1==n&&"0"===e[0]&&/[\d-]/.test(t))return e[0]="",{pos:0};var r=s?e.slice(0,n):e.slice();r.splice(n+1,0,t),r=r.join(""),o.autoGroup&&!s&&(r=r.replace(RegExp("\\"+o.groupSeparator,"g"),""));var a=o.regex.number(o.groupSeparator,o.groupSize,o.radixPoint,o.digits).test(r);if(!a&&(r+="0",!(a=o.regex.number(o.groupSeparator,o.groupSize,o.radixPoint,o.digits).test(r)))){for(a=r.lastIndexOf(o.groupSeparator),i=r.length-a;i<=3;i++)r+="0";if(!(a=o.regex.number(o.groupSeparator,o.groupSize,o.radixPoint,o.digits).test(r))&&!s&&t==o.radixPoint&&(a=o.regex.number(o.groupSeparator,o.groupSize,o.radixPoint,o.digits).test("0"+r+"0")))return e[n]="0",{pos:++n}}return 0==a||s||t==o.radixPoint?a:{pos:o.postFormat(e,n+1,!1,o)}},cardinality:1,prevalidator:null}},insertMode:!0,autoUnmask:!1},"non-negative-decimal":{regex:{number:function(t,e,i,n){return t=a.inputmask.escapeRegex.call(this,t),i=a.inputmask.escapeRegex.call(this,i),n=isNaN(n)?n:"{0,"+n+"}",RegExp("^[+]?(\\d+|\\d{1,"+e+"}(("+t+"\\d{"+e+"})?)+)("+i+"\\d"+n+")?$")}},alias:"decimal"},integer:{regex:{number:function(t,e){var i=a.inputmask.escapeRegex.call(this,t);return RegExp("^[+-]?(\\d+|\\d{1,"+e+"}(("+i+"\\d{"+e+"})?)+)$")}},alias:"decimal"}})}(jQuery),jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,hideButtonTexts:null},Object.defineProperty(jQuery.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,tagsToRemove:[],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{}},writable:!1,enumerable:!0,configurable:!1}),function(p,f,g,m){"use strict";var c="tbwconfirm",d="tbwcancel";m.fn.trumbowyg=function(t,e){var i="trumbowyg";if(t===Object(t)||!t)return this.each(function(){m(this).data(i)||m(this).data(i,new s(this,t))});if(1===this.length)try{var n=m(this).data(i);switch(t){case"execCmd":return n.execCmd(e.cmd,e.param,e.forceCss);case"openModal":return n.openModal(e.title,e.content);case"closeModal":return n.closeModal();case"openModalInsert":return n.openModalInsert(e.title,e.fields,e.callback);case"saveRange":return n.saveRange();case"getRange":return n.range;case"getRangeText":return n.getRangeText();case"restoreRange":return n.restoreRange();case"enable":return n.setDisabled(!1);case"disable":return n.setDisabled(!0);case"toggle":return n.toggle();case"destroy":return n.destroy();case"empty":return n.empty();case"html":return n.html(e)}}catch(t){}return!1};var s=function(t,e){var i=this,n="trumbowyg-icons",s=m.trumbowyg;i.doc=t.ownerDocument||g,i.$ta=m(t),i.$c=m(t),null!=(e=e||{}).lang||null!=s.langs[e.lang]?i.lang=m.extend(!0,{},s.langs.en,s.langs[e.lang]):i.lang=s.langs.en,i.hideButtonTexts=null!=s.hideButtonTexts?s.hideButtonTexts:e.hideButtonTexts;var o=null!=s.svgPath?s.svgPath:e.svgPath;if(i.hasSvg=!1!==o,i.svgPath=i.doc.querySelector("base")?f.location.href.split("#")[0]:"",0===m("#"+n,i.doc).length&&!1!==o){if(null==o){for(var r=g.getElementsByTagName("script"),a=0;a<r.length;a+=1){var l=r[a].src,h=l.match("trumbowyg(.min)?.js");null!=h&&(o=l.substring(0,l.indexOf(h[0]))+"/ui/icons.svg")}null==o&&console.warn("You must define svgPath: https://goo.gl/CfTY9U")}var c=i.doc.createElement("div");c.id=n,i.doc.body.insertBefore(c,i.doc.body.childNodes[0]),m.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:o,data:null,beforeSend:null,complete:null,success:function(t){c.innerHTML=(new XMLSerializer).serializeToString(t.documentElement)}})}var d=i.lang.header,u=function(){return(f.chrome||f.Intl&&Intl.v8BreakIterator)&&"CSS"in f};i.btnsDef={viewHTML:{fn:"toggle"},undo:{isSupported:u,key:"Z"},redo:{isSupported:u,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:d+" 1"},h2:{fn:"formatBlock",title:d+" 2"},h3:{fn:"formatBlock",title:d+" 3"},h4:{fn:"formatBlock",title:d+" 4"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},i.o=m.extend(!0,{},s.defaultOptions,e),i.o.hasOwnProperty("imgDblClickHandler")||(i.o.imgDblClickHandler=i.getDefaultImgDblClickHandler()),i.disabled=i.o.disabled||"TEXTAREA"===t.nodeName&&t.disabled,e.btns?i.o.btns=e.btns:i.o.semantic||(i.o.btns[3]=["bold","italic","underline","strikethrough"]),m.each(i.o.btnsDef,function(t,e){i.addBtnDef(t,e)}),i.eventNamespace="trumbowyg-event",i.keys=[],i.tagToButton={},i.tagHandlers=[],i.pasteHandlers=[].concat(i.o.pasteHandlers),i.isIE=-1!==p.userAgent.indexOf("MSIE")||-1!==p.appVersion.indexOf("Trident/"),i.init()};s.prototype={init:function(){var t=this;t.height=t.$ta.height(),t.initPlugins();try{t.doc.execCommand("enableObjectResizing",!1,!1),t.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(t){}t.buildEditor(),t.buildBtnPane(),t.fixedBtnPaneEvents(),t.buildOverlay(),setTimeout(function(){t.disabled&&t.setDisabled(!0),t.$c.trigger("tbwinit")})},addBtnDef:function(t,e){this.btnsDef[t]=e},buildEditor:function(){var n=this,e=n.o.prefix,t="";n.$box=m("<div/>",{class:e+"box "+e+"editor-visible "+e+n.o.lang+" trumbowyg"}),n.isTextarea=n.$ta.is("textarea"),n.isTextarea?(t=n.$ta.val(),n.$ed=m("<div/>"),n.$box.insertAfter(n.$ta).append(n.$ed,n.$ta)):(n.$ed=n.$ta,t=n.$ed.html(),n.$ta=m("<textarea/>",{name:n.$ta.attr("id"),height:n.height}).val(t),n.$box.insertAfter(n.$ed).append(n.$ta,n.$ed),n.syncCode()),n.$ta.addClass(e+"textarea").attr("tabindex",-1),n.$ed.addClass(e+"editor").attr({contenteditable:!0,dir:n.lang._dir||"ltr"}).html(t),n.o.tabindex&&n.$ed.attr("tabindex",n.o.tabindex),n.$c.is("[placeholder]")&&n.$ed.attr("placeholder",n.$c.attr("placeholder")),n.$c.is("[spellcheck]")&&n.$ed.attr("spellcheck",n.$c.attr("spellcheck")),n.o.resetCss&&n.$ed.addClass(e+"reset-css"),n.o.autogrow||n.$ta.add(n.$ed).css({height:n.height}),n.semanticCode(),n.o.autogrowOnEnter&&n.$ed.addClass(e+"autogrow-on-enter");var i,s=!1,o=!1;n.$ed.on("dblclick","img",n.o.imgDblClickHandler).on("keydown",function(t){if((t.ctrlKey||t.metaKey)&&!t.altKey){s=!0;var e=n.keys[String.fromCharCode(t.which).toUpperCase()];try{return n.execCmd(e.fn,e.param),!1}catch(t){}}}).on("compositionstart compositionupdate",function(){o=!0}).on("keyup compositionend",function(t){if("compositionend"===t.type)o=!1;else if(o)return;var e=t.which;if(!(37<=e&&e<=40)){if(!t.ctrlKey&&!t.metaKey||89!==e&&90!==e)if(s||17===e)void 0===t.which&&n.semanticCode(!1,!1,!0);else{var i=!n.isIE||"compositionend"===t.type;n.semanticCode(!1,i&&13===e),n.$c.trigger("tbwchange")}else n.$c.trigger("tbwchange");setTimeout(function(){s=!1},50)}}).on("mouseup keydown keyup",function(t){(!t.ctrlKey&&!t.metaKey||t.altKey)&&setTimeout(function(){s=!1},50),clearTimeout(i),i=setTimeout(function(){n.updateButtonPaneStatus()},50)}).on("focus blur",function(t){if(n.$c.trigger("tbw"+t.type),"blur"===t.type&&m("."+e+"active-button",n.$btnPane).removeClass(e+"active-button "+e+"active"),n.o.autogrowOnEnter){if(n.autogrowOnEnterDontClose)return;"focus"===t.type?(n.autogrowOnEnterWasFocused=!0,n.autogrowEditorOnEnter()):n.o.autogrow||(n.$ed.css({height:n.$ed.css("min-height")}),n.$c.trigger("tbwresize"))}}).on("cut",function(){setTimeout(function(){n.semanticCode(!1,!0),n.$c.trigger("tbwchange")},0)}).on("paste",function(i){if(n.o.removeformatPasted){i.preventDefault(),f.getSelection&&f.getSelection().deleteFromDocument&&f.getSelection().deleteFromDocument();try{var e=f.clipboardData.getData("Text");try{n.doc.selection.createRange().pasteHTML(e)}catch(t){n.doc.getSelection().getRangeAt(0).insertNode(n.doc.createTextNode(e))}n.$c.trigger("tbwchange",i)}catch(t){n.execCmd("insertText",(i.originalEvent||i).clipboardData.getData("text/plain"))}}m.each(n.pasteHandlers,function(t,e){e(i)}),setTimeout(function(){n.semanticCode(!1,!0),n.$c.trigger("tbwpaste",i)},0)}),n.$ta.on("keyup",function(){n.$c.trigger("tbwchange")}).on("paste",function(){setTimeout(function(){n.$c.trigger("tbwchange")},0)}),n.$box.on("keydown",function(t){if(27===t.which&&1===m("."+e+"modal-box",n.$box).length)return n.closeModal(),!1})},autogrowEditorOnEnter:function(){var t=this;t.$ed.removeClass("autogrow-on-enter");var e=t.$ed[0].clientHeight;t.$ed.height("auto");var i=t.$ed[0].scrollHeight;t.$ed.addClass("autogrow-on-enter"),e!==i&&(t.$ed.height(e),setTimeout(function(){t.$ed.css({height:i}),t.$c.trigger("tbwresize")},0))},buildBtnPane:function(){var n=this,s=n.o.prefix,o=n.$btnPane=m("<div/>",{class:s+"button-pane"});m.each(n.o.btns,function(t,e){m.isArray(e)||(e=[e]);var i=m("<div/>",{class:s+"button-group "+(0<=e.indexOf("fullscreen")?s+"right":"")});m.each(e,function(t,e){try{n.isSupportedBtn(e)&&i.append(n.buildBtn(e))}catch(t){}}),0<i.html().trim().length&&o.append(i)}),n.$box.prepend(o)},buildBtn:function(t){var i=this,e=i.o.prefix,n=i.btnsDef[t],s=n.dropdown,o=null==n.hasIcon||n.hasIcon,r=i.lang[t]||t,a=m("<button/>",{type:"button",class:e+t+"-button "+(n.class||"")+(o?"":" "+e+"textual-button"),html:i.hasSvg&&o?'<svg><use xlink:href="'+i.svgPath+"#"+e+(n.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':i.hideButtonTexts?"":n.text||n.title||i.lang[t]||t,title:(n.title||n.text||r)+(n.key?" (Ctrl + "+n.key+")":""),tabindex:-1,mousedown:function(){return s&&!m("."+t+"-"+e+"dropdown",i.$box).is(":hidden")||m("body",i.doc).trigger("mousedown"),!((i.$btnPane.hasClass(e+"disable")||i.$box.hasClass(e+"disabled"))&&!m(this).hasClass(e+"active")&&!m(this).hasClass(e+"not-disable")||(i.execCmd((!s?n.fn:"dropdown")||t,n.param||t,n.forceCss),1))}});if(s){a.addClass(e+"open-dropdown");var l=e+"dropdown",h={class:l+"-"+t+" "+l+" "+e+"fixed-top"};h["data-"+l]=t;var c=m("<div/>",h);m.each(s,function(t,e){i.btnsDef[e]&&i.isSupportedBtn(e)&&c.append(i.buildSubBtn(e))}),i.$box.append(c.hide())}else n.key&&(i.keys[n.key]={fn:n.fn||t,param:n.param||t});return s||(i.tagToButton[(n.tag||t).toLowerCase()]=t),a},buildSubBtn:function(t){var e=this,i=e.o.prefix,n=e.btnsDef[t],s=null==n.hasIcon||n.hasIcon;return n.key&&(e.keys[n.key]={fn:n.fn||t,param:n.param||t}),e.tagToButton[(n.tag||t).toLowerCase()]=t,m("<button/>",{type:"button",class:i+t+"-dropdown-button"+(n.ico?" "+i+n.ico+"-button":""),html:e.hasSvg&&s?'<svg><use xlink:href="'+e.svgPath+"#"+i+(n.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(n.text||n.title||e.lang[t]||t):n.text||n.title||e.lang[t]||t,title:n.key?" (Ctrl + "+n.key+")":null,style:n.style||null,mousedown:function(){return m("body",e.doc).trigger("mousedown"),e.execCmd(n.fn||t,n.param||t,n.forceCss),!1}})},isSupportedBtn:function(t){try{return this.btnsDef[t].isSupported()}catch(t){}return!0},buildOverlay:function(){return this.$overlay=m("<div/>",{class:this.o.prefix+"overlay"}).appendTo(this.$box),this.$overlay},showOverlay:function(){m(f).trigger("scroll"),this.$overlay.fadeIn(200),this.$box.addClass(this.o.prefix+"box-blur")},hideOverlay:function(){this.$overlay.fadeOut(50),this.$box.removeClass(this.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var s=this,o=s.o.fixedFullWidth,r=s.$box;s.o.fixedBtnPane&&(s.isFixed=!1,m(f).on("scroll."+s.eventNamespace+" resize."+s.eventNamespace,function(){if(r){s.syncCode();var t=m(f).scrollTop(),e=r.offset().top+1,i=s.$btnPane,n=i.outerHeight()-2;0<t-e&&t-e-s.height<0?(s.isFixed||(s.isFixed=!0,i.css({position:"fixed",top:0,left:o?"0":"auto",zIndex:7}),m([s.$ta,s.$ed]).css({marginTop:i.height()})),i.css({width:o?"100%":r.width()-1+"px"}),m("."+s.o.prefix+"fixed-top",r).css({position:o?"fixed":"absolute",top:o?n:n+(t-e)+"px",zIndex:15})):s.isFixed&&(s.isFixed=!1,i.removeAttr("style"),m([s.$ta,s.$ed]).css({marginTop:0}),m("."+s.o.prefix+"fixed-top",r).css({position:"absolute",top:n}))}}))},setDisabled:function(t){var e=this,i=e.o.prefix;(e.disabled=t)?e.$ta.attr("disabled",!0):e.$ta.removeAttr("disabled"),e.$box.toggleClass(i+"disabled",t),e.$ed.attr("contenteditable",!t)},destroy:function(){var t=this,e=t.o.prefix;t.isTextarea?t.$box.after(t.$ta.css({height:""}).val(t.html()).removeClass(e+"textarea").show()):t.$box.after(t.$ed.css({height:""}).removeClass(e+"editor").removeAttr("contenteditable").removeAttr("dir").html(t.html()).show()),t.$ed.off("dblclick","img"),t.destroyPlugins(),t.$box.remove(),t.$c.removeData("trumbowyg"),m("body").removeClass(e+"body-fullscreen"),t.$c.trigger("tbwclose"),m(f).off("scroll."+t.eventNamespace+" resize."+t.eventNamespace)},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var t=this,e=t.o.prefix;t.o.autogrowOnEnter&&(t.autogrowOnEnterDontClose=!t.$box.hasClass(e+"editor-hidden")),t.semanticCode(!1,!0),setTimeout(function(){t.doc.activeElement.blur(),t.$box.toggleClass(e+"editor-hidden "+e+"editor-visible"),t.$btnPane.toggleClass(e+"disable"),m("."+e+"viewHTML-button",t.$btnPane).toggleClass(e+"active"),t.$box.hasClass(e+"editor-visible")?t.$ta.attr("tabindex",-1):t.$ta.removeAttr("tabindex"),t.o.autogrowOnEnter&&!t.autogrowOnEnterDontClose&&t.autogrowEditorOnEnter()},0)},dropdown:function(t){var e=this,i=e.doc,n=e.o.prefix,s=m("[data-"+n+"dropdown="+t+"]",e.$box),o=m("."+n+t+"-button",e.$btnPane),r=s.is(":hidden");if(m("body",i).trigger("mousedown"),r){var a=o.offset().left;o.addClass(n+"active"),s.css({position:"absolute",top:o.offset().top-e.$btnPane.offset().top+o.outerHeight(),left:e.o.fixedFullWidth&&e.isFixed?a+"px":a-e.$btnPane.offset().left+"px"}).show(),m(f).trigger("scroll"),m("body",i).on("mousedown."+e.eventNamespace,function(t){s.is(t.target)||(m("."+n+"dropdown",e.$box).hide(),m("."+n+"active",e.$btnPane).removeClass(n+"active"),m("body",i).off("mousedown."+e.eventNamespace))})}},html:function(t){return null!=t?(this.$ta.val(t),this.syncCode(!0),this):this.$ta.val()},syncTextarea:function(){this.$ta.val(0<this.$ed.text().trim().length||0<this.$ed.find("hr,img,embed,iframe,input").length?this.$ed.html():"")},syncCode:function(t){var e=this;if(!t&&e.$ed.is(":visible"))e.syncTextarea();else{var i=m("<div>").html(e.$ta.val()),n=m("<div>").append(i);m(e.o.tagsToRemove.join(","),n).remove(),e.$ed.html(n.contents().html())}if(e.o.autogrow&&(e.height=e.$ed.height(),e.height!==e.$ta.css("height")&&(e.$ta.css({height:e.height}),e.$c.trigger("tbwresize"))),e.o.autogrowOnEnter){e.$ed.height("auto");var s=e.autogrowOnEnterWasFocused?e.$ed[0].scrollHeight:e.$ed.css("min-height");s!==e.$ta.css("height")&&(e.$ed.css({height:s}),e.$c.trigger("tbwresize"))}},semanticCode:function(t,e,i){var n=this;if(n.saveRange(),n.syncCode(t),n.o.semantic){if(n.semanticTag("b","strong"),n.semanticTag("i","em"),n.semanticTag("s","del"),n.semanticTag("strike","del"),e){var s=n.o.inlineElementsSelector,o=":not("+s+")";n.$ed.contents().filter(function(){return 3===this.nodeType&&0<this.nodeValue.trim().length}).wrap("<span data-tbw/>");var r=function(t){if(0!==t.length){var e=t.nextUntil(o).addBack().wrapAll("<p/>").parent(),i=e.nextAll(s).first();e.next("br").remove(),r(i)}};r(n.$ed.children(s).first()),n.semanticTag("div","p",!0),n.$ed.find("p").filter(function(){return(!n.range||this!==n.range.startContainer)&&0===m(this).text().trim().length&&0===m(this).children().not("br,span").length}).contents().unwrap(),m("[data-tbw]",n.$ed).contents().unwrap(),n.$ed.find("p:empty").remove()}i||n.restoreRange(),n.syncTextarea()}},semanticTag:function(t,e,i){m(t,this.$ed).each(function(){var t=m(this);t.wrap("<"+e+"/>"),i&&m.each(t.prop("attributes"),function(){t.parent().attr(this.name,this.value)}),t.contents().unwrap()})},createLink:function(){for(var t,e,i,n=this,s=n.doc.getSelection(),o=s.focusNode;["A","DIV"].indexOf(o.nodeName)<0;)o=o.parentNode;if(o&&"A"===o.nodeName){var r=m(o);t=r.attr("href"),e=r.attr("title"),i=r.attr("target");var a=n.doc.createRange();a.selectNode(o),s.removeAllRanges(),s.addRange(a)}n.saveRange(),n.openModalInsert(n.lang.createLink,{url:{label:"URL",required:!0,value:t},title:{label:n.lang.title,value:e},text:{label:n.lang.text,value:(new XMLSerializer).serializeToString(s.getRangeAt(0).cloneContents())},target:{label:n.lang.target,value:i}},function(t){var e=m(['<a href="',t.url,'">',t.text,"</a>"].join(""));return 0<t.title.length&&e.attr("title",t.title),0<t.target.length&&e.attr("target",t.target),n.range.deleteContents(),n.range.insertNode(e[0]),n.syncCode(),n.$c.trigger("tbwchange"),!0})},unlink:function(){var t=this.doc.getSelection(),e=t.focusNode;if(t.isCollapsed){for(;["A","DIV"].indexOf(e.nodeName)<0;)e=e.parentNode;if(e&&"A"===e.nodeName){var i=this.doc.createRange();i.selectNode(e),t.removeAllRanges(),t.addRange(i)}}this.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var i=this;i.saveRange();var t={url:{label:"URL",required:!0},alt:{label:i.lang.description,value:i.getRangeText()}};i.o.imageWidthModalEdit&&(t.width={}),i.openModalInsert(i.lang.insertImage,t,function(t){i.execCmd("insertImage",t.url);var e=m('img[src="'+t.url+'"]:not([alt])',i.$box);return e.attr("alt",t.alt),i.o.imageWidthModalEdit&&e.attr({width:t.width}),i.syncCode(),i.$c.trigger("tbwchange"),!0})},fullscreen:function(){var t,e=this.o.prefix,i=e+"fullscreen";this.$box.toggleClass(i),t=this.$box.hasClass(i),m("body").toggleClass(e+"body-fullscreen",t),m(f).trigger("scroll"),this.$c.trigger("tbw"+(t?"open":"close")+"fullscreen")},execCmd:function(e,i,t,n){var s=this;n=!!n||"","dropdown"!==e&&s.$ed.focus();try{s.doc.execCommand("styleWithCSS",!1,t||!1)}catch(t){}try{s[e+n](i)}catch(t){try{e(i)}catch(t){"insertHorizontalRule"===e?i=void 0:"formatBlock"===e&&s.isIE&&(i="<"+i+">"),s.doc.execCommand(e,!1,i),s.syncCode(),s.semanticCode(!1,!0)}"dropdown"!==e&&(s.updateButtonPaneStatus(),s.$c.trigger("tbwchange"))}},openModal:function(t,e){var i=this,n=i.o.prefix;if(0<m("."+n+"modal-box",i.$box).length)return!1;i.o.autogrowOnEnter&&(i.autogrowOnEnterDontClose=!0),i.saveRange(),i.showOverlay(),i.$btnPane.addClass(n+"disable");var s=m("<div/>",{class:n+"modal "+n+"fixed-top"}).css({top:i.$btnPane.height()}).appendTo(i.$box);i.$overlay.one("click",function(){return s.trigger(d),!1});var o=m("<form/>",{action:"",html:e}).on("submit",function(){return s.trigger(c),!1}).on("reset",function(){return s.trigger(d),!1}).on("submit reset",function(){i.o.autogrowOnEnter&&(i.autogrowOnEnterDontClose=!1)}),r=m("<div/>",{class:n+"modal-box",html:o}).css({top:"-"+i.$btnPane.outerHeight()+"px",opacity:0}).appendTo(s).animate({top:0,opacity:1},100);return m("<span/>",{text:t,class:n+"modal-title"}).prependTo(r),s.height(r.outerHeight()+10),m("input:first",r).focus(),i.buildModalBtn("submit",r),i.buildModalBtn("reset",r),m(f).trigger("scroll"),s},buildModalBtn:function(t,e){var i=this.o.prefix;return m("<button/>",{class:i+"modal-button "+i+"modal-"+t,type:t,text:this.lang[t]||t}).appendTo(m("form",e))},closeModal:function(){var t=this,e=t.o.prefix;t.$btnPane.removeClass(e+"disable"),t.$overlay.off();var i=m("."+e+"modal-box",t.$box);i.animate({top:"-"+i.height()},100,function(){i.parent().remove(),t.hideOverlay()}),t.restoreRange()},openModalInsert:function(t,e,i){var r=this,a=r.o.prefix,l=r.lang,h="";return m.each(e,function(t,e){var i=e.label,n=e.name||t,s=e.attributes||{},o=Object.keys(s).map(function(t){return t+'="'+s[t]+'"'}).join(" ");h+='<label><input type="'+(e.type||"text")+'" name="'+n+'" value="'+(e.value||"").replace(/"/g,"&quot;")+'"'+o+'><span class="'+a+'input-infos"><span>'+(i?l[i]?l[i]:i:l[t]?l[t]:t)+"</span></span></label>"}),r.openModal(t,h).on(c,function(){var n=m("form",m(this)),s=!0,o={};m.each(e,function(t,e){var i=m('input[name="'+t+'"]',n);"checkbox"===i.attr("type").toLowerCase()?o[t]=i.is(":checked"):o[t]=m.trim(i.val()),e.required&&""===o[t]?(s=!1,r.addErrorOnModalField(i,r.lang.required)):e.pattern&&!e.pattern.test(o[t])&&(s=!1,r.addErrorOnModalField(i,e.patternError))}),s&&(r.restoreRange(),i(o,e)&&(r.syncCode(),r.$c.trigger("tbwchange"),r.closeModal(),m(this).off(c)))}).one(d,function(){m(this).off(c),r.closeModal()})},addErrorOnModalField:function(t,e){var i=this.o.prefix,n=t.parent();t.on("change keyup",function(){n.removeClass(i+"input-error")}),n.addClass(i+"input-error").find("input+span").append(m("<span/>",{class:i+"msg-error",text:e}))},getDefaultImgDblClickHandler:function(){var s=this;return function(){var e=m(this),t=e.attr("src"),i="(Base64)";0===t.indexOf("data:image")&&(t=i);var n={url:{label:"URL",value:t,required:!0},alt:{label:s.lang.description,value:e.attr("alt")}};return s.o.imageWidthModalEdit&&(n.width={value:e.attr("width")?e.attr("width"):""}),s.openModalInsert(s.lang.insertImage,n,function(t){return t.src!==i&&e.attr({src:t.url}),e.attr({alt:t.alt}),s.o.imageWidthModalEdit&&(0<parseInt(t.width)?e.attr({width:t.width}):e.removeAttr("width")),!0}),!1}},saveRange:function(){var t=this,e=t.doc.getSelection();if(t.range=null,e.rangeCount){var i,n=t.range=e.getRangeAt(0),s=t.doc.createRange();s.selectNodeContents(t.$ed[0]),s.setEnd(n.startContainer,n.startOffset),i=(s+"").length,t.metaRange={start:i,end:i+(n+"").length}}},restoreRange:function(){var t,e=this,i=e.metaRange,n=e.range,s=e.doc.getSelection();if(n){if(i&&i.start!==i.end){var o,r=0,a=[e.$ed[0]],l=!1,h=!1;for(t=e.doc.createRange();!h&&(o=a.pop());)if(3===o.nodeType){var c=r+o.length;!l&&i.start>=r&&i.start<=c&&(t.setStart(o,i.start-r),l=!0),l&&i.end>=r&&i.end<=c&&(t.setEnd(o,i.end-r),h=!0),r=c}else for(var d=o.childNodes,u=d.length;0<u;)u-=1,a.push(d[u])}s.removeAllRanges(),s.addRange(t||n)}},getRangeText:function(){return this.range+""},updateButtonPaneStatus:function(){var o=this,r=o.o.prefix,t=o.getTagsRecursive(o.doc.getSelection().focusNode),a=r+"active-button "+r+"active";m("."+r+"active-button",o.$btnPane).removeClass(a),m.each(t,function(t,e){var i=o.tagToButton[e.toLowerCase()],n=m("."+r+i+"-button",o.$btnPane);if(0<n.length)n.addClass(a);else try{var s=(n=m("."+r+"dropdown ."+r+i+"-dropdown-button",o.$box)).parent().data("dropdown");m("."+r+s+"-button",o.$box).addClass(a)}catch(t){}})},getTagsRecursive:function(i,n){var s=this;if(n=n||(i&&i.tagName?[i.tagName]:[]),!i||!i.parentNode)return n;var t=(i=i.parentNode).tagName;return"DIV"===t?n:("P"===t&&""!==i.style.textAlign&&n.push(i.style.textAlign),m.each(s.tagHandlers,function(t,e){n=n.concat(e(i,s))}),n.push(t),s.getTagsRecursive(i,n).filter(function(t){return null!=t}))},initPlugins:function(){var i=this;i.loadedPlugins=[],m.each(m.trumbowyg.plugins,function(t,e){e.shouldInit&&!e.shouldInit(i)||(e.init(i),e.tagHandler&&i.tagHandlers.push(e.tagHandler),i.loadedPlugins.push(e))})},destroyPlugins:function(){m.each(this.loadedPlugins,function(t,e){e.destroy&&e.destroy()})}}}(navigator,window,document,jQuery),function(u){function c(t){f(t,L)||($[t]=1)}function t(t,e){function i(t){0===t.indexOf(".")&&n.push(t)}var n=[];if("string"==typeof t?i(t):T(t,function(t){i(t)}),0<n.length)throw new Error("[REQUIRE_FATAL]Relative ID is not allowed in global require: "+n.join(", "));var s=P.waitSeconds;return s&&t instanceof Array&&(E&&clearTimeout(E),E=setTimeout(o,1e3*s)),I(t,e)}function o(){function n(t,e){if(!l[t]&&!f(t,L)){l[t]=1,f(t,D)||r[t]||(r[t]=1,s.push(t));var i=M[t];i?e&&(r[t]||(r[t]=1,s.push(t)),T(i.depMs,function(t){n(t.absId,t.hard)})):a[t]||(a[t]=1,o.push(t))}}var s=[],o=[],r={},a={},l={};for(var t in $)n(t,1);if(s.length||o.length)throw new Error("[MODULE_TIMEOUT]Hang( "+(s.join(", ")||"none")+" ) Miss( "+(o.join(", ")||"none")+" )")}function l(e){T(R,function(t){a(e,t.deps,t.factory)}),R.length=0}function r(t,e,i){if(null==i&&(null==e?(i=t,t=null):(i=e,e=null,t instanceof Array&&(e=t,t=null))),null!=i){var n=window.opera;if(!t&&document.attachEvent&&(!n||"[object Opera]"!==n.toString())){var s=function(){if(Y)return Y;if(U&&"interactive"===U.readyState)return U;for(var t=document.getElementsByTagName("script"),e=t.length;e--;){var i=t[e];if("interactive"===i.readyState)return U=i}}();t=s&&s.getAttribute("data-require-id")}t?a(t,e,i):R[0]={deps:e,factory:i}}}function h(){var t=P.config[this.id];return t&&"object"==typeof t?t:{}}function a(t,e,i){M[t]||(M[t]={id:t,depsDec:e,deps:e||["require","exports","module"],factoryDeps:[],factory:i,exports:{},config:h,state:z,require:n(t),depMs:[],depMkv:{},depRs:[]})}function d(r){var s,o,a,l=M[r];if(l&&!f(r,A)){var n=l.deps,t=l.factory,h=0;"function"==typeof t&&(h=Math.min(t.length,n.length),!l.depsDec&&t.toString().replace(/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,"").replace(/require\(\s*(['"'])([^'"]+)\1\s*\)/g,function(t,e,i){n.push(i)}));var c=[],d=[];T(n,function(t,e){var i,n,s=k(t),o=C(s.mod,r);o&&!O[o]?(s.res&&(n={id:t,mod:o,res:s.res},d.push(t),l.depRs.push(n)),(i=l.depMkv[o])||(i={id:s.mod,absId:o,hard:e<h},l.depMs.push(i),l.depMkv[o]=i,c.push(o))):i={absId:o},e<h&&l.factoryDeps.push(n||i)}),l.state=A,(a=M[s=r]).invokeFactory=function(){if(!o&&a.state===D){var i=o=1;if(T(a.factoryDeps,function(t){var e=t.absId;return O[e]?void 0:(g(e),i=f(e,L))}),i){try{var t=a.factory,e="function"==typeof t?t.apply(u,m(a.factoryDeps,{require:a.require,exports:a.exports,module:a})):t;null!=e&&(a.exports=e),a.invokeFactory=null}catch(t){if(/^\[MODULE_MISS\]"([^"]+)/.test(t.message)){var n=a.depMkv[RegExp.$1];return n&&(n.hard=1),void(o=0)}throw t}y(s)}}},v(c),d.length&&l.require(d,function(){T(l.depRs,function(t){t.absId||(t.absId=C(t.id,r))}),p()})}}function p(){for(var t in $)d(t),e(t),g(t)}function e(t){var s={};!function e(t){if(d(t),!f(t,A))return!1;if(f(t,D)||s[t])return!0;s[t]=1;var i=M[t],n=!0;return T(i.depMs,function(t){return n=e(t.absId)}),n&&T(i.depRs,function(t){return n=!!t.absId}),n&&(i.state=D),n}(t)}function f(t,e){return M[t]&&M[t].state>=e}function g(t){var e=M[t];e&&e.invokeFactory&&e.invokeFactory()}function m(t,i){var n=[];return T(t,function(t,e){"object"==typeof t&&(t=t.absId),n[e]=i[t]||M[t].exports}),n}function y(t){M[t].state=L,delete $[t];for(var e=H[t]||[],i=e.length;i--;)e[i]();e.length=0,H[t]=null}function v(t,i,e){function n(){if("function"==typeof i&&!s){var e=1;T(t,function(t){return O[t]?void 0:e=!!f(t,L)}),e&&(s=1,i.apply(u,m(t,O)))}}var s=0;T(t,function(t){O[t]||f(t,L)||(function(t,e){if(f(t,L))e();else{var i=H[t];i||(i=H[t]=[]),i.push(e)}}(t,n),(0<t.indexOf("!")?function(e,t){function i(t){o.exports=t||!0,y(e)}if(!M[e]){var n=W[e];if(n)return void _(n);var s=k(e),o={id:e,state:A};M[e]=o,i.fromText=function(t,e){new Function(e)(),l(t)},r=I(s.mod),a=t?M[t].require:I,r.load(s.res,a,i,h.call({id:e}))}var r,a}:_)(t,e))}),n()}function _(t){function e(){!function(t,e){function i(){var t=n.readyState;(void 0===t||/^(loaded|complete)$/.test(t))&&(n.onload=n.onreadystatechange=null,n=null,e())}var n=document.createElement("script");n.setAttribute("data-require-id",t),n.src=w(t+".js"),n.async=!0,n.readyState?n.onreadystatechange=i:n.onload=i,Y=n,G?V.insertBefore(n,G):V.appendChild(n),Y=null}(W[t]||t,i)}function i(){var e;n?("function"==typeof n.init&&(e=n.init.apply(u,m(s,O))),null==e&&n.exports&&(e=u,T(n.exports.split("."),function(t){return!!(e=e[t])})),r(t,s,e||{})):l(t);p()}if(!N[t]&&!M[t]){N[t]=1;var n=P.shim[t];n instanceof Array&&(P.shim[t]=n={deps:n});var s=n&&(n.deps||[]);s?(T(s,function(t){P.shim[t]||(P.shim[t]={})}),I(s,e)):e()}}function i(t,e){var i=function(t,e,i){var n=[];for(var s in t)if(t.hasOwnProperty(s)){var o={k:s,v:t[s]};n.push(o),e&&(o.reg="*"===s&&i?/^/:S(s))}return n}(t,1,e);return i.sort(s),i}function b(){function t(t){W[t]=e}for(var e in P.baseUrl=P.baseUrl.replace(/\/$/,"")+"/",F=i(P.paths),T(j=i(P.map,1),function(t){t.v=i(t.v)}),B=[],T(P.packages,function(t){var e=t;"string"==typeof t&&(e={name:t.split("/")[0],location:t,main:"main"}),e.location=e.location||e.name,e.main=(e.main||"main").replace(/\.js$/i,""),e.reg=S(e.name),B.push(e)}),B.sort(s),q=i(P.urlArgs,1),W={},P.bundles)T(P.bundles[e],t)}function x(e,t,i){T(t,function(t){return t.reg.test(e)?(i(t.v,t.k,t),!1):void 0})}function w(t){var e=/(\.[a-z0-9]+)$/i,i=/(\?[^#]*)$/,n="",s=t,o="";i.test(t)&&(o=RegExp.$1,t=t.replace(i,"")),e.test(t)&&(n=RegExp.$1,s=t.replace(e,""));var r,a=s;return x(s,F,function(t,e){a=a.replace(e,t),r=1}),r||x(s,B,function(t,e,i){a=a.replace(i.name,i.location)}),/^([a-z]{2,10}:\/)?\//i.test(a)||(a=P.baseUrl+a),a+=n+o,x(s,q,function(t){a+=(0<a.indexOf("?")?"&":"?")+t}),a}function n(h){function t(i,t){if("string"==typeof i){if(!n[i]){var e=C(i,h);if(g(e),!f(e,L))throw new Error('[MODULE_MISS]"'+e+'" is not exists!');n[i]=M[e].exports}return n[i]}if(i instanceof Array){var a=[],l=[];T(i,function(t,e){var i=k(t),n=C(i.mod,h),s=i.res,o=n;if(s){var r=n+"!"+s;0!==s.indexOf(".")&&W[r]?n=o=r:o=null}l[e]=o,c(n),a.push(n)}),v(a,function(){T(l,function(t,e){null==t&&c(t=l[e]=C(i[e],h))}),v(l,t,h),p()},h),p()}}var n={};return t.toUrl=function(t){return w(C(t,h))},t}function C(t,e){if(!t)return"";e=e||"";var i=k(t);if(!i)return t;var n=i.res,s=function(t,e){if(0!==t.indexOf("."))return t;var i=e.split("/"),n=t.split("/"),s=i.length-1,o=n.length,r=0,a=0;t:for(var l=0;l<o;l++)switch(n[l]){case"..":if(!(r<s))break t;r++,a++;break;case".":a++;break;default:break t}return i.length=s-r,n=n.slice(a),i.concat(n).join("/")}(i.mod,e);if(T(B,function(t){var e=t.name;return e===s?(s=e+"/"+t.main,!1):void 0}),x(e,j,function(t){x(s,t,function(t,e){s=s.replace(e,t)})}),n){var o=f(s,L)&&I(s);n=o&&o.normalize?o.normalize(n,function(t){return C(t,e)}):C(n,e),s+="!"+n}return s}function k(t){var e=t.split("!");return e[0]?{mod:e[0],res:e[1]}:void 0}function S(t){return new RegExp("^"+t+"(/|$)")}function T(t,e){if(t instanceof Array)for(var i=0,n=t.length;i<n&&!1!==e(t[i],i);i++);}function s(t,e){var i=t.k||t.name,n=e.k||e.name;return"*"===n?-1:"*"===i?1:n.length-i.length}var E,M={},z=1,A=2,D=3,L=4,$={},O={require:t,exports:1,module:1},I=n(),P={baseUrl:"./",paths:{},config:{},map:{},packages:[],shim:{},waitSeconds:0,bundles:{},urlArgs:{}};t.version="2.0.2",t.loader="esl",t.toUrl=I.toUrl;var R=[];r.amd={};var H={},N={};t.config=function(t){if(t){for(var e in P){var i=t[e],n=P[e];if(i)if("urlArgs"===e&&"string"==typeof i)P.urlArgs["*"]=i;else if(n instanceof Array)n.push.apply(n,i);else if("object"==typeof n)for(var s in i)n[s]=i[s];else P[e]=i}b()}},b();var F,B,j,W,q,Y,U,V=document.getElementsByTagName("head")[0],G=document.getElementsByTagName("base")[0];G&&(V=G.parentNode),define||(define=r,require||(require=t),esl=t)}(this),define("echarts",["echarts/echarts"],function(t){return t}),define("echarts/echarts",["require","./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(m){function e(){t.Dispatcher.call(this)}function s(t){t.innerHTML="",this._themeConfig={},this.dom=t,this._connected=!1,this._status={dragIn:!1,dragOut:!1,needRefresh:!1},this._curEventType=!1,this._chartList=[],this._messageCenter=new e,this._messageCenterOutSide=new e,this.resize=this.resize(),this._init()}function i(t,e,i,n,s){for(var o=t._chartList,r=o.length;r--;){var a=o[r];"function"==typeof a[e]&&a[e](i,n,s)}}var E=m("./config"),M=m("zrender/tool/util"),t=m("zrender/tool/event"),o={},y=m("zrender/tool/env").canvasSupported,r=new Date-0,a={},l="_echarts_instance_";o.version="2.2.1",o.dependencies={zrender:"2.0.8"},o.init=function(t,e){var i=m("zrender");i.version.replace(".","")-0<o.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+i.version+" is too old for ECharts "+o.version+". Current version need ZRender "+o.dependencies.zrender+"+");var n=(t=t instanceof Array?t[0]:t).getAttribute(l);return n||(n=r++,t.setAttribute(l,n)),a[n]&&a[n].dispose(),a[n]=new s(t),a[n].id=n,a[n].canvasSupported=y,a[n].setTheme(e),a[n]},o.getInstanceById=function(t){return a[t]},M.merge(e.prototype,t.Dispatcher.prototype,!0);var d=m("zrender/config").EVENT,u=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];return s.prototype={_init:function(){var s=this,t=m("zrender").init(this.dom);for(var e in this._zr=t,this._messageCenter.dispatch=function(t,e,i,n){(i=i||{}).type=t,i.event=e,s._messageCenter.dispatchWithContext(t,i,n),"HOVER"!=t&&"MOUSEOUT"!=t?setTimeout(function(){s._messageCenterOutSide.dispatchWithContext(t,i,n)},50):s._messageCenterOutSide.dispatchWithContext(t,i,n)},this._onevent=function(t){return s.__onevent(t)},E.EVENT)"CLICK"!=e&&"DBLCLICK"!=e&&"HOVER"!=e&&"MOUSEOUT"!=e&&"MAP_ROAM"!=e&&this._messageCenter.bind(E.EVENT[e],this._onevent,this);var i={};this._onzrevent=function(t){return s[i[t.type]](t)};for(var n=0,o=u.length;n<o;n++){var r=u[n],a=d[r];i[a]="_on"+r.toLowerCase(),t.on(a,this._onzrevent)}this.chart={},this.component={};var l=m("./chart/island");this._island=new l(this._themeConfig,this._messageCenter,t,{},this),this.chart.island=this._island;var h=m("./component/toolbox");this._toolbox=new h(this._themeConfig,this._messageCenter,t,{},this),this.component.toolbox=this._toolbox;var c=m("./component");c.define("title",m("./component/title")),c.define("tooltip",m("./component/tooltip")),c.define("legend",m("./component/legend")),(0===t.getWidth()||0===t.getHeight())&&console.error("Doms width & height should be ready before init.")},__onevent:function(t){t.__echartsId=t.__echartsId||this.id;var e=t.__echartsId===this.id;switch(this._curEventType||(this._curEventType=t.type),t.type){case E.EVENT.LEGEND_SELECTED:this._onlegendSelected(t);break;case E.EVENT.DATA_ZOOM:if(!e){var i=this.component.dataZoom;i&&(i.silence(!0),i.absoluteZoom(t.zoom),i.silence(!1))}this._ondataZoom(t);break;case E.EVENT.DATA_RANGE:e&&this._ondataRange(t);break;case E.EVENT.MAGIC_TYPE_CHANGED:if(!e){var n=this.component.toolbox;n&&(n.silence(!0),n.setMagicType(t.magicType),n.silence(!1))}this._onmagicTypeChanged(t);break;case E.EVENT.DATA_VIEW_CHANGED:e&&this._ondataViewChanged(t);break;case E.EVENT.TOOLTIP_HOVER:e&&this._tooltipHover(t);break;case E.EVENT.RESTORE:this._onrestore();break;case E.EVENT.REFRESH:e&&this._onrefresh(t);break;case E.EVENT.TOOLTIP_IN_GRID:case E.EVENT.TOOLTIP_OUT_GRID:var s;if(e){if(this._connected)(s=this.component.grid)&&(t.x=(t.event.zrenderX-s.getX())/s.getWidth(),t.y=(t.event.zrenderY-s.getY())/s.getHeight())}else(s=this.component.grid)&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:s.getX()+t.x*s.getWidth(),zrenderY:s.getY()+t.y*s.getHeight()})}if(this._connected&&e&&this._curEventType===t.type){for(var o in this._connected)this._connected[o].connectedEventHandler(t);this._curEventType=null}(!e||!this._connected&&e)&&(this._curEventType=null)},_onclick:function(t){if(i(this,"onclick",t),t.target){var e=this._eventPackage(t.target);e&&null!=e.seriesIndex&&this._messageCenter.dispatch(E.EVENT.CLICK,t.event,e,this)}},_ondblclick:function(t){if(i(this,"ondblclick",t),t.target){var e=this._eventPackage(t.target);e&&null!=e.seriesIndex&&this._messageCenter.dispatch(E.EVENT.DBLCLICK,t.event,e,this)}},_onmouseover:function(t){if(t.target){var e=this._eventPackage(t.target);e&&null!=e.seriesIndex&&this._messageCenter.dispatch(E.EVENT.HOVER,t.event,e,this)}},_onmouseout:function(t){if(t.target){var e=this._eventPackage(t.target);e&&null!=e.seriesIndex&&this._messageCenter.dispatch(E.EVENT.MOUSEOUT,t.event,e,this)}},_ondragstart:function(t){this._status={dragIn:!1,dragOut:!1,needRefresh:!1},i(this,"ondragstart",t)},_ondragenter:function(t){i(this,"ondragenter",t)},_ondragover:function(t){i(this,"ondragover",t)},_ondragleave:function(t){i(this,"ondragleave",t)},_ondrop:function(t){i(this,"ondrop",t,this._status),this._island.ondrop(t,this._status)},_ondragend:function(t){if(i(this,"ondragend",t,this._status),this._timeline&&this._timeline.ondragend(t,this._status),this._island.ondragend(t,this._status),this._status.needRefresh){this._syncBackupData(this._option);var e=this._messageCenter;e.dispatch(E.EVENT.DATA_CHANGED,t.event,this._eventPackage(t.target),this),e.dispatch(E.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(t){this._status.needRefresh=!1,i(this,"onlegendSelected",t,this._status),this._status.needRefresh&&this._messageCenter.dispatch(E.EVENT.REFRESH,null,null,this)},_ondataZoom:function(t){this._status.needRefresh=!1,i(this,"ondataZoom",t,this._status),this._status.needRefresh&&this._messageCenter.dispatch(E.EVENT.REFRESH,null,null,this)},_ondataRange:function(t){this._clearEffect(),this._status.needRefresh=!1,i(this,"ondataRange",t,this._status),this._status.needRefresh&&this._zr.refreshNextFrame()},_onmagicTypeChanged:function(){this._clearEffect(),this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(t){this._syncBackupData(t.option),this._messageCenter.dispatch(E.EVENT.DATA_CHANGED,null,t,this),this._messageCenter.dispatch(E.EVENT.REFRESH,null,null,this)},_tooltipHover:function(t){i(this,"ontooltipHover",t,[])},_onrestore:function(){this.restore()},_onrefresh:function(t){this._refreshInside=!0,this.refresh(t),this._refreshInside=!1},_syncBackupData:function(t){this.component.dataZoom&&this.component.dataZoom.syncBackupData(t)},_eventPackage:function(t){if(t){var e=m("./util/ecData"),i=e.get(t,"seriesIndex"),n=e.get(t,"dataIndex");return n=-1!=i&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(i,n):n,{seriesIndex:i,seriesName:(e.get(t,"series")||{}).name,dataIndex:n,data:e.get(t,"data"),name:e.get(t,"name"),value:e.get(t,"value"),special:e.get(t,"special")}}},_noDataCheck:function(t){for(var e=t.series,i=0,n=e.length;i<n;i++)if(e[i].type==E.CHART_TYPE_MAP||e[i].data&&0<e[i].data.length||e[i].markPoint&&e[i].markPoint.data&&0<e[i].markPoint.data.length||e[i].markLine&&e[i].markLine.data&&0<e[i].markLine.data.length||e[i].nodes&&0<e[i].nodes.length||e[i].links&&0<e[i].links.length||e[i].matrix&&0<e[i].matrix.length||e[i].eventList&&0<e[i].eventList.length)return!1;var s=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||E.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||E.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||E.noDataEffect};return this.clear(),this.showLoading(s),!0},_render:function(t){if(this._mergeGlobalConifg(t),!this._noDataCheck(t)){var e=t.backgroundColor;if(e)if(y||-1==e.indexOf("rgba"))this.dom.style.backgroundColor=e;else{var i=e.split(",");this.dom.style.filter="alpha(opacity="+100*i[3].substring(0,i[3].lastIndexOf(")"))+")",i.length=3,i[0]=i[0].replace("a",""),this.dom.style.backgroundColor=i.join(",")+")"}this._zr.clearAnimation(),this._chartList=[];var n=m("./chart"),s=m("./component");(t.xAxis||t.yAxis)&&(t.grid=t.grid||{},t.dataZoom=t.dataZoom||{});for(var o,r,a=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"],l=0,h=a.length;l<h;l++)o=a[l],r=this.component[o],t[o]?(r?r.refresh&&r.refresh(t):(r=new(s.get(/^[xy]Axis$/.test(o)?"axis":o))(this._themeConfig,this._messageCenter,this._zr,t,this,o),this.component[o]=r),this._chartList.push(r)):r&&(r.dispose(),this.component[o]=null,delete this.component[o]);var c,d,u,p={};for(l=0,h=t.series.length;l<h;l++)(d=t.series[l].type)?p[d]||(p[d]=!0,(c=n.get(d))?(this.chart[d]?(u=this.chart[d]).refresh(t):u=new c(this._themeConfig,this._messageCenter,this._zr,t,this),this._chartList.push(u),this.chart[d]=u):console.error(d+" has not been required.")):console.error("series["+l+"] chart type has not been defined.");for(d in this.chart)d==E.CHART_TYPE_ISLAND||p[d]||(this.chart[d].dispose(),this.chart[d]=null,delete this.chart[d]);this.component.grid&&this.component.grid.refixAxisShape(this.component),this._island.refresh(t),this._toolbox.refresh(t),t.animation&&!t.renderAsImage?this._zr.refresh():this._zr.render();var f="IMG"+this.id,g=document.getElementById(f);t.renderAsImage&&y?(g?g.src=this.getDataURL(t.renderAsImage):((g=this.getImage(t.renderAsImage)).id=f,g.style.position="absolute",g.style.left=0,g.style.top=0,this.dom.firstChild.appendChild(g)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):g&&g.parentNode.removeChild(g),g=null,this._option=t}},restore:function(){this._clearEffect(),this._option=M.clone(this._optionRestore),this._disposeChartList(),this._island.clear(),this._toolbox.reset(this._option,!0),this._render(this._option)},refresh:function(t){this._clearEffect();var e=(t=t||{}).option;!this._refreshInside&&e&&(e=this.getOption(),M.merge(e,t.option,!0),M.merge(this._optionRestore,t.option,!0),this._toolbox.reset(e)),this._island.refresh(e),this._toolbox.refresh(e),this._zr.clearAnimation();for(var i=0,n=this._chartList.length;i<n;i++)this._chartList[i].refresh&&this._chartList[i].refresh(e);this.component.grid&&this.component.grid.refixAxisShape(this.component),this._zr.refresh()},_disposeChartList:function(){this._clearEffect(),this._zr.clearAnimation();for(var t=this._chartList.length;t--;){var e=this._chartList[t];if(e){var i=e.type;this.chart[i]&&delete this.chart[i],this.component[i]&&delete this.component[i],e.dispose&&e.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(t){for(var e=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"],i=e.length;i--;){var n=e[i];null==t[n]&&(t[n]=null!=this._themeConfig[n]?this._themeConfig[n]:E[n])}var s=t.color;s&&s.length||(s=this._themeConfig.color||E.color),this._zr.getColor=function(t){return m("zrender/tool/color").getColor(t,s)},y||(t.animation=!1,t.addDataAnimation=!1)},setOption:function(t,e){return t.timeline?this._setTimelineOption(t):this._setOption(t,e)},_setOption:function(t,e){return this._option=!e&&this._option?M.merge(this.getOption(),M.clone(t),!0):M.clone(t),this._optionRestore=M.clone(this._option),this._option.series&&0!==this._option.series.length?(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this):void this._zr.clear()},getOption:function(){function t(t){var e=s._optionRestore[t];if(e)if(e instanceof Array)for(var i=e.length;i--;)n[t][i].data=M.clone(e[i].data);else n[t].data=M.clone(e.data)}var n=M.clone(this._option),s=this;return t("xAxis"),t("yAxis"),t("series"),n},setSeries:function(t,e){return e?(this._option.series=t,this.setOption(this._option,e)):this.setOption({series:t}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(t){this._timeline&&this._timeline.dispose();var e=new(m("./component/timeline"))(this._themeConfig,this._messageCenter,this._zr,t,this);return this._timeline=e,this.component.timeline=this._timeline,this},addData:function(t,e,i,n,s){function o(){if(T._zr){T._zr.clearAnimation();for(var t=0,e=C.length;t<e;t++)C[t].motionlessOnce=a.addDataAnimation&&C[t].addDataAnimation;T._messageCenter.dispatch(E.EVENT.REFRESH,null,{option:a},T)}}for(var r=t instanceof Array?t:[[t,e,i,n,s]],a=this.getOption(),l=this._optionRestore,h=0,c=r.length;h<c;h++){t=r[h][0],e=r[h][1],i=r[h][2],n=r[h][3],s=r[h][4];var d=l.series[t],u=i?"unshift":"push",p=i?"pop":"shift";if(d){var f,g,m=d.data,y=a.series[t].data;if(m[u](e),y[u](e),n||(m[p](),e=y[p]()),null!=s)if(d.type===E.CHART_TYPE_PIE&&(f=l.legend)&&(g=f.data)){var v=a.legend.data;if(g[u](s),v[u](s),!n){var _=M.indexOf(g,e.name);-1!=_&&g.splice(_,1),-1!=(_=M.indexOf(v,e.name))&&v.splice(_,1)}}else if(null!=l.xAxis&&null!=l.yAxis){var b,x,w=d.xAxisIndex||0;(null==l.xAxis[w].type||"category"===l.xAxis[w].type)&&(b=l.xAxis[w].data,x=a.xAxis[w].data,b[u](s),x[u](s),n||(b[p](),x[p]())),w=d.yAxisIndex||0,"category"===l.yAxis[w].type&&(b=l.yAxis[w].data,x=a.yAxis[w].data,b[u](s),x[u](s),n||(b[p](),x[p]()))}this._option.series[t].data=a.series[t].data}}this._zr.clearAnimation();var C=this._chartList,k=0,S=function(){0===--k&&o()};for(h=0,c=C.length;h<c;h++)a.addDataAnimation&&C[h].addDataAnimation&&(k++,C[h].addDataAnimation(r,S));this.component.dataZoom&&this.component.dataZoom.syncOption(a),this._option=a;var T=this;return a.addDataAnimation||setTimeout(o,0),this},addMarkPoint:function(t,e){return this._addMark(t,e,"markPoint")},addMarkLine:function(t,e){return this._addMark(t,e,"markLine")},_addMark:function(t,e,i){var n,s=this._option.series;if(s&&(n=s[t])){var o=this._optionRestore.series[t],r=n[i],a=o[i];for(var l in r=n[i]=r||{data:[]},a=o[i]=a||{data:[]},e)"data"===l?(r.data=r.data.concat(e.data),a.data=a.data.concat(e.data)):"object"!=typeof e[l]||null==r[l]?r[l]=a[l]=e[l]:(M.merge(r[l],e[l],!0),M.merge(a[l],e[l],!0));var h=this.chart[n.type];h&&h.addMark(t,e,i)}return this},delMarkPoint:function(t,e){return this._delMark(t,e,"markPoint")},delMarkLine:function(t,e){return this._delMark(t,e,"markLine")},_delMark:function(t,e,i){var n,s,o,r=this._option.series;if(!(r&&(n=r[t])&&(s=n[i])&&(o=s.data)))return this;e=e.split(" > ");for(var a=-1,l=0,h=o.length;l<h;l++){var c=o[l];if(c instanceof Array){if(c[0].name===e[0]&&c[1].name===e[1]){a=l;break}}else if(c.name===e[0]){a=l;break}}if(-1<a){o.splice(a,1),this._optionRestore.series[t][i].data.splice(a,1);var d=this.chart[n.type];d&&d.delMark(t,e.join(" > "),i)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(t){if(!y)return"";if(0===this._chartList.length){var e="IMG"+this.id,i=document.getElementById(e);if(i)return i.src}var n=this.component.tooltip;switch(n&&n.hideTip(),t){case"jpeg":break;default:t="png"}var s=this._option.backgroundColor;return s&&"rgba(0,0,0,0)"===s.replace(" ","")&&(s="#fff"),this._zr.toDataURL("image/"+t,s)},getImage:function(t){var e=this._optionRestore.title,i=document.createElement("img");return i.src=this.getDataURL(t),i.title=e&&e.text||"ECharts",i},getConnectedDataURL:function(t){if(!this.isConnected())return this.getDataURL(t);var e=this.dom,i={self:{img:this.getDataURL(t),left:e.offsetLeft,top:e.offsetTop,right:e.offsetLeft+e.offsetWidth,bottom:e.offsetTop+e.offsetHeight}},n=i.self.left,s=i.self.top,o=i.self.right,r=i.self.bottom;for(var a in this._connected)e=this._connected[a].getDom(),i[a]={img:this._connected[a].getDataURL(t),left:e.offsetLeft,top:e.offsetTop,right:e.offsetLeft+e.offsetWidth,bottom:e.offsetTop+e.offsetHeight},n=Math.min(n,i[a].left),s=Math.min(s,i[a].top),o=Math.max(o,i[a].right),r=Math.max(r,i[a].bottom);var l=document.createElement("div");l.style.position="absolute",l.style.left="-4000px",l.style.width=o-n+"px",l.style.height=r-s+"px",document.body.appendChild(l);var h=m("zrender").init(l),c=m("zrender/shape/Image");for(var a in i)h.addShape(new c({style:{x:i[a].left-n,y:i[a].top-s,image:i[a].img}}));h.render();var d=this._option.backgroundColor;d&&"rgba(0,0,0,0)"===d.replace(/ /g,"")&&(d="#fff");var u=h.toDataURL("image/png",d);return setTimeout(function(){h.dispose(),l.parentNode.removeChild(l),l=null},100),u},getConnectedImage:function(t){var e=this._optionRestore.title,i=document.createElement("img");return i.src=this.getConnectedDataURL(t),i.title=e&&e.text||"ECharts",i},on:function(t,e){return this._messageCenterOutSide.bind(t,e,this),this},un:function(t,e){return this._messageCenterOutSide.unbind(t,e),this},connect:function(t){if(!t)return this;if(this._connected||(this._connected={}),t instanceof Array)for(var e=0,i=t.length;e<i;e++)this._connected[t[e].id]=t[e];else this._connected[t.id]=t;return this},disConnect:function(t){if(!t||!this._connected)return this;if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)delete this._connected[t[e].id];else delete this._connected[t.id];for(var n in this._connected)return this;return this._connected=!1,this},connectedEventHandler:function(t){t.__echartsId!=this.id&&this._onevent(t)},isConnected:function(){return!!this._connected},showLoading:function(t){var e={bar:m("zrender/loadingEffect/Bar"),bubble:m("zrender/loadingEffect/Bubble"),dynamicLine:m("zrender/loadingEffect/DynamicLine"),ring:m("zrender/loadingEffect/Ring"),spin:m("zrender/loadingEffect/Spin"),whirling:m("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView();var i=(t=t||{}).textStyle||{};t.textStyle=i;var n=M.merge(M.merge(M.clone(i),this._themeConfig.textStyle),E.textStyle);i.textFont=n.fontStyle+" "+n.fontWeight+" "+n.fontSize+"px "+n.fontFamily,i.text=t.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||E.loadingText,null!=t.x&&(i.x=t.x),null!=t.y&&(i.y=t.y),t.effectOption=t.effectOption||{},t.effectOption.textStyle=i;var s=t.effect;return("string"==typeof s||null==s)&&(s=e[t.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||E.loadingEffect]||e.spin),this._zr.showLoading(new s(t.effectOption)),this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(t){if(t){if("string"==typeof t)switch(t){case"macarons":t=m("./theme/macarons");break;case"infographic":t=m("./theme/infographic");break;default:t={}}else t=t||{};this._themeConfig=t}if(!y){var e=this._themeConfig.textStyle;e&&e.fontFamily&&e.fontFamily2&&(e.fontFamily=e.fontFamily2),(e=E.textStyle).fontFamily=e.fontFamily2}this._timeline&&this._timeline.setTheme(!0),this._optionRestore&&this.restore()},resize:function(){var i=this;return function(){if(i._clearEffect(),i._zr.resize(),i._option&&i._option.renderAsImage&&y)return i._render(i._option),i;i._zr.clearAnimation(),i._island.resize(),i._toolbox.resize(),i._timeline&&i._timeline.resize();for(var t=0,e=i._chartList.length;t<e;t++)i._chartList[t].resize&&i._chartList[t].resize();return i.component.grid&&i.component.grid.refixAxisShape(i.component),i._zr.refresh(),i._messageCenter.dispatch(E.EVENT.RESIZE,null,null,i),i}},_clearEffect:function(){this._zr.modLayer(E.EFFECT_ZLEVEL,{motionBlur:!1}),this._zr.painter.clearLayer(E.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this.dom.style.backgroundColor=null,this},dispose:function(){var t=this.dom.getAttribute(l);t&&delete a[t],this._island.dispose(),this._toolbox.dispose(),this._timeline&&this._timeline.dispose(),this._messageCenter.unbind(),this.clear(),this._zr.dispose(),this._zr=null}},o}),define("echarts/config",[],function(){return{CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:!0,symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},markLine:{clickable:!0,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:.2,precision:2,effect:{show:!1,loop:!0,period:15,scaleSize:2},bundling:{enable:!1,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"...",noDataEffect:"bubble",noDataText:"",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:!0,addDataAnimation:!0,animationThreshold:2e3,animationDuration:2e3,animationDurationUpdate:500,animationEasing:"ExponentialOut"}}),define("zrender/tool/util",["require","../dep/excanvas"],function(e){function r(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}function s(t,e,i,n){if(e.hasOwnProperty(i)){var s=t[i];"object"!=typeof s||c[d.call(s)]||r(s)?!n&&i in t||(t[i]=e[i]):o(t[i],e[i],n)}}function o(t,e,i){for(var n in e)s(t,e,n,i);return t}var i,n,a,l,h,c={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},d=Object.prototype.toString,u=0,p=0;return{inherits:function(t,e){function i(){}var n=t.prototype;for(var s in i.prototype=e.prototype,t.prototype=new i,n)t.prototype[s]=n[s];t.constructor=t},clone:function t(e){if("object"!=typeof e||null===e)return e;var i=e;if(e instanceof Array){i=[];for(var n=0,s=e.length;n<s;n++)i[n]=t(e[n])}else if(!c[d.call(e)]&&!r(e))for(var o in i={},e)e.hasOwnProperty(o)&&(i[o]=t(e[o]));return i},merge:o,getContext:function(){if(!i)if(e("../dep/excanvas"),window.G_vmlCanvasManager){var t=document.createElement("div");t.style.position="absolute",t.style.top="-1000px",document.body.appendChild(t),i=G_vmlCanvasManager.initElement(t).getContext("2d")}else i=document.createElement("canvas").getContext("2d");return i},getPixelContext:function(){return a||(n=document.createElement("canvas"),l=n.width,h=n.height,a=n.getContext("2d")),a},getPixelOffset:function(){return{x:u,y:p}},adjustCanvasSize:function(t,e){var i;l<t+u&&(l=t+u+100,n.width=l,i=!0),h<e+p&&(h=e+p+100,n.height=h,i=!0),t<-u&&(u=100*Math.ceil(-t/100),l+=u,n.width=l,i=!0),e<-p&&(p=100*Math.ceil(-e/100),h+=p,n.height=h,i=!0),i&&a.translate(u,p)},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}}}),define("zrender/tool/event",["require","../mixin/Eventful"],function(t){"use strict";var e=t("../mixin/Eventful");return{getX:function(t){return void 0!==t.zrenderX&&t.zrenderX||void 0!==t.offsetX&&t.offsetX||void 0!==t.layerX&&t.layerX||void 0!==t.clientX&&t.clientX},getY:function(t){return void 0!==t.zrenderY&&t.zrenderY||void 0!==t.offsetY&&t.offsetY||void 0!==t.layerY&&t.layerY||void 0!==t.clientY&&t.clientY},getDelta:function(t){return void 0!==t.zrenderDelta&&t.zrenderDelta||void 0!==t.wheelDelta&&t.wheelDelta||void 0!==t.detail&&-t.detail},stop:"function"==typeof window.addEventListener?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},Dispatcher:e}}),define("zrender/tool/env",[],function(){return function(t){var e=this.os={},i=this.browser={},n=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),s=t.match(/(Android);?[\s\/]+([\d.]+)?/),o=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),l=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=l&&t.match(/TouchPad/),c=t.match(/Kindle\/([\d.]+)/),d=t.match(/Silk\/([\d._]+)/),u=t.match(/(BlackBerry).*Version\/([\d.]+)/),p=t.match(/(BB10).*Version\/([\d.]+)/),f=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=t.match(/PlayBook/),m=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),y=t.match(/Firefox\/([\d.]+)/),v=t.match(/MSIE ([\d.]+)/),_=n&&t.match(/Mobile\//)&&!m,b=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!m;return v=t.match(/MSIE\s([\d.]+)/),(i.webkit=!!n)&&(i.version=n[1]),s&&(e.android=!0,e.version=s[2]),a&&!r&&(e.ios=e.iphone=!0,e.version=a[2].replace(/_/g,".")),o&&(e.ios=e.ipad=!0,e.version=o[2].replace(/_/g,".")),r&&(e.ios=e.ipod=!0,e.version=r[3]?r[3].replace(/_/g,"."):null),l&&(e.webos=!0,e.version=l[2]),h&&(e.touchpad=!0),u&&(e.blackberry=!0,e.version=u[2]),p&&(e.bb10=!0,e.version=p[2]),f&&(e.rimtabletos=!0,e.version=f[2]),g&&(i.playbook=!0),c&&(e.kindle=!0,e.version=c[1]),d&&(i.silk=!0,i.version=d[1]),!d&&e.android&&t.match(/Kindle Fire/)&&(i.silk=!0),m&&(i.chrome=!0,i.version=m[1]),y&&(i.firefox=!0,i.version=y[1]),v&&(i.ie=!0,i.version=v[1]),_&&(t.match(/Safari/)||e.ios)&&(i.safari=!0),b&&(i.webview=!0),v&&(i.ie=!0,i.version=v[1]),e.tablet=!!(o||g||s&&!t.match(/Mobile/)||y&&t.match(/Tablet/)||v&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(s||a||l||u||p||m&&t.match(/Android/)||m&&t.match(/CriOS\/([\d.]+)/)||y&&t.match(/Mobile/)||v&&t.match(/Touch/))),{browser:i,os:e,canvasSupported:!!document.createElement("canvas").getContext}}(navigator.userAgent)}),define("zrender",["zrender/zrender"],function(t){return t}),define("zrender/zrender",["require","./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(r){r("./dep/excanvas");var d=r("./tool/util"),u=r("./tool/log"),s=r("./tool/guid"),a=r("./Handler"),l=r("./Painter"),h=r("./Storage"),c=r("./animation/Animation"),i={},n={version:"2.0.8",init:function(t){var e=new o(s(),t);return i[e.id]=e},dispose:function(t){if(t)t.dispose();else{for(var e in i)i[e].dispose();i={}}return n},getInstance:function(t){return i[t]},delInstance:function(t){return delete i[t],n}},o=function(t,e){var n;this.id=t,this.env=r("./tool/env"),this.storage=new h,this.painter=new l(e,this.storage),this.handler=new a(e,this.storage,this.painter),this.animatingElements=[],this.animation=new c({stage:{update:(n=this,function(){for(var t=n.animatingElements,e=0,i=t.length;e<i;e++)n.storage.mod(t[e].id);(t.length||n._needsRefreshNextFrame)&&n.refresh()})}}),this.animation.start();var i=this;this.painter.refreshNextFrame=function(){i.refreshNextFrame()},this._needsRefreshNextFrame=!1;i=this;var s=this.storage,o=s.delFromMap;s.delFromMap=function(t){var e=s.get(t);i.stopAnimation(e),o.call(s,t)}};return o.prototype.getId=function(){return this.id},o.prototype.addShape=function(t){return this.addElement(t),this},o.prototype.addGroup=function(t){return this.addElement(t),this},o.prototype.delShape=function(t){return this.delElement(t),this},o.prototype.delGroup=function(t){return this.delElement(t),this},o.prototype.modShape=function(t,e){return this.modElement(t,e),this},o.prototype.modGroup=function(t,e){return this.modElement(t,e),this},o.prototype.addElement=function(t){return this.storage.addRoot(t),this._needsRefreshNextFrame=!0,this},o.prototype.delElement=function(t){return this.storage.delRoot(t),this._needsRefreshNextFrame=!0,this},o.prototype.modElement=function(t,e){return this.storage.mod(t,e),this._needsRefreshNextFrame=!0,this},o.prototype.modLayer=function(t,e){return this.painter.modLayer(t,e),this._needsRefreshNextFrame=!0,this},o.prototype.addHoverShape=function(t){return this.storage.addHover(t),this},o.prototype.render=function(t){return this.painter.render(t),this._needsRefreshNextFrame=!1,this},o.prototype.refresh=function(t){return this.painter.refresh(t),this._needsRefreshNextFrame=!1,this},o.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},o.prototype.refreshHover=function(t){return this.painter.refreshHover(t),this},o.prototype.refreshShapes=function(t,e){return this.painter.refreshShapes(t,e),this},o.prototype.resize=function(){return this.painter.resize(),this},o.prototype.animate=function(e,t,i){if("string"==typeof e&&(e=this.storage.get(e)),e){var n;if(t){for(var s=t.split("."),o=e,r=0,a=s.length;r<a;r++)o&&(o=o[s[r]]);o&&(n=o)}else n=e;if(!n)return void u('Property "'+t+'" is not existed in element '+e.id);var l=this.animatingElements;null==e.__animators&&(e.__animators=[]);var h=e.__animators;0===h.length&&l.push(e);var c=this.animation.animate(n,{loop:i}).done(function(){if(0<=(t=d.indexOf(e.__animators,c))&&h.splice(t,1),0===h.length){var t=d.indexOf(l,e);l.splice(t,1)}});return h.push(c),c}u("Element not existed")},o.prototype.stopAnimation=function(t){if(t.__animators){for(var e=t.__animators,i=e.length,n=0;n<i;n++)e[n].stop();if(0<i){var s=this.animatingElements,o=d.indexOf(s,t);0<=o&&s.splice(o,1)}e.length=0}return this},o.prototype.clearAnimation=function(){return this.animation.clear(),this.animatingElements.length=0,this},o.prototype.showLoading=function(t){return this.painter.showLoading(t),this},o.prototype.hideLoading=function(){return this.painter.hideLoading(),this},o.prototype.getWidth=function(){return this.painter.getWidth()},o.prototype.getHeight=function(){return this.painter.getHeight()},o.prototype.toDataURL=function(t,e,i){return this.painter.toDataURL(t,e,i)},o.prototype.shapeToImage=function(t,e,i){var n=s();return this.painter.shapeToImage(n,t,e,i)},o.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},o.prototype.un=function(t,e){return this.handler.un(t,e),this},o.prototype.trigger=function(t,e){return this.handler.trigger(t,e),this},o.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},o.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.animatingElements=this.storage=this.painter=this.handler=null,n.delInstance(this.id)},n}),define("zrender/config",[],function(){return{EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},catchBrushException:!1,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)}}),define("echarts/chart/island",["require","./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(o){function t(t,e,i,n,s){r.call(this,t,e,i,n,s),this._nameConnector,this._valueConnector,this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth();var a=this;a.shapeHandler.onmousewheel=function(t){var e=t.target,i=t.event,n=h.getDelta(i);n=0<n?-1:1,e.style.r-=n,e.style.r=e.style.r<5?5:e.style.r;var s=l.get(e,"value"),o=s*a.option.island.calculateStep;s=1<o?Math.round(s-o*n):+(s-o*n).toFixed(2);var r=l.get(e,"name");e.style.text=r+":"+s,l.set(e,"value",s),l.set(e,"name",r),a.zr.modShape(e.id),a.zr.refreshNextFrame(),h.stop(i)}}var r=o("./base"),a=o("zrender/shape/Circle"),e=o("../config");e.island={zlevel:0,z:5,r:15,calculateStep:.1};var l=o("../util/ecData"),i=o("zrender/tool/util"),h=o("zrender/tool/event");return t.prototype={type:e.CHART_TYPE_ISLAND,_combine:function(t,e){var i=o("zrender/tool/color"),n=o("../util/accMath").accAdd(l.get(t,"value"),l.get(e,"value")),s=l.get(t,"name")+this._nameConnector+l.get(e,"name");t.style.text=s+this._valueConnector+n,l.set(t,"value",n),l.set(t,"name",s),t.style.r=this.option.island.r,t.style.color=i.mix(t.style.color,e.style.color)},refresh:function(t){t&&(t.island=this.reformOption(t.island),this.option=t,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var t=this.zr.getWidth(),e=this.zr.getHeight(),i=t/(this._zrWidth||t),n=e/(this._zrHeight||e);if(1!==i||1!==n){this._zrWidth=t,this._zrHeight=e;for(var s=0,o=this.shapeList.length;s<o;s++)this.zr.modShape(this.shapeList[s].id,{style:{x:Math.round(this.shapeList[s].style.x*i),y:Math.round(this.shapeList[s].style.y*n)}})}},add:function(t){var e=l.get(t,"name"),i=l.get(t,"value"),n=null!=l.get(t,"series")?l.get(t,"series").name:"",s=this.getFont(this.option.island.textStyle),o={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:t.style.x,y:t.style.y,r:this.option.island.r,color:t.style.color||t.style.strokeColor,text:e+this._valueConnector+i,textFont:s},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};"#fff"===o.style.color&&(o.style.color=t.style.strokeColor),this.setCalculable(o),o.dragEnableTime=0,l.pack(o,{name:n},-1,i,-1,e),o=new a(o),this.shapeList.push(o),this.zr.addShape(o)},del:function(t){this.zr.delShape(t.id);for(var e=[],i=0,n=this.shapeList.length;i<n;i++)this.shapeList[i].id!=t.id&&e.push(this.shapeList[i]);this.shapeList=e},ondrop:function(t,e){if(this.isDrop&&t.target){var i=t.target,n=t.dragged;this._combine(i,n),this.zr.modShape(i.id),e.dragIn=!0,this.isDrop=!1}},ondragend:function(t,e){var i=t.target;this.isDragend?e.dragIn&&(this.del(i),e.needRefresh=!0):e.dragIn||(i.style.x=h.getX(t.event),i.style.y=h.getY(t.event),this.add(i),e.needRefresh=!0),this.isDragend=!1}},i.inherits(t,r),o("../chart").define("island",t),t}),define("echarts/component/toolbox",["require","./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(g){function t(t,e,i,n,s){r.call(this,t,e,i,n,s),this.dom=s.dom,this._magicType={},this._magicMap={},this._isSilence=!1,this._iconList,this._iconShapeMap={},this._featureTitle={},this._featureIcon={},this._featureColor={},this._featureOption={},this._enableColor="red",this._disableColor="#ccc",this._markShapeList=[];var o=this;o._onMark=function(t){o.__onMark(t)},o._onMarkUndo=function(t){o.__onMarkUndo(t)},o._onMarkClear=function(t){o.__onMarkClear(t)},o._onDataZoom=function(t){o.__onDataZoom(t)},o._onDataZoomReset=function(t){o.__onDataZoomReset(t)},o._onDataView=function(t){o.__onDataView(t)},o._onRestore=function(t){o.__onRestore(t)},o._onSaveAsImage=function(t){o.__onSaveAsImage(t)},o._onMagicType=function(t){o.__onMagicType(t)},o._onCustomHandler=function(t){o.__onCustomHandler(t)},o._onmousemove=function(t){return o.__onmousemove(t)},o._onmousedown=function(t){return o.__onmousedown(t)},o._onmouseup=function(t){return o.__onmouseup(t)},o._onclick=function(t){return o.__onclick(t)}}var r=g("./base"),n=g("zrender/shape/Line"),m=g("zrender/shape/Image"),s=g("zrender/shape/Rectangle"),y=g("../util/shape/Icon"),o=g("../config");o.toolbox={zlevel:0,z:6,show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"",markUndo:"",markClear:""},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"",dataZoomReset:""}},dataView:{show:!1,title:"",readOnly:!1,lang:["","",""]},magicType:{show:!1,title:{line:"",bar:"",stack:"",tiled:"",force:"",chord:"",pie:"",funnel:""},type:[]},restore:{show:!1,title:""},saveAsImage:{show:!1,title:"",type:"png",lang:[""]}}};var c=g("zrender/tool/util"),a=g("zrender/config"),l=g("zrender/tool/event"),d="stack",u="tiled";return t.prototype={type:o.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var t=this.option.toolbox;this._enableColor=t.effectiveColor,this._disableColor=t.disableColor;var e=t.feature,i=[];for(var n in e)if(e[n].show)switch(n){case"mark":i.push({key:n,name:"mark"}),i.push({key:n,name:"markUndo"}),i.push({key:n,name:"markClear"});break;case"magicType":for(var s=0,o=e[n].type.length;s<o;s++)e[n].title[e[n].type[s]+"Chart"]=e[n].title[e[n].type[s]],e[n].option&&(e[n].option[e[n].type[s]+"Chart"]=e[n].option[e[n].type[s]]),i.push({key:n,name:e[n].type[s]+"Chart"});break;case"dataZoom":i.push({key:n,name:"dataZoom"}),i.push({key:n,name:"dataZoomReset"});break;case"saveAsImage":this.canvasSupported&&i.push({key:n,name:"saveAsImage"});break;default:i.push({key:n,name:n})}if(0<i.length){var r;for(s=0,o=i.length;s<o;s++)r=i[s].name,n=i[s].key,this._iconList.push(r),this._featureTitle[r]=e[n].title[r]||e[n].title,e[n].icon&&(this._featureIcon[r]=e[n].icon[r]||e[n].icon),e[n].color&&(this._featureColor[r]=e[n].color[r]||e[n].color),e[n].option&&(this._featureOption[r]=e[n].option[r]||e[n].option);this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(s=0,o=this.shapeList.length;s<o;s++)this.zr.addShape(this.shapeList[s]);this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)),this._iconShapeMap.dataZoomReset&&0===this._zoomQueue.length&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var t,e,i,n,s=this.option.toolbox,o=this._iconList.length,r=this._itemGroupLocation.x,a=this._itemGroupLocation.y,l=s.itemSize,h=s.itemGap,c=s.color instanceof Array?s.color:[s.color],d=this.getFont(s.textStyle);"horizontal"===s.orient?(e=this._itemGroupLocation.y/this.zr.getHeight()<.5?"bottom":"top",i=this._itemGroupLocation.x/this.zr.getWidth()<.5?"left":"right",n=this._itemGroupLocation.y/this.zr.getHeight()<.5?"top":"bottom"):e=this._itemGroupLocation.x/this.zr.getWidth()<.5?"right":"left",this._iconShapeMap={};for(var u=this,p=0;p<o;p++){switch(t={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:r,y:a,width:l,height:l,iconType:this._iconList[p],lineWidth:1,strokeColor:this._featureColor[this._iconList[p]]||c[p%c.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:s.showTitle?this._featureTitle[this._iconList[p]]:void 0,textFont:d,textPosition:e,strokeColor:this._featureColor[this._iconList[p]]||c[p%c.length]},hoverable:!0,clickable:!0},this._featureIcon[this._iconList[p]]&&(t.style.image=this._featureIcon[this._iconList[p]].replace(new RegExp("^image:\\/\\/"),""),t.style.opacity=.8,t.highlightStyle.opacity=1,t.type="image"),"horizontal"===s.orient&&(0===p&&"left"===i&&(t.highlightStyle.textPosition="specific",t.highlightStyle.textAlign=i,t.highlightStyle.textBaseline=n,t.highlightStyle.textX=r,t.highlightStyle.textY="top"===n?a+l+10:a-10),p===o-1&&"right"===i&&(t.highlightStyle.textPosition="specific",t.highlightStyle.textAlign=i,t.highlightStyle.textBaseline=n,t.highlightStyle.textX=r+l,t.highlightStyle.textY="top"===n?a+l+10:a-10)),this._iconList[p]){case"mark":t.onclick=u._onMark;break;case"markUndo":t.onclick=u._onMarkUndo;break;case"markClear":t.onclick=u._onMarkClear;break;case"dataZoom":t.onclick=u._onDataZoom;break;case"dataZoomReset":t.onclick=u._onDataZoomReset;break;case"dataView":if(!this._dataView){var f=g("./dataView");this._dataView=new f(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}t.onclick=u._onDataView;break;case"restore":t.onclick=u._onRestore;break;case"saveAsImage":t.onclick=u._onSaveAsImage;break;default:this._iconList[p].match("Chart")?(t._name=this._iconList[p].replace("Chart",""),t.onclick=u._onMagicType):t.onclick=u._onCustomHandler}"icon"===t.type?t=new y(t):"image"===t.type&&(t=new m(t)),this.shapeList.push(t),this._iconShapeMap[this._iconList[p]]=t,"horizontal"===s.orient?r+=l+h:a+=l+h}},_buildBackground:function(){var t=this.option.toolbox,e=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new s({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-e[3],y:this._itemGroupLocation.y-e[0],width:this._itemGroupLocation.width+e[3]+e[1],height:this._itemGroupLocation.height+e[0]+e[2],brushType:0===t.borderWidth?"fill":"both",color:t.backgroundColor,strokeColor:t.borderColor,lineWidth:t.borderWidth}}))},_getItemGroupLocation:function(){var t=this.option.toolbox,e=this.reformCssArray(this.option.toolbox.padding),i=this._iconList.length,n=t.itemGap,s=t.itemSize,o=0,r=0;"horizontal"===t.orient?(o=(s+n)*i-n,r=s):(r=(s+n)*i-n,o=s);var a,l=this.zr.getWidth();switch(t.x){case"center":a=Math.floor((l-o)/2);break;case"left":a=e[3]+t.borderWidth;break;case"right":a=l-o-e[1]-t.borderWidth;break;default:a=t.x-0,a=isNaN(a)?0:a}var h,c=this.zr.getHeight();switch(t.y){case"top":h=e[0]+t.borderWidth;break;case"bottom":h=c-r-e[2]-t.borderWidth;break;case"center":h=Math.floor((c-r)/2);break;default:h=t.y-0,h=isNaN(h)?0:h}return{x:a,y:h,width:o,height:r}},__onmousemove:function(t){this._marking&&(this._markShape.style.xEnd=l.getX(t.event),this._markShape.style.yEnd=l.getY(t.event),this.zr.addHoverShape(this._markShape)),this._zooming&&(this._zoomShape.style.width=l.getX(t.event)-this._zoomShape.style.x,this._zoomShape.style.height=l.getY(t.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),this.dom.style.cursor="crosshair",l.stop(t.event)),this._zoomStart&&"pointer"!=this.dom.style.cursor&&"move"!=this.dom.style.cursor&&(this.dom.style.cursor="crosshair")},__onmousedown:function(t){if(!t.target){this._zooming=!0;var e=l.getX(t.event),i=l.getY(t.event),n=this.option.dataZoom||{};return this._zoomShape=new s({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:e,y:i,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:n.fillerColor||o.dataZoom.fillerColor,strokeColor:n.handleColor||o.dataZoom.handleColor,brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10)return!(this._zooming=!1);if(this._zooming&&this.component.dataZoom){this._zooming=!1;var t=this.component.dataZoom.rectZoom(this._zoomShape.style);t&&(this._zoomQueue.push({start:t.start,end:t.end,start2:t.start2,end2:t.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame())}return!0},__onclick:function(t){if(!t.target)if(this._marking)this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refreshNextFrame();else if(this._markStart){this._marking=!0;var e=l.getX(t.event),i=l.getY(t.event);this._markShape=new n({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:e,yStart:i,xEnd:e,yEnd:i,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}}),this.zr.addHoverShape(this._markShape)}},__onMark:function(t){var e=t.target;if(this._marking||this._markStart)this._resetMark(),this.zr.refreshNextFrame();else{this._resetZoom(),this.zr.modShape(e.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._markStart=!0;var i=this;setTimeout(function(){i.zr&&i.zr.on(a.EVENT.CLICK,i._onclick)&&i.zr.on(a.EVENT.MOUSEMOVE,i._onmousemove)},10)}return!0},__onMarkUndo:function(){if(this._marking)this._marking=!1;else{var t=this._markShapeList.length;if(1<=t){var e=this._markShapeList[t-1];this.zr.delShape(e.id),this.zr.refreshNextFrame(),this._markShapeList.pop(),1===t&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear))}}return!0},__onMarkClear:function(){this._marking&&(this._marking=!1);var t=this._markShapeList.length;if(0<t){for(;t--;)this.zr.delShape(this._markShapeList.pop().id);this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear),this.zr.refreshNextFrame()}return!0},__onDataZoom:function(t){var e=t.target;if(this._zooming||this._zoomStart)this._resetZoom(),this.zr.refreshNextFrame(),this.dom.style.cursor="default";else{this._resetMark(),this.zr.modShape(e.id,{style:{strokeColor:this._enableColor}}),this.zr.refreshNextFrame(),this._zoomStart=!0;var i=this;setTimeout(function(){i.zr&&i.zr.on(a.EVENT.MOUSEDOWN,i._onmousedown)&&i.zr.on(a.EVENT.MOUSEUP,i._onmouseup)&&i.zr.on(a.EVENT.MOUSEMOVE,i._onmousemove)},10),this.dom.style.cursor="crosshair"}return!0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),0<this._zoomQueue.length?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refreshNextFrame()),!0},_resetMark:function(){this._marking=!1,this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(a.EVENT.CLICK,this._onclick),this.zr.un(a.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1,this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(a.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(a.EVENT.MOUSEUP,this._onmouseup),this.zr.un(a.EVENT.MOUSEMOVE,this._onmousemove))},_iconDisable:function(t){"image"!=t.type?this.zr.modShape(t.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(t.id,{hoverable:!1,clickable:!1,style:{opacity:.3}})},_iconEnable:function(t){"image"!=t.type?this.zr.modShape(t.id,{hoverable:!0,clickable:!0,style:{strokeColor:t.highlightStyle.strokeColor}}):this.zr.modShape(t.id,{hoverable:!0,clickable:!0,style:{opacity:.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(o.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var t,e=this.option.toolbox.feature.saveAsImage,i=e.type||"png";"png"!=i&&"jpeg"!=i&&(i="png"),t=this.myChart.isConnected()?this.myChart.getConnectedDataURL(i):this.zr.toDataURL("image/"+i,this.option.backgroundColor&&"rgba(0,0,0,0)"===this.option.backgroundColor.replace(" ","")?"#fff":this.option.backgroundColor);var n=document.createElement("div");n.id="__echarts_download_wrap__",n.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var s=document.createElement("a");s.href=t,s.setAttribute("download",(e.name?e.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+i),s.innerHTML='<img style="vertical-align:middle" src="'+t+'" title="'+(window.ActiveXObject||"ActiveXObject"in window?"->":e.lang?e.lang[0]:"")+'"/>',n.appendChild(s),document.body.appendChild(n),n=s=null,setTimeout(function(){var t=document.getElementById("__echarts_download_wrap__");t&&(t.onclick=function(){var t=document.getElementById("__echarts_download_wrap__");t.onclick=null,t.innerHTML="",document.body.removeChild(t),t=null},t=null)},500)},__onMagicType:function(t){this._resetMark();var e=t.target._name;return this._magicType[e]||(this._magicType[e]=!0,e===o.CHART_TYPE_LINE?this._magicType[o.CHART_TYPE_BAR]=!1:e===o.CHART_TYPE_BAR&&(this._magicType[o.CHART_TYPE_LINE]=!1),e===o.CHART_TYPE_PIE?this._magicType[o.CHART_TYPE_FUNNEL]=!1:e===o.CHART_TYPE_FUNNEL&&(this._magicType[o.CHART_TYPE_PIE]=!1),e===o.CHART_TYPE_FORCE?this._magicType[o.CHART_TYPE_CHORD]=!1:e===o.CHART_TYPE_CHORD&&(this._magicType[o.CHART_TYPE_FORCE]=!1),e===d?this._magicType[u]=!1:e===u&&(this._magicType[d]=!1),this.messageCenter.dispatch(o.EVENT.MAGIC_TYPE_CHANGED,t.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(t){this._resetMark(),this._magicType=t,!this._isSilence&&this.messageCenter.dispatch(o.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(t){var e=t.target.style.iconType,i=this.option.toolbox.feature[e].onclick;"function"==typeof i&&i.call(this,this.option)},reset:function(t,e){if(e&&this.clear(),this.query(t,"toolbox.show")&&this.query(t,"toolbox.feature.magicType.show")){var i,n,s=t.toolbox.feature.magicType.type,o=s.length;for(this._magicMap={};o--;)this._magicMap[s[o]]=!0;for(o=t.series.length;o--;)i=t.series[o].type,this._magicMap[i]&&((n=t.xAxis instanceof Array?t.xAxis[t.series[o].xAxisIndex||0]:t.xAxis)&&"category"===(n.type||"category")&&(n.__boundaryGap=null==n.boundaryGap||n.boundaryGap),(n=t.yAxis instanceof Array?t.yAxis[t.series[o].yAxisIndex||0]:t.yAxis)&&"category"===n.type&&(n.__boundaryGap=null==n.boundaryGap||n.boundaryGap),t.series[o].__type=i,t.series[o].__itemStyle=c.clone(t.series[o].itemStyle||{})),(this._magicMap[d]||this._magicMap[u])&&(t.series[o].__stack=t.series[o].stack)}for(var r in this._magicType=e?{}:this._magicType||{},this._magicType)if(this._magicType[r]){this.option=t,this.getMagicOption();break}var a=t.dataZoom;if(a&&a.show){var l=null!=a.start&&0<=a.start&&a.start<=100?a.start:0,h=null!=a.end&&0<=a.end&&a.end<=100?a.end:100;h<l&&(l+=h,l-=h=l-h),this._zoomQueue=[{start:l,end:h,start2:0,end2:100}]}else this._zoomQueue=[]},getMagicOption:function(){var t,e;if(this._magicType[o.CHART_TYPE_LINE]||this._magicType[o.CHART_TYPE_BAR]){for(var i=!this._magicType[o.CHART_TYPE_LINE],n=0,s=this.option.series.length;n<s;n++)((e=this.option.series[n].type)==o.CHART_TYPE_LINE||e==o.CHART_TYPE_BAR)&&((t=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[n].xAxisIndex||0]:this.option.xAxis)&&"category"===(t.type||"category")&&(t.boundaryGap=!!i||t.__boundaryGap),(t=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[n].yAxisIndex||0]:this.option.yAxis)&&"category"===t.type&&(t.boundaryGap=!!i||t.__boundaryGap));this._defaultMagic(o.CHART_TYPE_LINE,o.CHART_TYPE_BAR)}if(this._defaultMagic(o.CHART_TYPE_CHORD,o.CHART_TYPE_FORCE),this._defaultMagic(o.CHART_TYPE_PIE,o.CHART_TYPE_FUNNEL),this._magicType[d]||this._magicType[u])for(n=0,s=this.option.series.length;n<s;n++)this._magicType[d]?(this.option.series[n].stack="_ECHARTS_STACK_KENER_2014_",e=d):this._magicType[u]&&(this.option.series[n].stack=null,e=u),this._featureOption[e+"Chart"]&&c.merge(this.option.series[n],this._featureOption[e+"Chart"]||{},!0);return this.option},_defaultMagic:function(t,e){if(this._magicType[t]||this._magicType[e])for(var i=0,n=this.option.series.length;i<n;i++){var s=this.option.series[i].type;(s==t||s==e)&&(this.option.series[i].type=this._magicType[t]?t:e,this.option.series[i].itemStyle=c.clone(this.option.series[i].__itemStyle),s=this.option.series[i].type,this._featureOption[s+"Chart"]&&c.merge(this.option.series[i],this._featureOption[s+"Chart"]||{},!0))}},silence:function(t){this._isSilence=t},resize:function(){this._resetMark(),this.clear(),this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape(),this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&this._dataView.hide()},clear:function(t){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],t||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},onbeforDispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null),this._markShapeList=null},refresh:function(t){t&&(this._resetMark(),this._resetZoom(),t.toolbox=this.reformOption(t.toolbox),this.option=t,this.clear(!0),t.toolbox.show&&this._buildShape(),this.hideDataView())}},c.inherits(t,r),g("../component").define("toolbox",t),t}),define("echarts/component",[],function(){var i={},n={};return i.define=function(t,e){return n[t]=e,i},i.get=function(t){return n[t]},i}),define("echarts/component/title",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(t){function e(t,e,i,n,s){o.call(this,t,e,i,n,s),this.refresh(n)}var o=t("./base"),f=t("zrender/shape/Text"),i=t("zrender/shape/Rectangle"),n=t("../config");n.title={zlevel:0,z:6,show:!0,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var s=t("zrender/tool/util"),d=t("zrender/tool/area"),g=t("zrender/tool/color");return e.prototype={type:n.COMPONENT_TYPE_TITLE,_buildShape:function(){if(this.titleOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var t=0,e=this.shapeList.length;t<e;t++)this.zr.addShape(this.shapeList[t])}},_buildItem:function(){var t=this.titleOption.text,e=this.titleOption.link,i=this.titleOption.target,n=this.titleOption.subtext,s=this.titleOption.sublink,o=this.titleOption.subtarget,r=this.getFont(this.titleOption.textStyle),a=this.getFont(this.titleOption.subtextStyle),l=this._itemGroupLocation.x,h=this._itemGroupLocation.y,c=this._itemGroupLocation.width,d=this._itemGroupLocation.height,u={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:h,color:this.titleOption.textStyle.color,text:t,textFont:r,textBaseline:"top"},highlightStyle:{color:g.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1};e&&(u.hoverable=!0,u.clickable=!0,u.onclick=function(){i&&"self"==i?window.location=e:window.open(e)});var p={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:h+d,color:this.titleOption.subtextStyle.color,text:n,textFont:a,textBaseline:"bottom"},highlightStyle:{color:g.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:!1};switch(s&&(p.hoverable=!0,p.clickable=!0,p.onclick=function(){o&&"self"==o?window.location=s:window.open(s)}),this.titleOption.x){case"center":u.style.x=p.style.x=l+c/2,u.style.textAlign=p.style.textAlign="center";break;case"left":u.style.x=p.style.x=l,u.style.textAlign=p.style.textAlign="left";break;case"right":u.style.x=p.style.x=l+c,u.style.textAlign=p.style.textAlign="right";break;default:l=this.titleOption.x-0,l=isNaN(l)?0:l,u.style.x=p.style.x=l}this.titleOption.textAlign&&(u.style.textAlign=p.style.textAlign=this.titleOption.textAlign),this.shapeList.push(new f(u)),""!==n&&this.shapeList.push(new f(p))},_buildBackground:function(){var t=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new i({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-t[3],y:this._itemGroupLocation.y-t[0],width:this._itemGroupLocation.width+t[3]+t[1],height:this._itemGroupLocation.height+t[0]+t[2],brushType:0===this.titleOption.borderWidth?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var t,e=this.reformCssArray(this.titleOption.padding),i=this.titleOption.text,n=this.titleOption.subtext,s=this.getFont(this.titleOption.textStyle),o=this.getFont(this.titleOption.subtextStyle),r=Math.max(d.getTextWidth(i,s),d.getTextWidth(n,o)),a=d.getTextHeight(i,s)+(""===n?0:this.titleOption.itemGap+d.getTextHeight(n,o)),l=this.zr.getWidth();switch(this.titleOption.x){case"center":t=Math.floor((l-r)/2);break;case"left":t=e[3]+this.titleOption.borderWidth;break;case"right":t=l-r-e[1]-this.titleOption.borderWidth;break;default:t=this.titleOption.x-0,t=isNaN(t)?0:t}var h,c=this.zr.getHeight();switch(this.titleOption.y){case"top":h=e[0]+this.titleOption.borderWidth;break;case"bottom":h=c-a-e[2]-this.titleOption.borderWidth;break;case"center":h=Math.floor((c-a)/2);break;default:h=this.titleOption.y-0,h=isNaN(h)?0:h}return{x:t,y:h,width:r,height:a}},refresh:function(t){t&&(this.option=t,this.option.title=this.reformOption(this.option.title),this.titleOption=this.option.title,this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle),this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)),this.clear(),this._buildShape()}},s.inherits(e,o),t("../component").define("title",e),e}),define("echarts/component/tooltip",["require","./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(t){function e(t,e,i,n,s){r.call(this,t,e,i,n,s),this.dom=s.dom;var o=this;o._onmousemove=function(t){return o.__onmousemove(t)},o._onglobalout=function(t){return o.__onglobalout(t)},this.zr.on(C.EVENT.MOUSEMOVE,o._onmousemove),this.zr.on(C.EVENT.GLOBALOUT,o._onglobalout),o._hide=function(t){return o.__hide(t)},o._tryShow=function(t){return o.__tryShow(t)},o._refixed=function(t){return o.__refixed(t)},o._setContent=function(t,e){return o.__setContent(t,e)},this._tDom=this._tDom||document.createElement("div"),this._tDom.onselectstart=function(){return!1},this._tDom.onmouseover=function(){o._mousein=!0},this._tDom.onmouseout=function(){o._mousein=!1},this._tDom.className="echarts-tooltip",this._tDom.style.position="absolute",this.hasAppend=!1,this._axisLineShape&&this.zr.delShape(this._axisLineShape.id),this._axisLineShape=new l({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisLineShape),this.zr.addShape(this._axisLineShape),this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id),this._axisShadowShape=new l({zlevel:this.getZlevelBase(),z:1,invisible:!0,hoverable:!1}),this.shapeList.push(this._axisShadowShape),this.zr.addShape(this._axisShadowShape),this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id),this._axisCrossShape=new a({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:!0,hoverable:!1}),this.shapeList.push(this._axisCrossShape),this.zr.addShape(this._axisCrossShape),this.showing=!1,this.refresh(n)}var r=t("./base"),a=t("../util/shape/Cross"),l=t("zrender/shape/Line"),h=new(t("zrender/shape/Rectangle"))({}),x=t("../config");x.tooltip={zlevel:1,z:8,show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var w=t("../util/ecData"),C=t("zrender/config"),k=t("zrender/tool/event"),c=t("zrender/tool/area"),o=t("zrender/tool/color"),d=t("zrender/tool/util"),s=t("zrender/shape/Base");return e.prototype={type:x.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(t){if(!t)return"";var e=[];if(t.transitionDuration){var i="left "+t.transitionDuration+"s,top "+t.transitionDuration+"s";e.push("transition:"+i),e.push("-moz-transition:"+i),e.push("-webkit-transition:"+i),e.push("-o-transition:"+i)}t.backgroundColor&&(e.push("background-Color:"+o.toHex(t.backgroundColor)),e.push("filter:alpha(opacity=70)"),e.push("background-Color:"+t.backgroundColor)),null!=t.borderWidth&&e.push("border-width:"+t.borderWidth+"px"),null!=t.borderColor&&e.push("border-color:"+t.borderColor),null!=t.borderRadius&&(e.push("border-radius:"+t.borderRadius+"px"),e.push("-moz-border-radius:"+t.borderRadius+"px"),e.push("-webkit-border-radius:"+t.borderRadius+"px"),e.push("-o-border-radius:"+t.borderRadius+"px"));var n=t.textStyle;n&&(n.color&&e.push("color:"+n.color),n.decoration&&e.push("text-decoration:"+n.decoration),n.align&&e.push("text-align:"+n.align),n.fontFamily&&e.push("font-family:"+n.fontFamily),n.fontSize&&e.push("font-size:"+n.fontSize+"px"),n.fontSize&&e.push("line-height:"+Math.round(3*n.fontSize/2)+"px"),n.fontStyle&&e.push("font-style:"+n.fontStyle),n.fontWeight&&e.push("font-weight:"+n.fontWeight));var s=t.padding;return null!=s&&(s=this.reformCssArray(s),e.push("padding:"+s[0]+"px "+s[1]+"px "+s[2]+"px "+s[3]+"px")),e.join(";")+";"},__hide:function(){this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,this._tDom&&(this._tDom.style.display="none");var t=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),t=!0),this._axisShadowShape.invisible||(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),t=!0),this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),t=!0),this._lastTipShape&&0<this._lastTipShape.tipShape.length&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2),t&&this.zr.refreshNextFrame(),this.showing=!1},_show:function(t,e,i,n){var s=this._tDom.offsetHeight,o=this._tDom.offsetWidth;t&&("function"==typeof t&&(t=t([e,i])),t instanceof Array&&(e=t[0],i=t[1])),e+o>this._zrWidth&&(e-=o+40),i+s>this._zrHeight&&(i-=s-20),i<20&&(i=0),this._tDom.style.cssText=this._gCssText+this._defaultCssText+(n||"")+"left:"+e+"px;top:"+i+"px;",(s<10||o<10)&&setTimeout(this._refixed,20),this.showing=!0},__refixed:function(){if(this._tDom){var t="",e=this._tDom.offsetHeight,i=this._tDom.offsetWidth;this._tDom.offsetLeft+i>this._zrWidth&&(t+="left:"+(this._zrWidth-i-20)+"px;"),this._tDom.offsetTop+e>this._zrHeight&&(t+="top:"+(this._zrHeight-e-10)+"px;"),""!==t&&(this._tDom.style.cssText+=t)}},__tryShow:function(){var t;if(this._curTarget){if("island"===this._curTarget._type&&this.option.tooltip.show)return void this._showItemTrigger();var e=w.get(this._curTarget,"series"),i=w.get(this._curTarget,"data");t=this.deepQuery([i,e,this.option],"tooltip.show"),null!=e&&null!=i&&t?"axis"===this.deepQuery([i,e,this.option],"tooltip.trigger")?this._showAxisTrigger(e.xAxisIndex,e.yAxisIndex,w.get(this._curTarget,"dataIndex")):this._showItemTrigger():(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}else this._findPolarTrigger()||this._findAxisTrigger()},_findAxisTrigger:function(){if(this.component.xAxis&&this.component.yAxis){for(var t,e,i=this.option.series,n=0,s=i.length;n<s;n++)if("axis"===this.deepQuery([i[n],this.option],"tooltip.trigger"))return t=i[n].xAxisIndex||0,e=i[n].yAxisIndex||0,this.component.xAxis.getAxis(t)&&this.component.xAxis.getAxis(t).type===x.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(t,e,this._getNearestDataIndex("x",this.component.xAxis.getAxis(t))):this.component.yAxis.getAxis(e)&&this.component.yAxis.getAxis(e).type===x.COMPONENT_TYPE_AXIS_CATEGORY?void this._showAxisTrigger(t,e,this._getNearestDataIndex("y",this.component.yAxis.getAxis(e))):void this._showAxisTrigger(t,e,-1);"cross"===this.option.tooltip.axisPointer.type&&this._showAxisTrigger(-1,-1,-1)}else this._hidingTicket=setTimeout(this._hide,this._hideDelay)},_findPolarTrigger:function(){if(!this.component.polar)return!1;var t,e=k.getX(this._event),i=k.getY(this._event),n=this.component.polar.getNearestIndex([e,i]);return-1!=(n=n?(t=n.valueIndex,n.polarIndex):-1)&&this._showPolarTrigger(n,t)},_getNearestDataIndex:function(t,e){var i=-1,n=k.getX(this._event),s=k.getY(this._event);if("x"===t){for(var o,r,a=this.component.grid.getXend(),l=e.getCoordByIndex(i);l<a&&(r=l)<=n;)o=l,l=e.getCoordByIndex(++i);return i<=0?i=0:n-o<=r-n?i-=1:null==e.getNameByIndex(i)&&(i-=1),i}var h,c,d=this.component.grid.getY();for(l=e.getCoordByIndex(i);d<l&&s<=(h=l);)c=l,l=e.getCoordByIndex(++i);return i<=0?i=0:c-s<=s-h?i-=1:null==e.getNameByIndex(i)&&(i-=1),i},_showAxisTrigger:function(t,e,i){if(!this._event.connectTrigger&&this.messageCenter.dispatch(x.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart),null==this.component.xAxis||null==this.component.yAxis||null==t||null==e)return clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),void(this._hidingTicket=setTimeout(this._hide,this._hideDelay));var n,s,o,r,a=this.option.series,l=[],h=[],c="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show)return;s=this.option.tooltip.formatter,o=this.option.tooltip.position}var d,u,p=-1!=t&&this.component.xAxis.getAxis(t).type===x.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":-1!=e&&this.component.yAxis.getAxis(e).type===x.COMPONENT_TYPE_AXIS_CATEGORY&&"yAxis";if(p){var f,g="xAxis"==p?t:e;n=this.component[p].getAxis(g);for(var m=0,y=a.length;m<y;m++)this._isSelected(a[m].name)&&a[m][p+"Index"]===g&&"axis"===this.deepQuery([a[m],this.option],"tooltip.trigger")&&(r=this.query(a[m],"tooltip.showContent")||r,s=this.query(a[m],"tooltip.formatter")||s,o=this.query(a[m],"tooltip.position")||o,c+=this._style(this.query(a[m],"tooltip")),null!=a[m].stack&&"xAxis"==p?(l.unshift(a[m]),h.unshift(m)):(l.push(a[m]),h.push(m)));this.messageCenter.dispatch(x.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:h,dataIndex:i},this.myChart),f="xAxis"==p?(d=this.subPixelOptimize(n.getCoordByIndex(i),this._axisLineWidth),u=k.getY(this._event),[d,this.component.grid.getY(),d,this.component.grid.getYend()]):(d=k.getX(this._event),u=this.subPixelOptimize(n.getCoordByIndex(i),this._axisLineWidth),[this.component.grid.getX(),u,this.component.grid.getXend(),u]),this._styleAxisPointer(l,f[0],f[1],f[2],f[3],n.getGap(),d,u)}else d=k.getX(this._event),u=k.getY(this._event),this._styleAxisPointer(a,this.component.grid.getX(),u,this.component.grid.getXend(),u,0,d,u),0<=i?this._showItemTrigger(!0):(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display="none");if(0<l.length){var v,_;if(this._lastItemTriggerId=-1,this._lastDataIndex!=i||this._lastSeriesIndex!=h[0])if(this._lastDataIndex=i,this._lastSeriesIndex=h[0],"function"==typeof s){var b=[];for(m=0,y=l.length;m<y;m++)v=l[m].data[i],_=this.getDataFromOption(v,"-"),b.push({seriesIndex:h[m],seriesName:l[m].name||"",series:l[m],dataIndex:i,data:v,name:n.getNameByIndex(i),value:_,0:l[m].name||"",1:n.getNameByIndex(i),2:_,3:v});this._curTicket="axis:"+i,this._tDom.innerHTML=s.call(this.myChart,b,this._curTicket,this._setContent)}else if("string"==typeof s){this._curTicket=NaN,s=s.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(m=0,y=l.length;m<y;m++)s=(s=s.replace("{a"+m+"}",this._encodeHTML(l[m].name||""))).replace("{b"+m+"}",this._encodeHTML(n.getNameByIndex(i))),v=l[m].data[i],v=this.getDataFromOption(v,"-"),s=s.replace("{c"+m+"}",v instanceof Array?v:this.numAddCommas(v));this._tDom.innerHTML=s}else{this._curTicket=NaN,s=this._encodeHTML(n.getNameByIndex(i));for(m=0,y=l.length;m<y;m++)s+="<br/>"+this._encodeHTML(l[m].name||"")+" : ",v=l[m].data[i],s+=(v=this.getDataFromOption(v,"-"))instanceof Array?v:this.numAddCommas(v);this._tDom.innerHTML=s}if(!1===r||!this.option.tooltip.showContent)return;this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(o,d+10,u+10,c)}},_showPolarTrigger:function(t,e){if(null==this.component.polar||null==t||null==e||e<0)return!1;var i,n,s,o=this.option.series,r=[],a=[],l="";if("axis"===this.option.tooltip.trigger){if(!this.option.tooltip.show)return!1;i=this.option.tooltip.formatter,n=this.option.tooltip.position}for(var h=this.option.polar[t].indicator[e].text,c=0,d=o.length;c<d;c++)this._isSelected(o[c].name)&&o[c].polarIndex===t&&"axis"===this.deepQuery([o[c],this.option],"tooltip.trigger")&&(s=this.query(o[c],"tooltip.showContent")||s,i=this.query(o[c],"tooltip.formatter")||i,n=this.query(o[c],"tooltip.position")||n,l+=this._style(this.query(o[c],"tooltip")),r.push(o[c]),a.push(c));if(0<r.length){var u,p,f,g=[];for(c=0,d=r.length;c<d;c++)for(var m=0,y=(u=r[c].data).length;m<y;m++)p=u[m],this._isSelected(p.name)&&(p=null!=p?p:{name:"",value:{dataIndex:"-"}},f=this.getDataFromOption(p.value[e]),g.push({seriesIndex:a[c],seriesName:r[c].name||"",series:r[c],dataIndex:e,data:p,name:p.name,indicator:h,value:f,0:r[c].name||"",1:p.name,2:f,3:h}));if(g.length<=0)return;if(this._lastItemTriggerId=-1,this._lastDataIndex!=e||this._lastSeriesIndex!=a[0])if(this._lastDataIndex=e,this._lastSeriesIndex=a[0],"function"==typeof i)this._curTicket="axis:"+e,this._tDom.innerHTML=i.call(this.myChart,g,this._curTicket,this._setContent);else if("string"==typeof i){i=i.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(c=0,d=g.length;c<d;c++)i=(i=(i=(i=i.replace("{a"+c+"}",this._encodeHTML(g[c].seriesName))).replace("{b"+c+"}",this._encodeHTML(g[c].name))).replace("{c"+c+"}",this.numAddCommas(g[c].value))).replace("{d"+c+"}",this._encodeHTML(g[c].indicator));this._tDom.innerHTML=i}else{i=this._encodeHTML(g[0].name)+"<br/>"+this._encodeHTML(g[0].indicator)+" : "+this.numAddCommas(g[0].value);for(c=1,d=g.length;c<d;c++)i+="<br/>"+this._encodeHTML(g[c].name)+"<br/>",i+=this._encodeHTML(g[c].indicator)+" : "+this.numAddCommas(g[c].value);this._tDom.innerHTML=i}if(!1===s||!this.option.tooltip.showContent)return;return this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(n,k.getX(this._event),k.getY(this._event),l),!0}},_showItemTrigger:function(t){if(this._curTarget){var e,i,n,s=w.get(this._curTarget,"series"),o=w.get(this._curTarget,"seriesIndex"),r=w.get(this._curTarget,"data"),a=w.get(this._curTarget,"dataIndex"),l=w.get(this._curTarget,"name"),h=w.get(this._curTarget,"value"),c=w.get(this._curTarget,"special"),d=w.get(this._curTarget,"special2"),u=[r,s,this.option],p="";if("island"!=this._curTarget._type){var f=t?"axis":"item";this.option.tooltip.trigger===f&&(e=this.option.tooltip.formatter,i=this.option.tooltip.position),this.query(s,"tooltip.trigger")===f&&(n=this.query(s,"tooltip.showContent")||n,e=this.query(s,"tooltip.formatter")||e,i=this.query(s,"tooltip.position")||i,p+=this._style(this.query(s,"tooltip"))),n=this.query(r,"tooltip.showContent")||n,e=this.query(r,"tooltip.formatter")||e,i=this.query(r,"tooltip.position")||i,p+=this._style(this.query(r,"tooltip"))}else this._lastItemTriggerId=NaN,n=this.deepQuery(u,"tooltip.showContent"),e=this.deepQuery(u,"tooltip.islandFormatter"),i=this.deepQuery(u,"tooltip.islandPosition");this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId!==this._curTarget.id&&(this._lastItemTriggerId=this._curTarget.id,this._tDom.innerHTML="function"==typeof e?(this._curTicket=(s.name||"")+":"+a,e.call(this.myChart,{seriesIndex:o,seriesName:s.name||"",series:s,dataIndex:a,data:r,name:l,value:h,percent:c,indicator:c,value2:d,indicator2:d,0:s.name||"",1:l,2:h,3:c,4:d,5:r,6:o,7:a},this._curTicket,this._setContent)):"string"==typeof e?(this._curTicket=NaN,e=(e=(e=(e=e.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}")).replace("{a0}",this._encodeHTML(s.name||"")).replace("{b0}",this._encodeHTML(l)).replace("{c0}",h instanceof Array?h:this.numAddCommas(h))).replace("{d}","{d0}").replace("{d0}",c||"")).replace("{e}","{e0}").replace("{e0}",w.get(this._curTarget,"special2")||"")):(this._curTicket=NaN,s.type===x.CHART_TYPE_RADAR&&c?this._itemFormatter.radar.call(this,s,l,h,c):s.type===x.CHART_TYPE_EVENTRIVER?this._itemFormatter.eventRiver.call(this,s,l,h,r):(null!=s.name?this._encodeHTML(s.name)+"<br/>":"")+(""===l?"":this._encodeHTML(l)+" : ")+(h instanceof Array?h:this.numAddCommas(h))));var g=k.getX(this._event),m=k.getY(this._event);this.deepQuery(u,"tooltip.axisPointer.show")&&this.component.grid?this._styleAxisPointer([s],this.component.grid.getX(),m,this.component.grid.getXend(),m,0,g,m):this._hide(),!1!==n&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(i,g+20,m-20,p))}},_itemFormatter:{radar:function(t,e,i,n){var s="";s+=this._encodeHTML(""===e?t.name||"":e),s+=""===s?"":"<br />";for(var o=0;o<n.length;o++)s+=this._encodeHTML(n[o].text)+" : "+this.numAddCommas(i[o])+"<br />";return s},chord:function(t,e,i,n,s){if(null==s)return this._encodeHTML(e)+" ("+this.numAddCommas(i)+")";var o=this._encodeHTML(e),r=this._encodeHTML(n);return(null!=t.name?this._encodeHTML(t.name)+"<br/>":"")+o+" -> "+r+" ("+this.numAddCommas(i)+")<br />"+r+" -> "+o+" ("+this.numAddCommas(s)+")"},eventRiver:function(t,e,i,n){var s="";s+=this._encodeHTML(""===t.name?"":t.name+" : "),s+=this._encodeHTML(e),s+=""===s?"":"<br />";for(var o=0,r=(n=n.evolution).length;o<r;o++)s+='<div style="padding-top:5px;">',n[o].detail&&(n[o].detail.img&&(s+='<img src="'+n[o].detail.img+'" style="float:left;width:40px;height:40px;">'),s+='<div style="margin-left:45px;">'+n[o].time+"<br/>",s+='<a href="'+n[o].detail.link+'" target="_blank">',s+=n[o].detail.text+"</a></div>",s+="</div>");return s}},_styleAxisPointer:function(t,e,i,n,s,o,r,a){if(0<t.length){var l,h,c=this.option.tooltip.axisPointer,d=c.type,u={line:{},cross:{},shadow:{}};for(var p in u)u[p].color=c[p+"Style"].color,u[p].width=c[p+"Style"].width,u[p].type=c[p+"Style"].type;for(var f=0,g=t.length;f<g;f++)l=t[f],d=(h=this.query(l,"tooltip.axisPointer.type"))||d,h&&(u[h].color=this.query(l,"tooltip.axisPointer."+h+"Style.color")||u[h].color,u[h].width=this.query(l,"tooltip.axisPointer."+h+"Style.width")||u[h].width,u[h].type=this.query(l,"tooltip.axisPointer."+h+"Style.type")||u[h].type);if("line"===d){var m=u.line.width,y=e==n;this._axisLineShape.style={xStart:y?this.subPixelOptimize(e,m):e,yStart:y?i:this.subPixelOptimize(i,m),xEnd:y?this.subPixelOptimize(n,m):n,yEnd:y?s:this.subPixelOptimize(s,m),strokeColor:u.line.color,lineWidth:m,lineType:u.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id)}else if("cross"===d){var v=u.cross.width;this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(r,v),y:this.subPixelOptimize(a,v),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(r)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(a)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:u.cross.color,lineWidth:v,lineType:u.cross.type},100<this.component.grid.getXend()-r?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=r+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=r-10),50<a-this.component.grid.getY()?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=a-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=a+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id)}else"shadow"===d&&((null==u.shadow.width||"auto"===u.shadow.width||isNaN(u.shadow.width))&&(u.shadow.width=o),e===n?Math.abs(this.component.grid.getX()-e)<2?(u.shadow.width/=2,e=n+=u.shadow.width/2):Math.abs(this.component.grid.getXend()-e)<2&&(u.shadow.width/=2,e=n-=u.shadow.width/2):i===s&&(Math.abs(this.component.grid.getY()-i)<2?(u.shadow.width/=2,i=s+=u.shadow.width/2):Math.abs(this.component.grid.getYend()-i)<2&&(u.shadow.width/=2,i=s-=u.shadow.width/2)),this._axisShadowShape.style={xStart:e,yStart:i,xEnd:n,yEnd:s,strokeColor:u.shadow.color,lineWidth:u.shadow.width},this._axisShadowShape.invisible=!1,this.zr.modShape(this._axisShadowShape.id));this.zr.refreshNextFrame()}},__onmousemove:function(t){if(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),!this._mousein||!this._enterable){var e=t.target,i=k.getX(t.event),n=k.getY(t.event);if(e){var s;if(this._curTarget=e,this._event=t.event,this._event.zrenderX=i,this._event.zrenderY=n,this._needAxisTrigger&&this.component.polar&&-1!=(s=this.component.polar.isInside([i,n])))for(var o=this.option.series,r=0,a=o.length;r<a;r++)if(o[r].polarIndex===s&&"axis"===this.deepQuery([o[r],this.option],"tooltip.trigger")){this._curTarget=null;break}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else this._curTarget=!1,this._event=t.event,this._event.zrenderX=i,this._event.zrenderY=n,this._needAxisTrigger&&this.component.grid&&c.isInside(h,this.component.grid.getArea(),i,n)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&-1!=this.component.polar.isInside([i,n])?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(x.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=setTimeout(this._hide,this._hideDelay))}},__onglobalout:function(){clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(t,e){this._tDom&&(t===this._curTicket&&(this._tDom.innerHTML=e),setTimeout(this._refixed,20))},ontooltipHover:function(t,e){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=t.dataIndex){this._lastTipShape&&0<this._lastTipShape.tipShape.length&&(this.zr.delShape(this._lastTipShape.tipShape),this.shapeList.length=2);for(var i=0,n=e.length;i<n;i++)e[i].zlevel=this.getZlevelBase(),e[i].z=this.getZBase(),e[i].style=s.prototype.getHighlightStyle(e[i].style,e[i].highlightStyle),e[i].draggable=!1,e[i].hoverable=!1,e[i].clickable=!1,e[i].ondragend=null,e[i].ondragover=null,e[i].ondrop=null,this.shapeList.push(e[i]),this.zr.addShape(e[i]);this._lastTipShape={dataIndex:t.dataIndex,tipShape:e}}},ondragend:function(){this._hide()},onlegendSelected:function(t){this._selectedMap=t.selected},_setSelectedMap:function(){this._selectedMap=this.component.legend?d.clone(this.component.legend.getSelectedMap()):{}},_isSelected:function(t){return null==this._selectedMap[t]||this._selectedMap[t]},showTip:function(t){if(t){var e,i=this.option.series;if(null!=t.seriesIndex)e=t.seriesIndex;else for(var n=t.seriesName,s=0,o=i.length;s<o;s++)if(i[s].name===n){e=s;break}var r=i[e];if(null!=r){var a=this.myChart.chart[r.type],l="axis"===this.deepQuery([r,this.option],"tooltip.trigger");if(a)if(l){var h=t.dataIndex;switch(a.type){case x.CHART_TYPE_LINE:case x.CHART_TYPE_BAR:case x.CHART_TYPE_K:if(null==this.component.xAxis||null==this.component.yAxis||r.data.length<=h)return;var c=r.xAxisIndex||0,d=r.yAxisIndex||0;this._event=this.component.xAxis.getAxis(c).type===x.COMPONENT_TYPE_AXIS_CATEGORY?{zrenderX:this.component.xAxis.getAxis(c).getCoordByIndex(h),zrenderY:this.component.grid.getY()+(this.component.grid.getYend()-this.component.grid.getY())/4}:{zrenderX:this.component.grid.getX()+(this.component.grid.getXend()-this.component.grid.getX())/4,zrenderY:this.component.yAxis.getAxis(d).getCoordByIndex(h)},this._showAxisTrigger(c,d,h);break;case x.CHART_TYPE_RADAR:if(null==this.component.polar||r.data[0].value.length<=h)return;var u=r.polarIndex||0,p=this.component.polar.getVector(u,h,"max");this._event={zrenderX:p[0],zrenderY:p[1]},this._showPolarTrigger(u,h)}}else{var f,g,m=a.shapeList;switch(a.type){case x.CHART_TYPE_LINE:case x.CHART_TYPE_BAR:case x.CHART_TYPE_K:case x.CHART_TYPE_SCATTER:for(h=t.dataIndex,s=0,o=m.length;s<o;s++)if(null==m[s]._mark&&w.get(m[s],"seriesIndex")==e&&w.get(m[s],"dataIndex")==h){this._curTarget=m[s],f=m[s].style.x,g=a.type!=x.CHART_TYPE_K?m[s].style.y:m[s].style.y[0];break}break;case x.CHART_TYPE_RADAR:for(h=t.dataIndex,s=0,o=m.length;s<o;s++)if("polygon"===m[s].type&&w.get(m[s],"seriesIndex")==e&&w.get(m[s],"dataIndex")==h){this._curTarget=m[s],f=(p=this.component.polar.getCenter(r.polarIndex||0))[0],g=p[1];break}break;case x.CHART_TYPE_PIE:var y=t.name;for(s=0,o=m.length;s<o;s++)if("sector"===m[s].type&&w.get(m[s],"seriesIndex")==e&&w.get(m[s],"name")==y){this._curTarget=m[s];var v=((b=this._curTarget.style).startAngle+b.endAngle)/2*Math.PI/180;f=this._curTarget.style.x+Math.cos(v)*b.r/1.5,g=this._curTarget.style.y-Math.sin(v)*b.r/1.5;break}break;case x.CHART_TYPE_MAP:y=t.name;var _=r.mapType;for(s=0,o=m.length;s<o;s++)if("text"===m[s].type&&m[s]._mapType===_&&m[s].style._name===y){this._curTarget=m[s],f=this._curTarget.style.x+this._curTarget.position[0],g=this._curTarget.style.y+this._curTarget.position[1];break}break;case x.CHART_TYPE_CHORD:for(y=t.name,s=0,o=m.length;s<o;s++)if("sector"===m[s].type&&w.get(m[s],"name")==y){this._curTarget=m[s];var b;v=((b=this._curTarget.style).startAngle+b.endAngle)/2*Math.PI/180;return f=this._curTarget.style.x+Math.cos(v)*(b.r-2),g=this._curTarget.style.y-Math.sin(v)*(b.r-2),void this.zr.trigger(C.EVENT.MOUSEMOVE,{zrenderX:f,zrenderY:g})}break;case x.CHART_TYPE_FORCE:for(y=t.name,s=0,o=m.length;s<o;s++)if("circle"===m[s].type&&w.get(m[s],"name")==y){this._curTarget=m[s],f=this._curTarget.position[0],g=this._curTarget.position[1];break}}null!=f&&null!=g&&(this._event={zrenderX:f,zrenderY:g},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}}},hideTip:function(){this._hide()},refresh:function(t){if(this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),this._lastTipShape&&0<this._lastTipShape.tipShape.length&&this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2,this._lastDataIndex=-1,this._lastSeriesIndex=-1,this._lastItemTriggerId=-1,t){this.option=t,this.option.tooltip=this.reformOption(this.option.tooltip),this.option.tooltip.textStyle=d.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle),this._needAxisTrigger=!1,"axis"===this.option.tooltip.trigger&&(this._needAxisTrigger=!0);for(var e=this.option.series,i=0,n=e.length;i<n;i++)if("axis"===this.query(e[i],"tooltip.trigger")){this._needAxisTrigger=!0;break}this._showDelay=this.option.tooltip.showDelay,this._hideDelay=this.option.tooltip.hideDelay,this._defaultCssText=this._style(this.option.tooltip),this._setSelectedMap(),this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width,this._enterable=this.option.tooltip.enterable}if(this.showing){var s=this;setTimeout(function(){s.zr.trigger(C.EVENT.MOUSEMOVE,s.zr.handler._event)},50)}},onbeforDispose:function(){this._lastTipShape&&0<this._lastTipShape.tipShape.length&&this.zr.delShape(this._lastTipShape.tipShape),clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this.zr.un(C.EVENT.MOUSEMOVE,this._onmousemove),this.zr.un(C.EVENT.GLOBALOUT,this._onglobalout),this.hasAppend&&this.dom.firstChild&&this.dom.firstChild.removeChild(this._tDom),this._tDom=null},_encodeHTML:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},d.inherits(e,r),t("../component").define("tooltip",e),e}),define("echarts/component/legend",["require","./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(t){function e(t,e,i,n,s){if(this.query(n,"legend.data")){r.call(this,t,e,i,n,s);var o=this;o._legendSelected=function(t){o.__legendSelected(t)},o._dispatchHoverLink=function(t){return o.__dispatchHoverLink(t)},this._colorIndex=0,this._colorMap={},this._selectedMap={},this._hasDataMap={},this.refresh(n)}else console.error("option.legend.data has not been defined.")}var r=t("./base"),_=t("zrender/shape/Text"),i=t("zrender/shape/Rectangle"),a=t("zrender/shape/Sector"),b=t("../util/shape/Icon"),l=t("../util/shape/Candle"),c=t("../config");c.legend={zlevel:0,z:4,show:!0,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0};var x=t("zrender/tool/util"),w=t("zrender/tool/area");e.prototype={type:c.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(this.legendOption.show){this._itemGroupLocation=this._getItemGroupLocation(),this._buildBackground(),this._buildItem();for(var t=0,e=this.shapeList.length;t<e;t++)this.zr.addShape(this.shapeList[t])}},_buildItem:function(){var t,e,i,n,s,o,r,a,l=this.legendOption.data,h=l.length,c=this.legendOption.textStyle,d=this.zr.getWidth(),u=this.zr.getHeight(),p=this._itemGroupLocation.x,f=this._itemGroupLocation.y,g=this.legendOption.itemWidth,m=this.legendOption.itemHeight,y=this.legendOption.itemGap;"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(p=this._itemGroupLocation.x+this._itemGroupLocation.width-g);for(var v=0;v<h;v++)s=x.merge(l[v].textStyle||{},c),o=this.getFont(s),t=this._getName(l[v]),r=this._getFormatterName(t),""!==t?(e=l[v].icon||this._getSomethingByName(t).type,a=this.getColor(t),"horizontal"===this.legendOption.orient?d-p<200&&g+5+w.getTextWidth(r,o)+(v===h-1||""===l[v+1]?0:y)>=d-p&&(p=this._itemGroupLocation.x,f+=m+y):u-f<200&&m+(v===h-1||""===l[v+1]?0:y)>=u-f&&("right"===this.legendOption.x?p-=this._itemGroupLocation.maxWidth+y:p+=this._itemGroupLocation.maxWidth+y,f=this._itemGroupLocation.y),(i=this._getItemShapeByType(p,f,g,m,this._selectedMap[t]&&this._hasDataMap[t]?a:"#ccc",e,a))._name=t,i=new b(i),n={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:p+g+5,y:f+m/2,color:this._selectedMap[t]?"auto"===s.color?a:s.color:"#ccc",text:r,textFont:o,textBaseline:"middle"},highlightStyle:{color:a,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},"vertical"===this.legendOption.orient&&"right"===this.legendOption.x&&(n.style.x-=g+10,n.style.textAlign="right"),n._name=t,n=new _(n),this.legendOption.selectedMode&&(i.onclick=n.onclick=this._legendSelected,i.onmouseover=n.onmouseover=this._dispatchHoverLink,i.hoverConnect=n.id,n.hoverConnect=i.id),this.shapeList.push(i),this.shapeList.push(n),"horizontal"===this.legendOption.orient?p+=g+5+w.getTextWidth(r,o)+y:f+=m+y):"horizontal"===this.legendOption.orient?(p=this._itemGroupLocation.x,f+=m+y):("right"===this.legendOption.x?p-=this._itemGroupLocation.maxWidth+y:p+=this._itemGroupLocation.maxWidth+y,f=this._itemGroupLocation.y);"horizontal"===this.legendOption.orient&&"center"===this.legendOption.x&&f!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(t){return void 0!==t.name?t.name:t},_getFormatterName:function(t){var e=this.legendOption.formatter;return"function"==typeof e?e.call(this.myChart,t):"string"==typeof e?e.replace("{name}",t):t},_getFormatterNameFromData:function(t){var e=this._getName(t);return this._getFormatterName(e)},_mLineOptimize:function(){for(var t=[],e=this._itemGroupLocation.x,i=2,n=this.shapeList.length;i<n;i++)this.shapeList[i].style.x===e?t.push((this._itemGroupLocation.width-(this.shapeList[i-1].style.x+w.getTextWidth(this.shapeList[i-1].style.text,this.shapeList[i-1].style.textFont)-e))/2):i===n-1&&t.push((this._itemGroupLocation.width-(this.shapeList[i].style.x+w.getTextWidth(this.shapeList[i].style.text,this.shapeList[i].style.textFont)-e))/2);var s=-1;for(i=1,n=this.shapeList.length;i<n;i++)this.shapeList[i].style.x===e&&s++,0!==t[s]&&(this.shapeList[i].style.x+=t[s])},_buildBackground:function(){var t=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new i({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._itemGroupLocation.x-t[3],y:this._itemGroupLocation.y-t[0],width:this._itemGroupLocation.width+t[3]+t[1],height:this._itemGroupLocation.height+t[0]+t[2],brushType:0===this.legendOption.borderWidth?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var t,e,i=this.legendOption.data,n=i.length,s=this.legendOption.itemGap,o=this.legendOption.itemWidth+5,r=this.legendOption.itemHeight,a=this.legendOption.textStyle,l=this.getFont(a),h=0,c=0,d=this.reformCssArray(this.legendOption.padding),u=this.zr.getWidth()-d[1]-d[3],p=this.zr.getHeight()-d[0]-d[2],f=0,g=0;if("horizontal"===this.legendOption.orient){c=r;for(var m=0;m<n;m++)if(""!==this._getName(i[m])){var y=w.getTextWidth(this._getFormatterNameFromData(i[m]),i[m].textStyle?this.getFont(x.merge(i[m].textStyle||{},a)):l);u<f+o+y+s?(f-=s,h=Math.max(h,f),c+=r+s,f=0):(f+=o+y+s,h=Math.max(h,f-s))}else f-=s,h=Math.max(h,f),c+=r+s,f=0}else{for(m=0;m<n;m++)g=Math.max(g,w.getTextWidth(this._getFormatterNameFromData(i[m]),i[m].textStyle?this.getFont(x.merge(i[m].textStyle||{},a)):l));h=g+=o;for(m=0;m<n;m++)""!==this._getName(i[m])?p<f+r+s?(h+=g+s,f-=s,c=Math.max(c,f),f=0):(f+=r+s,c=Math.max(c,f-s)):(h+=g+s,f-=s,c=Math.max(c,f),f=0)}switch(u=this.zr.getWidth(),p=this.zr.getHeight(),this.legendOption.x){case"center":t=Math.floor((u-h)/2);break;case"left":t=d[3]+this.legendOption.borderWidth;break;case"right":t=u-h-d[1]-d[3]-2*this.legendOption.borderWidth;break;default:t=this.parsePercent(this.legendOption.x,u)}switch(this.legendOption.y){case"top":e=d[0]+this.legendOption.borderWidth;break;case"bottom":e=p-c-d[0]-d[2]-2*this.legendOption.borderWidth;break;case"center":e=Math.floor((p-c)/2);break;default:e=this.parsePercent(this.legendOption.y,p)}return{x:t,y:e,width:h,height:c,maxWidth:g}},_getSomethingByName:function(t){for(var e,i=this.option.series,n=0,s=i.length;n<s;n++){if(i[n].name===t)return{type:i[n].type,series:i[n],seriesIndex:n,data:null,dataIndex:-1};if(i[n].type===c.CHART_TYPE_PIE||i[n].type===c.CHART_TYPE_RADAR||i[n].type===c.CHART_TYPE_CHORD||i[n].type===c.CHART_TYPE_FORCE||i[n].type===c.CHART_TYPE_FUNNEL)for(var o=0,r=(e=i[n].categories||i[n].data||i[n].nodes).length;o<r;o++)if(e[o].name===t)return{type:i[n].type,series:i[n],seriesIndex:n,data:e[o],dataIndex:o}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(t,e,i,n,s,o,r){var a="#ccc"===s?r:s,l={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+o,x:t,y:e,width:i,height:n,color:s,strokeColor:s,lineWidth:2},highlightStyle:{color:a,strokeColor:a,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};if(o.match("image")){var h=o.replace(new RegExp("^image:\\/\\/"),"");o="image"}switch(o){case"line":l.style.brushType="stroke",l.highlightStyle.lineWidth=3;break;case"radar":case"scatter":l.highlightStyle.lineWidth=3;break;case"k":l.style.brushType="both",l.highlightStyle.lineWidth=3,l.highlightStyle.color=l.style.color=this.deepQuery([this.ecTheme,c],"k.itemStyle.normal.color")||"#fff",l.style.strokeColor="#ccc"!=s?this.deepQuery([this.ecTheme,c],"k.itemStyle.normal.lineStyle.color")||"#ff3200":s;break;case"image":l.style.iconType="image",l.style.image=h,"#ccc"===s&&(l.style.opacity=.5)}return l},__legendSelected:function(t){var e=t.target._name;if("single"===this.legendOption.selectedMode)for(var i in this._selectedMap)this._selectedMap[i]=!1;this._selectedMap[e]=!this._selectedMap[e],this.messageCenter.dispatch(c.EVENT.LEGEND_SELECTED,t.event,{selected:this._selectedMap,target:e},this.myChart)},__dispatchHoverLink:function(t){this.messageCenter.dispatch(c.EVENT.LEGEND_HOVERLINK,t.event,{target:t.target._name},this.myChart)},refresh:function(t){if(t){this.option=t||this.option,this.option.legend=this.reformOption(this.option.legend),this.legendOption=this.option.legend;var e,i,n,s,o=this.legendOption.data||[];if(this.legendOption.selected)for(var r in this.legendOption.selected)this._selectedMap[r]=void 0!==this._selectedMap[r]?this._selectedMap[r]:this.legendOption.selected[r];for(var a=0,l=o.length;a<l;a++)""!==(e=this._getName(o[a]))&&((i=this._getSomethingByName(e)).series?(this._hasDataMap[e]=!0,s=!i.data||i.type!==c.CHART_TYPE_PIE&&i.type!==c.CHART_TYPE_FORCE&&i.type!==c.CHART_TYPE_FUNNEL?[i.series]:[i.data,i.series],(n=this.getItemStyleColor(this.deepQuery(s,"itemStyle.normal.color"),i.seriesIndex,i.dataIndex,i.data))&&i.type!=c.CHART_TYPE_K&&this.setColor(e,n),this._selectedMap[e]=null==this._selectedMap[e]||this._selectedMap[e]):this._hasDataMap[e]=!1)}this.clear(),this._buildShape()},getRelatedAmount:function(t){for(var e,i=0,n=this.option.series,s=0,o=n.length;s<o;s++)if(n[s].name===t&&i++,n[s].type===c.CHART_TYPE_PIE||n[s].type===c.CHART_TYPE_RADAR||n[s].type===c.CHART_TYPE_CHORD||n[s].type===c.CHART_TYPE_FORCE||n[s].type===c.CHART_TYPE_FUNNEL)for(var r=0,a=(e=n[s].type!=c.CHART_TYPE_FORCE?n[s].data:n[s].categories).length;r<a;r++)e[r].name===t&&"-"!=e[r].value&&i++;return i},setColor:function(t,e){this._colorMap[t]=e},getColor:function(t){return this._colorMap[t]||(this._colorMap[t]=this.zr.getColor(this._colorIndex++)),this._colorMap[t]},hasColor:function(t){return!!this._colorMap[t]&&this._colorMap[t]},add:function(t,e){for(var i=this.legendOption.data,n=0,s=i.length;n<s;n++)if(this._getName(i[n])===t)return;this.legendOption.data.push(t),this.setColor(t,e),this._selectedMap[t]=!0,this._hasDataMap[t]=!0},del:function(t){for(var e=this.legendOption.data,i=0,n=e.length;i<n;i++)if(this._getName(e[i])===t)return this.legendOption.data.splice(i,1)},getItemShape:function(t){if(null!=t)for(var e,i=0,n=this.shapeList.length;i<n;i++)if((e=this.shapeList[i])._name===t&&"text"!=e.type)return e},setItemShape:function(t,e){for(var i,n=0,s=this.shapeList.length;n<s;n++)(i=this.shapeList[n])._name===t&&"text"!=i.type&&(this._selectedMap[t]||(e.style.color="#ccc",e.style.strokeColor="#ccc"),this.zr.modShape(i.id,e))},isSelected:function(t){return void 0===this._selectedMap[t]||this._selectedMap[t]},getSelectedMap:function(){return this._selectedMap},setSelected:function(t,e){if("single"===this.legendOption.selectedMode)for(var i in this._selectedMap)this._selectedMap[i]=!1;this._selectedMap[t]=e,this.messageCenter.dispatch(c.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:t},this.myChart)},onlegendSelected:function(t,e){var i=t.selected;for(var n in i)this._selectedMap[n]!=i[n]&&(e.needRefresh=!0),this._selectedMap[n]=i[n]}};var n={line:function(t,e){var i=e.height/2;t.moveTo(e.x,e.y+i),t.lineTo(e.x+e.width,e.y+i)},pie:function(t,e){var i=e.x,n=e.y,s=e.width,o=e.height;a.prototype.buildPath(t,{x:i+s/2,y:n+o+2,r:o,r0:6,startAngle:45,endAngle:135})},eventRiver:function(t,e){var i=e.x,n=e.y,s=e.width,o=e.height;t.moveTo(i,n+o),t.bezierCurveTo(i+s,n+o,i,n+4,i+s,n+4),t.lineTo(i+s,n),t.bezierCurveTo(i,n,i+s,n+o-4,i,n+o-4),t.lineTo(i,n+o)},k:function(t,e){var i=e.x,n=e.y,s=e.width,o=e.height;l.prototype.buildPath(t,{x:i+s/2,y:[n+1,n+1,n+o-6,n+o],width:s-6})},bar:function(t,e){var i=e.x,n=e.y+1,s=e.width,o=e.height-2;t.moveTo(i+3,n),t.lineTo(i+s-3,n),t.quadraticCurveTo(i+s,n,i+s,n+3),t.lineTo(i+s,n+o-3),t.quadraticCurveTo(i+s,n+o,i+s-3,n+o),t.lineTo(i+3,n+o),t.quadraticCurveTo(i,n+o,i,n+o-3),t.lineTo(i,n+3),t.quadraticCurveTo(i,n,i+3,n)},force:function(t,e){b.prototype.iconLibrary.circle(t,e)},radar:function(t,e){var i=e.x+e.width/2,n=e.y+e.height/2,s=e.height/2,o=2*Math.PI/6,r=-Math.PI/2,a=i+s*Math.cos(r),l=n+s*Math.sin(r);t.moveTo(a,l),r+=o;for(var h=0;h<5;h++)t.lineTo(i+s*Math.cos(r),n+s*Math.sin(r)),r+=o;t.lineTo(a,l)}};for(var s in n.chord=n.pie,n.map=n.bar,n)b.prototype.iconLibrary["legendicon"+s]=n[s];return x.inherits(e,r),t("../component").define("legend",e),e}),define("echarts/util/ecData",[],function(){return{pack:function(t,e,i,n,s,o,r,a){var l;return void 0!==n&&(l=null==n.value?n:n.value),t._echartsData={_series:e,_seriesIndex:i,_data:n,_dataIndex:s,_name:o,_value:l,_special:r,_special2:a},t._echartsData},set:function(t,e,i){switch(t._echartsData=t._echartsData||{},e){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":t._echartsData["_"+e]=i}},get:function(t,e){var i=t._echartsData;if(!e)return i;switch(e){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return i&&i["_"+e]}return null},clone:function(t,e){e._echartsData={_series:t._echartsData._series,_seriesIndex:t._echartsData._seriesIndex,_data:t._echartsData._data,_dataIndex:t._echartsData._dataIndex,_name:t._echartsData._name,_value:t._echartsData._value,_special:t._echartsData._special,_special2:t._echartsData._special2}}}}),define("echarts/chart",[],function(){var i={},n={};return i.define=function(t,e){return n[t]=e,i},i.get=function(t){return n[t]},i}),define("zrender/tool/color",["require","../tool/util"],function(t){function a(t,e,i){t=f(t),e=f(e),t=g(t);for(var n=[],s=((e=g(e))[0]-t[0])/i,o=(e[1]-t[1])/i,r=(e[2]-t[2])/i,a=(e[3]-t[3])/i,l=0,h=t[0],c=t[1],d=t[2],u=t[3];l<i;l++)n[l]=p([m(Math.floor(h),[0,255]),m(Math.floor(c),[0,255]),m(Math.floor(d),[0,255]),u.toFixed(4)-0],"rgba"),h+=s,c+=o,d+=r,u+=a;return h=e[0],c=e[1],d=e[2],u=e[3],n[l]=p([h,c,d,u],"rgba"),n}function p(t,e){if(e=e||"rgb",t&&(3===t.length||4===t.length)){if(t=d(t,function(t){return 1<t?Math.ceil(t):t}),-1<e.indexOf("hex"))return"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1);if(-1<e.indexOf("hs")){var i=d(t.slice(1,3),function(t){return t+"%"});t[1]=i[0],t[2]=i[1]}return-1<e.indexOf("a")?(3===t.length&&t.push(1),t[3]=m(t[3],[0,1]),e+"("+t.slice(0,4).join(",")+")"):e+"("+t.slice(0,3).join(",")+")"}}function e(t,e){if(!u(t))return t;var i=g(t),n=i[3];return void 0===n&&(n=1),-1<t.indexOf("hsb")?i=function(t){var e,i,n,s=t[0],o=t[1],r=t[2];if(0===o)n=i=e=255*r;else{var a=6*s;6===a&&(a=0);var l=0|a,h=r*(1-o),c=r*(1-o*(a-l)),d=r*(1-o*(1-(a-l))),u=0,p=0,f=0;f=0===l?(u=r,p=d,h):1===l?(u=c,p=r,h):2===l?(u=h,p=r,d):3===l?(u=h,p=c,r):4===l?(u=d,p=h,r):(u=r,p=h,c),e=255*u,i=255*p,n=255*f}return[e,i,n]}(i):-1<t.indexOf("hsl")&&(i=function(t){var e,i,n,s=t[0],o=t[1],r=t[2];if(0===o)n=i=e=255*r;else{var a,l=2*r-(a=r<.5?r*(1+o):r+o-o*r);e=255*h(l,a,s+1/3),i=255*h(l,a,s),n=255*h(l,a,s-1/3)}return[e,i,n]}(i)),-1<e.indexOf("hsb")||-1<e.indexOf("hsv")?i=function(t){var e,i,n=t[0]/255,s=t[1]/255,o=t[2]/255,r=Math.min(n,s,o),a=Math.max(n,s,o),l=a-r,h=a;if(0===l)i=e=0;else{i=l/a;var c=((a-n)/6+l/2)/l,d=((a-s)/6+l/2)/l,u=((a-o)/6+l/2)/l;n===a?e=u-d:s===a?e=1/3+c-u:o===a&&(e=2/3+d-c),e<0&&(e+=1),1<e&&(e-=1)}return[e*=360,i*=100,h*=100]}(i):-1<e.indexOf("hsl")&&(i=function(t){var e,i,n=t[0]/255,s=t[1]/255,o=t[2]/255,r=Math.min(n,s,o),a=Math.max(n,s,o),l=a-r,h=(a+r)/2;if(0===l)i=e=0;else{i=h<.5?l/(a+r):l/(2-a-r);var c=((a-n)/6+l/2)/l,d=((a-s)/6+l/2)/l,u=((a-o)/6+l/2)/l;n===a?e=u-d:s===a?e=1/3+c-u:o===a&&(e=2/3+d-c),e<0&&(e+=1),1<e&&(e-=1)}return[e*=360,i*=100,h*=100]}(i)),i[3]=n,p(i,e)}function f(t){return e(t,"rgba")}function o(t){return e(t,"rgb")}function i(t){return e(t,"hex")}function c(t){return String(t).replace(/\s+/g,"")}function g(t){var e=(t=function(t){if(b[t]&&(t=b[t]),t=(t=c(t)).replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(t)){var e=(3840&(t=parseInt(t.slice(1),16)))<<8,i=(240&t)<<4,n=15&t;t="#"+((1<<24)+(e<<4)+e+(i<<4)+i+(n<<4)+n).toString(16).slice(1)}return t}(t)).match(_);if(null===e)throw new Error("The color format error");var i,n,s=[];if(e[2])s=d([(i=e[2].replace("#","").split(""))[0]+i[1],i[2]+i[3],i[4]+i[5]],function(t){return m(parseInt(t,16),[0,255])});else if(e[4]){var o=e[4].split(",");n=o[3],s=d(o.slice(0,3),function(t){return m(t=Math.floor(0<t.indexOf("%")?2.55*parseInt(t,0):t),[0,255])}),void 0!==n&&s.push(m(parseFloat(n),[0,1]))}else if(e[5]||e[6]){var r=(e[5]||e[6]).split(","),a=parseInt(r[0],0)/360,l=r[1],h=r[2];n=r[3],(s=d([l,h],function(t){return m(parseFloat(t)/100,[0,1])})).unshift(a),void 0!==n&&s.push(m(parseFloat(n),[0,1]))}return s}function d(t,e){if("function"!=typeof e)throw new TypeError;for(var i=t?t.length:0,n=0;n<i;n++)t[n]=e(t[n]);return t}function m(t,e){return t<=e[0]?t=e[0]:t>=e[1]&&(t=e[1]),t}function u(t){return t instanceof Array||"string"==typeof t}function h(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),6*i<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var y,v=t("../tool/util"),n=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],s=n,r="rgba(255,255,0,0.5)",_=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,b={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:function(t){n=t},resetPalette:function(){n=s},getColor:function(t,e){return(e=e||n)[(t|=0)%e.length]},getHighlightColor:function(){return r},customHighlight:function(t){r=t},resetHighlight:function(){r},getRadialGradient:function(t,e,i,n,s,o,r){y||(y=v.getContext());for(var a=y.createRadialGradient(t,e,i,n,s,o),l=0,h=r.length;l<h;l++)a.addColorStop(r[l][0],r[l][1]);return a.__nonRecursion=!0,a},getLinearGradient:function(t,e,i,n,s){y||(y=v.getContext());for(var o=y.createLinearGradient(t,e,i,n),r=0,a=s.length;r<a;r++)o.addColorStop(s[r][0],s[r][1]);return o.__nonRecursion=!0,o},getGradientColors:function(t,e){var i=[],n=t.length;if(void 0===e&&(e=20),1===n)i=a(t[0],t[0],e);else if(1<n)for(var s=0,o=n-1;s<o;s++){var r=a(t[s],t[s+1],e);s<o-1&&r.pop(),i=i.concat(r)}return i},getStepColors:a,reverse:function(t){if(!u(t))return t;var e=g(f(t));return p(e=d(e,function(t){return 255-t}),"rgb")},mix:function(t,e,i){if(!u(t)||!u(e))return t;void 0===i&&(i=.5);for(var n=2*(i=1-m(i,[0,1]))-1,s=g(f(t)),o=g(f(e)),r=s[3]-o[3],a=((n*r==-1?n:(n+r)/(1+n*r))+1)/2,l=1-a,h=[],c=0;c<3;c++)h[c]=s[c]*a+o[c]*l;var d=s[3]*i+o[3]*(1-i);return d=Math.max(0,Math.min(1,d)),1===s[3]&&1===o[3]?p(h,"rgb"):(h[3]=d,p(h,"rgba"))},lift:function(t,e){if(!u(t))return t;var i=0<e?1:-1;void 0===e&&(e=0),e=1<Math.abs(e)?1:Math.abs(e);for(var n=g(t=o(t)),s=0;s<3;s++)n[s]=1===i?n[s]*(1-e)|0:(255-n[s])*e+n[s]|0;return"rgb("+n.join(",")+")"},trim:c,random:function(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)},toRGB:o,toRGBA:f,toHex:i,toHSL:function(t){return e(t,"hsl")},toHSLA:function(t){return e(t,"hsla")},toHSB:function(t){return e(t,"hsb")},toHSBA:function(t){return e(t,"hsba")},toHSV:function(t){return e(t,"hsv")},toHSVA:function(t){return e(t,"hsva")},toName:function(t){for(var e in b)if(i(b[e])===i(t))return e;return null},toColor:p,toArray:function(t){(t=c(t)).indexOf("rgba")<0&&(t=f(t));var e=[],i=0;return t.replace(/[\d.]+/g,function(t){t=i<3?0|t:+t,e[i++]=t}),e},alpha:function(t,e){if(!u(t))return t;null===e&&(e=1);var i=g(f(t));return i[3]=m(Number(e).toFixed(4),[0,1]),p(i,"rgba")},getData:g}}),define("echarts/component/timeline",["require","./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(t){function e(t,e,i,n,s){if(r.call(this,t,e,i,n,s),(o=this)._onclick=function(t){return o.__onclick(t)},o._ondrift=function(t,e){return o.__ondrift(this,t,e)},o._ondragend=function(){return o.__ondragend()},o._setCurrentOption=function(){var t=o.timelineOption;o.currentIndex%=t.data.length;var e=o.options[o.currentIndex]||{};o.myChart.setOption(e,t.notMerge),o.messageCenter.dispatch(a.EVENT.TIMELINE_CHANGED,null,{currentIndex:o.currentIndex,data:null!=t.data[o.currentIndex].name?t.data[o.currentIndex].name:t.data[o.currentIndex]},o.myChart)},o._onFrame=function(){o._setCurrentOption(),o._syncHandleShape(),o.timelineOption.autoPlay&&(o.playTicket=setTimeout(function(){return o.currentIndex+=1,!o.timelineOption.loop&&o.currentIndex>=o.timelineOption.data.length?(o.currentIndex=o.timelineOption.data.length-1,void o.stop()):void o._onFrame()},o.timelineOption.playInterval))},this.setTheme(!1),this.options=this.option.options,this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length,this.timelineOption.notMerge||0===this.currentIndex||(this.options[this.currentIndex]=w.merge(this.options[this.currentIndex],this.options[0])),this.timelineOption.show&&(this._buildShape(),this._syncHandleShape()),this._setCurrentOption(),this.timelineOption.autoPlay){var o=this;this.playTicket=setTimeout(function(){o.play()},null!=this.ecTheme.animationDuration?this.ecTheme.animationDuration:a.animationDuration)}}var r=t("./base"),s=t("zrender/shape/Rectangle"),h=t("../util/shape/Icon"),i=t("../util/shape/Chain"),a=t("../config");a.timeline={zlevel:0,z:4,show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2e3,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var w=t("zrender/tool/util"),u=t("zrender/tool/area"),n=t("zrender/tool/event");return e.prototype={type:a.COMPONENT_TYPE_TIMELINE,_buildShape:function(){if(this._location=this._getLocation(),this._buildBackground(),this._buildControl(),this._chainPoint=this._getChainPoint(),this.timelineOption.label.show)for(var t=this._getInterval(),e=0,i=this._chainPoint.length;e<i;e+=t)this._chainPoint[e].showLabel=!0;this._buildChain(),this._buildHandle();e=0;for(var n=this.shapeList.length;e<n;e++)this.zr.addShape(this.shapeList[e])},_getLocation:function(){var t,e=this.timelineOption,i=this.reformCssArray(this.timelineOption.padding),n=this.zr.getWidth(),s=this.parsePercent(e.x,n),o=this.parsePercent(e.x2,n);o=null==e.width?(t=n-s-o,n-o):s+(t=this.parsePercent(e.width,n));var r,a,l=this.zr.getHeight(),h=this.parsePercent(e.height,l);return null!=e.y?a=(r=this.parsePercent(e.y,l))+h:r=(a=l-this.parsePercent(e.y2,l))-h,{x:s+i[3],y:r+i[0],x2:o-i[1],y2:a-i[2],width:t-i[1]-i[3],height:h-i[0]-i[2]}},_getReformedLabel:function(t){var e=this.timelineOption,i=null!=e.data[t].name?e.data[t].name:e.data[t],n=e.data[t].formatter||e.label.formatter;return n&&("function"==typeof n?i=n.call(this.myChart,i):"string"==typeof n&&(i=n.replace("{value}",i))),i},_getInterval:function(){var t=this._chainPoint,e=this.timelineOption,i=e.label.interval;if("auto"===i){var n=e.label.textStyle.fontSize,s=e.data,o=e.data.length;if(3<o){var r,a,l=!1;for(i=0;!l&&i<o;){l=!0;for(var h=++i;h<o;h+=i){if(r=t[h].x-t[h-i].x,0!==e.label.rotate)a=n;else if(s[h].textStyle)a=u.getTextWidth(t[h].name,t[h].textFont);else{var c=t[h].name+"",d=(c.match(/\w/g)||"").length;a=d*n*2/3+(c.length-d)*n}if(r<a){l=!1;break}}}}else i=1}else i=i-0+1;return i},_getChainPoint:function(){function t(t){return null!=l[t].name?l[t].name:l[t]+""}var e,i=this.timelineOption,n=i.symbol.toLowerCase(),s=i.symbolSize,o=i.label.rotate,r=i.label.textStyle,a=this.getFont(r),l=i.data,h=this._location.x,c=this._location.y+this._location.height/4*3,d=this._location.x2-this._location.x,u=l.length,p=[];if(1<u){var f=d/u;if(d-=2*(f=50<f?50:f<20?5:f),"number"===i.type)for(var g=0;g<u;g++)p.push(h+f+d/(u-1)*g);else{p[0]=new Date(t(0).replace(/-/g,"/")),p[u-1]=new Date(t(u-1).replace(/-/g,"/"))-p[0];for(g=1;g<u;g++)p[g]=h+f+d*(new Date(t(g).replace(/-/g,"/"))-p[0])/p[u-1];p[0]=h+f}}else p.push(h+d/2);var m,y,v,_,b,x=[];for(g=0;g<u;g++)h=p[g],v=!!(m=l[g].symbol&&l[g].symbol.toLowerCase()||n).match("empty")&&(m=m.replace("empty",""),!0),m.match("star")&&(y=m.replace("star","")-0||5,m="star"),_=(e=l[g].textStyle?w.merge(l[g].textStyle||{},r):r).align||"center",b=!!o&&(_=0<o?"right":"left",[o*Math.PI/180,h,c-5]),x.push({x:h,n:y,isEmpty:v,symbol:m,symbolSize:l[g].symbolSize||s,color:l[g].color,borderColor:l[g].borderColor,borderWidth:l[g].borderWidth,name:this._getReformedLabel(g),textColor:e.color,textAlign:_,textBaseline:e.baseline||"middle",textX:h,textY:c-(o?5:0),textFont:l[g].textStyle?this.getFont(e):a,rotation:b,showLabel:!1});return x},_buildBackground:function(){var t=this.timelineOption,e=this.reformCssArray(this.timelineOption.padding),i=this._location.width,n=this._location.height;(0!==t.borderWidth||"rgba(0,0,0,0)"!=t.backgroundColor.replace(/\s/g,""))&&this.shapeList.push(new s({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x-e[3],y:this._location.y-e[0],width:i+e[1]+e[3],height:n+e[0]+e[2],brushType:0===t.borderWidth?"fill":"both",color:t.backgroundColor,strokeColor:t.borderColor,lineWidth:t.borderWidth}}))},_buildControl:function(){var t=this,e=this.timelineOption,i=e.lineStyle,n=e.controlStyle;if("none"!==e.controlPosition){var s,o=n.itemSize,r=n.itemGap;"left"===e.controlPosition?(s=this._location.x,this._location.x+=3*(o+r)):(s=this._location.x2-(3*(o+r)-r),this._location.x2-=3*(o+r));var a=this._location.y,l={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:s,y:a,width:o,height:o,brushType:"stroke",color:n.normal.color,strokeColor:n.normal.color,lineWidth:i.width},highlightStyle:{color:n.emphasis.color,strokeColor:n.emphasis.color,lineWidth:i.width+1},clickable:!0};this._ctrLastShape=new h(l),this._ctrLastShape.onclick=function(){t.last()},this.shapeList.push(this._ctrLastShape),s+=o+r,this._ctrPlayShape=new h(w.clone(l)),this._ctrPlayShape.style.brushType="fill",this._ctrPlayShape.style.symbol="play",this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop",this._ctrPlayShape.style.x=s,this._ctrPlayShape.onclick=function(){"stop"===t._ctrPlayShape.style.status?t.play():t.stop()},this.shapeList.push(this._ctrPlayShape),s+=o+r,this._ctrNextShape=new h(w.clone(l)),this._ctrNextShape.style.symbol="next",this._ctrNextShape.style.x=s,this._ctrNextShape.onclick=function(){t.next()},this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var t=this.timelineOption.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,t.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:t.color,lineWidth:t.width,lineType:t.type},hoverable:!1,clickable:!0,onclick:this._onclick},this._timelineShae=new i(this._timelineShae),this.shapeList.push(this._timelineShae)},_buildHandle:function(){var t=this._chainPoint[this.currentIndex],e=t.symbolSize+1;e=e<5?5:e,this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:t.n,x:t.x-e,y:this._location.y+this._location.height/4-e,width:2*e,height:2*e,brushType:"both",textPosition:"specific",textX:t.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend},this._handleShape=new h(this._handleShape),this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var t,e=this.timelineOption,i=e.checkpointStyle,n=this._chainPoint[this.currentIndex];this._handleShape.style.text=i.label.show?n.name:"",this._handleShape.style.textFont=n.textFont,this._handleShape.style.n=n.n,"auto"===i.symbol?this._handleShape.style.iconType="none"!=n.symbol?n.symbol:"diamond":(this._handleShape.style.iconType=i.symbol,i.symbol.match("star")&&(this._handleShape.style.n=i.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star")),t="auto"===i.symbolSize?(t=n.symbolSize+2)<5?5:t:i.symbolSize-0,this._handleShape.style.color="auto"===i.color?n.color?n.color:e.controlStyle.emphasis.color:i.color,this._handleShape.style.textColor="auto"===i.label.textStyle.color?this._handleShape.style.color:i.label.textStyle.color,this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor="auto"===i.borderColor?n.borderColor?n.borderColor:"#fff":i.borderColor,this._handleShape.style.lineWidth="auto"===i.borderWidth?n.borderWidth?n.borderWidth:0:i.borderWidth-0,this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1,this.zr.animate(this._handleShape.id,"style").when(500,{x:n.x-t,textX:n.x,y:this._location.y+this._location.height/4-t,width:2*t,height:2*t}).start("ExponentialOut")}},_findChainIndex:function(t){var e=this._chainPoint,i=e.length;if(t<=e[0].x)return 0;if(t>=e[i-1].x)return i-1;for(var n=0;n<i-1;n++)if(t>=e[n].x&&t<=e[n+1].x)return Math.abs(t-e[n].x)<Math.abs(t-e[n+1].x)?n:n+1},__onclick:function(t){var e=n.getX(t.event),i=this._findChainIndex(e);return i===this.currentIndex||(this.currentIndex=i,this.timelineOption.autoPlay&&this.stop(),clearTimeout(this.playTicket),void this._onFrame())},__ondrift:function(t,e){this.timelineOption.autoPlay&&this.stop();var i,n=this._chainPoint,s=n.length,o=n[i=t.style.x+e<=n[0].x-n[0].symbolSize?(t.style.x=n[0].x-n[0].symbolSize,0):t.style.x+e>=n[s-1].x-n[s-1].symbolSize?(t.style.x=n[s-1].x-n[s-1].symbolSize,s-1):(t.style.x+=e,this._findChainIndex(t.style.x))],r=o.symbolSize+2;if(t.style.iconType=o.symbol,t.style.n=o.n,t.style.textX=t.style.x+r/2,t.style.y=this._location.y+this._location.height/4-r,t.style.width=2*r,t.style.height=2*r,t.style.text=o.name,i===this.currentIndex)return!0;if(this.currentIndex=i,this.timelineOption.realtime){clearTimeout(this.playTicket);var a=this;this.playTicket=setTimeout(function(){a._setCurrentOption()},200)}return!0},__ondragend:function(){this.isDragend=!0},ondragend:function(t,e){this.isDragend&&t.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),e.dragOut=!0,e.dragIn=!0,e.needRefresh=!1,this.isDragend=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(t,e){return this._ctrPlayShape&&"playing"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=null==e||e,this.timelineOption.autoPlay||clearTimeout(this.playTicket),this.currentIndex=null!=t?t:this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&"stop"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refreshNextFrame()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),this._syncHandleShape())},setTheme:function(t){this.timelineOption=this.reformOption(w.clone(this.option.timeline)),this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle),this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle),this.myChart.canvasSupported||(this.timelineOption.realtime=!1),this.timelineOption.show&&t&&(this.clear(),this._buildShape(),this._syncHandleShape())},onbeforDispose:function(){clearTimeout(this.playTicket)}},h.prototype.iconLibrary.timelineControl=function(t,e){var i=e.x+2,n=e.y+2+2,s=e.width-2,o=e.height-2,r=e.symbol;if("last"===r)t.moveTo(i+s-2,n+o/3),t.lineTo(i+s-2,n),t.lineTo(i+2,n+o/2),t.lineTo(i+s-2,n+o),t.lineTo(i+s-2,n+o/3*2),t.moveTo(i,n),t.lineTo(i,n);else if("next"===r)t.moveTo(i+2,n+o/3),t.lineTo(i+2,n),t.lineTo(i+s-2,n+o/2),t.lineTo(i+2,n+o),t.lineTo(i+2,n+o/3*2),t.moveTo(i,n),t.lineTo(i,n);else if("play"===r)if("stop"===e.status)t.moveTo(i+2,n),t.lineTo(i+s-2,n+o/2),t.lineTo(i+2,n+o),t.lineTo(i+2,n);else{var a="both"===e.brushType?2:3;t.rect(i+2,n,a,o),t.rect(i+s-a-2,n,a,o)}else if(r.match("image")){var l;l=r.replace(new RegExp("^image:\\/\\/"),""),(r=h.prototype.iconLibrary.image)(t,{x:i,y:n,width:s,height:o,image:l})}},w.inherits(e,r),t("../component").define("timeline",e),e}),define("zrender/shape/Image",["require","./Base","../tool/util"],function(t){var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"image",brush:function(t,e,i){var n=this.style||{};e&&(n=this.getHighlightStyle(n,this.highlightStyle||{}));var s=n.image,o=this;if(this._imageCache||(this._imageCache={}),"string"==typeof s){var r=s;this._imageCache[r]?s=this._imageCache[r]:((s=new Image).onload=function(){s.onload=null,o.modSelf(),i()},s.src=r,this._imageCache[r]=s)}if(s){if("IMG"==s.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=s.readyState)return}else if(!s.complete)return;var a=n.width||s.width,l=n.height||s.height,h=n.x,c=n.y;if(!s.width||!s.height)return;if(t.save(),this.doClip(t),this.setContext(t,n),this.setTransform(t),n.sWidth&&n.sHeight){var d=n.sx||0,u=n.sy||0;t.drawImage(s,d,u,n.sWidth,n.sHeight,h,c,a,l)}else if(n.sx&&n.sy){var p=a-(d=n.sx),f=l-(u=n.sy);t.drawImage(s,d,u,p,f,h,c,a,l)}else t.drawImage(s,h,c,a,l);n.width||(n.width=a),n.height||(n.height=l),this.style.width||(this.style.width=a),this.style.height||(this.style.height=l),this.drawText(t,n,this.style),t.restore()}},getRect:function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}},clearCache:function(){this._imageCache={}}},t("../tool/util").inherits(i,e),i}),define("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),a=t("../tool/util"),l=t("../tool/color"),h=t("../shape/Rectangle");return a.inherits(e,i),e.prototype._start=function(t,e){var i=a.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),n=this.createTextShape(i.textStyle),s=this.createBackgroundShape(i.backgroundColor),o=i.effectOption,r=new h({highlightStyle:a.clone(o)});return r.highlightStyle.color=o.color||l.getLinearGradient(o.x,o.y,o.x+o.width,o.y+o.height,[[0,"#ff6400"],[.5,"#ffe100"],[1,"#b1ff00"]]),null!=i.progress?(t(s),r.highlightStyle.width=this.adjust(i.progress,[0,1])*i.effectOption.width,t(r),t(n),void e()):(r.highlightStyle.width=0,setInterval(function(){t(s),r.highlightStyle.width<o.width?r.highlightStyle.width+=8:r.highlightStyle.width=0,t(r),t(n),e()},o.timeInterval))},e}),define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),f=t("../tool/util"),g=t("../tool/color"),m=t("../shape/Circle");return f.inherits(e,i),e.prototype._start=function(i,n){for(var t=f.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),s=this.createTextShape(t.textStyle),o=this.createBackgroundShape(t.backgroundColor),e=t.effect,r=e.n,a=e.brushType,l=e.lineWidth,h=[],c=this.canvasWidth,d=this.canvasHeight,u=0;u<r;u++){var p="random"==e.color?g.alpha(g.random(),.3):e.color;h[u]=new m({highlightStyle:{x:Math.ceil(Math.random()*c),y:Math.ceil(Math.random()*d),r:Math.ceil(40*Math.random()),brushType:a,color:p,strokeColor:p,lineWidth:l},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){i(o);for(var t=0;t<r;t++){var e=h[t].highlightStyle;e.y-h[t].animationY+e.r<=0&&(h[t].highlightStyle.y=d+e.r,h[t].highlightStyle.x=Math.ceil(Math.random()*c)),h[t].highlightStyle.y-=h[t].animationY,i(h[t])}i(s),n()},e.timeInterval)},e}),define("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),m=t("../tool/util"),y=t("../tool/color"),v=t("../shape/Line");return m.inherits(e,i),e.prototype._start=function(i,n){for(var t=m.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),s=this.createTextShape(t.textStyle),o=this.createBackgroundShape(t.backgroundColor),e=t.effectOption,r=e.n,a=e.lineWidth,l=[],h=this.canvasWidth,c=this.canvasHeight,d=0;d<r;d++){var u=-Math.ceil(1e3*Math.random()),p=Math.ceil(400*Math.random()),f=Math.ceil(Math.random()*c),g="random"==e.color?y.random():e.color;l[d]=new v({highlightStyle:{xStart:u,yStart:f,xEnd:u+p,yEnd:f,strokeColor:g,lineWidth:a},animationX:Math.ceil(100*Math.random()),len:p})}return setInterval(function(){i(o);for(var t=0;t<r;t++){var e=l[t].highlightStyle;e.xStart>=h&&(l[t].len=Math.ceil(400*Math.random()),e.xStart=-400,e.xEnd=-400+l[t].len,e.yStart=Math.ceil(Math.random()*c),e.yEnd=e.yStart),e.xStart+=l[t].animationX,e.xEnd+=l[t].animationX,i(l[t])}i(s),n()},e.timeInterval)},e}),define("zrender/loadingEffect/Ring",["require","./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),_=t("../tool/util"),b=t("../tool/color"),x=t("../shape/Ring"),w=t("../shape/Sector");return _.inherits(e,i),e.prototype._start=function(e,i){var t=_.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),n=t.effect,s=t.textStyle;null==s.x&&(s.x=n.x),null==s.y&&(s.y=n.y+(n.r0+n.r)/2-5);for(var o=this.createTextShape(t.textStyle),r=this.createBackgroundShape(t.backgroundColor),a=n.x,l=n.y,h=n.r0+6,c=n.r-6,d=n.color,u=b.lift(d,.1),p=new x({highlightStyle:_.clone(n)}),f=[],g=b.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),m=240,y=0;y<16;y++)f.push(new w({highlightStyle:{x:a,y:l,r0:h,r:c,startAngle:m-15,endAngle:m,brushType:"fill",color:u},_color:b.getLinearGradient(a+h*Math.cos(m,!0),l-h*Math.sin(m,!0),a+h*Math.cos(m-15,!0),l-h*Math.sin(m-15,!0),[[0,g[2*y]],[1,g[2*y+1]]])})),m-=15;m=360;for(y=0;y<4;y++)f.push(new w({highlightStyle:{x:a,y:l,r0:h,r:c,startAngle:m-15,endAngle:m,brushType:"fill",color:u},_color:b.getLinearGradient(a+h*Math.cos(m,!0),l-h*Math.sin(m,!0),a+h*Math.cos(m-15,!0),l-h*Math.sin(m-15,!0),[[0,g[2*y+32]],[1,g[2*y+33]]])})),m-=15;var v=0;if(null==t.progress)return setInterval(function(){e(r),v+=20<=v?-20:1,e(p);for(var t=0;t<20;t++)f[t].highlightStyle.color=t<v?f[t]._color:u,e(f[t]);e(o),i()},n.timeInterval);e(r),v=100*this.adjust(t.progress,[0,1]).toFixed(2)/5,p.highlightStyle.text=5*v+"%",e(p);for(y=0;y<20;y++)f[y].highlightStyle.color=y<v?f[y]._color:u,e(f[y]);return e(o),void i()},e}),define("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),_=t("../tool/util"),b=t("../tool/color"),x=t("../tool/area"),w=t("../shape/Sector");return _.inherits(e,i),e.prototype._start=function(e,i){var t=_.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"}),n=this.createTextShape(t.textStyle),s=x.getTextWidth(n.highlightStyle.text,n.highlightStyle.textFont),o=x.getTextHeight(n.highlightStyle.text,n.highlightStyle.textFont),r=_.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100}),a=this.getLocation(this.options.textStyle,s+10+2*r.r,Math.max(2*r.r,o));r.x=a.x+r.r,r.y=n.highlightStyle.y=a.y+a.height/2,n.highlightStyle.x=r.x+r.r+10;for(var l=this.createBackgroundShape(t.backgroundColor),h=r.n,c=r.x,d=r.y,u=r.r0,p=r.r,f=r.color,g=[],m=Math.round(180/h),y=0;y<h;y++)g[y]=new w({highlightStyle:{x:c,y:d,r0:u,r:p,startAngle:m*y*2,endAngle:m*y*2+m,color:b.alpha(f,(y+1)/h),brushType:"fill"}});var v=[0,c,d];return setInterval(function(){e(l),v[0]-=.3;for(var t=0;t<h;t++)g[t].rotation=v,e(g[t]);e(n),i()},r.timeInterval)},e}),define("zrender/loadingEffect/Whirling",["require","./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(t){function e(t){i.call(this,t)}var i=t("./Base"),p=t("../tool/util"),f=t("../tool/area"),g=t("../shape/Ring"),m=t("../shape/Droplet"),y=t("../shape/Circle");return p.inherits(e,i),e.prototype._start=function(t,e){var i=p.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),n=this.createTextShape(i.textStyle),s=f.getTextWidth(n.highlightStyle.text,n.highlightStyle.textFont),o=f.getTextHeight(n.highlightStyle.text,n.highlightStyle.textFont),r=p.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),a=this.getLocation(this.options.textStyle,s+10+2*r.r,Math.max(2*r.r,o));r.x=a.x+r.r,r.y=n.highlightStyle.y=a.y+a.height/2,n.highlightStyle.x=r.x+r.r+10;var l=this.createBackgroundShape(i.backgroundColor),h=new m({highlightStyle:{a:Math.round(r.r/2),b:Math.round(r.r-r.r/6),brushType:"fill",color:r.colorWhirl}}),c=new y({highlightStyle:{r:Math.round(r.r/6),brushType:"fill",color:r.colorIn}}),d=new g({highlightStyle:{r0:Math.round(r.r-r.r/3),r:r.r,brushType:"fill",color:r.colorOut}}),u=[0,r.x,r.y];return h.highlightStyle.x=c.highlightStyle.x=d.highlightStyle.x=u[1],h.highlightStyle.y=c.highlightStyle.y=d.highlightStyle.y=u[2],setInterval(function(){t(l),t(d),u[0]-=.3,h.rotation=u,t(h),t(c),t(n),e()},r.timeInterval)},e}),define("echarts/theme/macarons",[],function(){return{color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:", Arial, Verdana, sans-serif"}}}),define("echarts/theme/infographic",[],function(){return{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1},splitArea:{show:!1},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:!0,lineStyle:{color:[[.2,"#B5C334"],[.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:", Arial, Verdana, sans-serif"}}}),define("zrender/dep/excanvas",["require"],function(){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:function(){function i(){return this.context_||(this.context_=new t(this))}function v(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t,e,i){t.namespaces[e]||t.namespaces.add(e,i,"#default#VML")}function s(t){if(n(t,"g_vml_","urn:schemas-microsoft-com:vml"),n(t,"g_o_","urn:schemas-microsoft-com:office:office"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}function o(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function r(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function a(t,e){for(var i=[[1,0,0],[0,1,0],[0,0,1]],n=0;n<3;n++)for(var s=0;s<3;s++){for(var o=0,r=0;r<3;r++)o+=t[n][r]*e[r][s];i[n][s]=o}return i}function e(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.scaleX_=t.scaleX_,e.scaleY_=t.scaleY_,e.lineScale_=t.lineScale_}function l(t){var e=t.indexOf("(",3),i=t.indexOf(")",e+1),n=t.substring(e+1,i).split(",");return(4!=n.length||"a"!=t.charAt(3))&&(n[3]=1),n}function h(t){return parseFloat(t)/100}function c(t,e,i){return Math.min(i,Math.max(e,t))}function d(t,e,i){return i<0&&i++,1<i&&i--,6*i<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function P(t){if(t in D)return D[t];var e=1;if("#"==(t=String(t)).charAt(0))s=t;else if(/^rgb/.test(t)){for(var i,n=l(t),s="#",o=0;o<3;o++)i=-1!=n[o].indexOf("%")?Math.floor(255*h(n[o])):+n[o],s+=E[c(i,0,255)];e=+n[3]}else if(/^hsl/.test(t)){s=function(t){var e,i,n,s,o,r;if((s=parseFloat(t[0])/360%360)<0&&s++,o=c(h(t[1]),0,1),r=c(h(t[2]),0,1),0==o)e=i=n=r;else{var a=r<.5?r*(1+o):r+o-r*o,l=2*r-a;e=d(l,a,s+1/3),i=d(l,a,s),n=d(l,a,s-1/3)}return"#"+E[Math.floor(255*e)]+E[Math.floor(255*i)]+E[Math.floor(255*n)]}(n=l(t)),e=n[3]}else s=A[t]||t;return D[t]={color:s,alpha:e}}function t(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*B,this.globalAlpha=1,this.font="12px ",this.textAlign="left",this.textBaseline="alphabetic";var e="width:"+(this.canvas=t).clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",i=t.ownerDocument.createElement("div");i.style.cssText=e,t.appendChild(i);var n=i.cloneNode(!1);n.style.backgroundColor="#fff",n.style.filter="alpha(opacity=0)",t.appendChild(n),this.element_=i,this.scaleX_=1,this.scaleY_=1,this.lineScale_=1}function u(t,e,i,n){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:n.x,y:n.y}),t.currentX_=n.x,t.currentY_=n.y}function _(t,e){var i,n=P(t.strokeStyle),s=n.color,o=n.alpha*t.globalAlpha,r=t.lineScale_*t.lineWidth;r<1&&(o*=r),e.push("<g_vml_:stroke",' opacity="',o,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',(i=t.lineCap,$[i]||"square"),'"',' weight="',r,'px"',' color="',s,'" />')}function b(t,e,i,n){var s=t.fillStyle,o=t.scaleX_,r=t.scaleY_,a=n.x-i.x,l=n.y-i.y;if(s instanceof H){var h=0,c={x:0,y:0},d=0,u=1;if("gradient"==s.type_){var p=s.x0_/o,f=s.y0_/r,g=s.x1_/o,m=s.y1_/r,y=R(t,p,f),v=R(t,g,m),_=v.x-y.x,b=v.y-y.y;(h=180*Math.atan2(_,b)/Math.PI)<0&&(h+=360),h<1e-6&&(h=0)}else{c={x:((y=R(t,s.x0_,s.y0_)).x-i.x)/a,y:(y.y-i.y)/l},a/=o*B,l/=r*B;var x=F.max(a,l);d=2*s.r0_/x,u=2*s.r1_/x-d}var w=s.colors_;w.sort(function(t,e){return t.offset-e.offset});for(var C=w.length,k=w[0].color,S=w[C-1].color,T=w[0].alpha*t.globalAlpha,E=w[C-1].alpha*t.globalAlpha,M=[],z=0;z<C;z++){var A=w[z];M.push(A.offset*u+d+" "+A.color)}e.push('<g_vml_:fill type="',s.type_,'"',' method="none" focus="100%"',' color="',k,'"',' color2="',S,'"',' colors="',M.join(","),'"',' opacity="',E,'"',' g_o_:opacity2="',T,'"',' angle="',h,'"',' focusposition="',c.x,",",c.y,'" />')}else if(s instanceof N){if(a&&l){var D=-i.x,L=-i.y;e.push("<g_vml_:fill",' position="',D/a*o*o,",",L/l*r*r,'"',' type="tile"',' src="',s.src_,'" />')}}else{var $=P(t.fillStyle),O=$.color,I=$.alpha*t.globalAlpha;e.push('<g_vml_:fill color="',O,'" opacity="',I,'" />')}}function R(t,e,i){var n=t.m_;return{x:B*(e*n[0][0]+i*n[1][0]+n[2][0])-k,y:B*(e*n[0][1]+i*n[1][1]+n[2][1])-k}}function p(t,e,i){if(s=e,isFinite(s[0][0])&&isFinite(s[0][1])&&isFinite(s[1][0])&&isFinite(s[1][1])&&isFinite(s[2][0])&&isFinite(s[2][1])&&(t.m_=e,t.scaleX_=Math.sqrt(e[0][0]*e[0][0]+e[0][1]*e[0][1]),t.scaleY_=Math.sqrt(e[1][0]*e[1][0]+e[1][1]*e[1][1]),i)){var n=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=C(x(n))}var s}function H(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function N(t,e){switch((i=t)&&1==i.nodeType&&"IMG"==i.tagName||f("TYPE_MISMATCH_ERR"),"complete"!=i.readyState&&f("INVALID_STATE_ERR"),e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:f("SYNTAX_ERR")}var i;this.src_=t.src,this.width_=t.width,this.height_=t.height}function f(t){throw new g(t)}function g(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var F=Math,w=F.round,m=F.sin,y=F.cos,x=F.abs,C=F.sqrt,B=10,k=B/2,S=(navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],Array.prototype.slice);s(document);var T={init:function(t){var e=t||document;e.createElement("canvas"),e.attachEvent("onreadystatechange",function(t,e){var i=S.call(arguments,2);return function(){return t.apply(e,i.concat(S.call(arguments)))}}(this.init_,this,e))},init_:function(t){for(var e=t.getElementsByTagName("canvas"),i=0;i<e.length;i++)this.initElement(e[i])},initElement:function(t){if(!t.getContext){t.getContext=i,s(t.ownerDocument),t.innerHTML="",t.attachEvent("onpropertychange",o),t.attachEvent("onresize",r);var e=t.attributes;e.width&&e.width.specified?t.style.width=e.width.nodeValue+"px":t.width=t.clientWidth,e.height&&e.height.specified?t.style.height=e.height.nodeValue+"px":t.height=t.clientHeight}return t}};T.init();for(var E=[],M=0;M<16;M++)for(var z=0;z<16;z++)E[16*M+z]=M.toString(16)+z.toString(16);var A={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},D={},L={},$={butt:"flat",round:"round"},O=t.prototype;O.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},O.beginPath=function(){this.currentPath_=[]},O.moveTo=function(t,e){var i=R(this,t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},O.lineTo=function(t,e){var i=R(this,t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},O.bezierCurveTo=function(t,e,i,n,s,o){var r=R(this,s,o);u(this,R(this,t,e),R(this,i,n),r)},O.quadraticCurveTo=function(t,e,i,n){var s=R(this,t,e),o=R(this,i,n),r={x:this.currentX_+2/3*(s.x-this.currentX_),y:this.currentY_+2/3*(s.y-this.currentY_)};u(this,r,{x:r.x+(o.x-this.currentX_)/3,y:r.y+(o.y-this.currentY_)/3},o)},O.arc=function(t,e,i,n,s,o){i*=B;var r=o?"at":"wa",a=t+y(n)*i-k,l=e+m(n)*i-k,h=t+y(s)*i-k,c=e+m(s)*i-k;a!=h||o||(a+=.125);var d=R(this,t,e),u=R(this,a,l),p=R(this,h,c);this.currentPath_.push({type:r,x:d.x,y:d.y,radius:i,xStart:u.x,yStart:u.y,xEnd:p.x,yEnd:p.y})},O.rect=function(t,e,i,n){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath()},O.strokeRect=function(t,e,i,n){var s=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.stroke(),this.currentPath_=s},O.fillRect=function(t,e,i,n){var s=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.closePath(),this.fill(),this.currentPath_=s},O.createLinearGradient=function(t,e,i,n){var s=new H("gradient");return s.x0_=t,s.y0_=e,s.x1_=i,s.y1_=n,s},O.createRadialGradient=function(t,e,i,n,s,o){var r=new H("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=i,r.x1_=n,r.y1_=s,r.r1_=o,r},O.drawImage=function(t){var e,i,n,s,o,r,a,l,h=t.runtimeStyle.width,c=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var d=t.width,u=t.height;if(t.runtimeStyle.width=h,t.runtimeStyle.height=c,3==arguments.length)e=arguments[1],i=arguments[2],o=r=0,a=n=d,l=s=u;else if(5==arguments.length)e=arguments[1],i=arguments[2],n=arguments[3],s=arguments[4],o=r=0,a=d,l=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");o=arguments[1],r=arguments[2],a=arguments[3],l=arguments[4],e=arguments[5],i=arguments[6],n=arguments[7],s=arguments[8]}var p=R(this,e,i),f=[],g=y=1;if(f.push(" <g_vml_:group",' coordsize="',10*B,",",10*B,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var m=[],y=(g=this.scaleX_,this.scaleY_);m.push("M11=",this.m_[0][0]/g,",","M12=",this.m_[1][0]/y,",","M21=",this.m_[0][1]/g,",","M22=",this.m_[1][1]/y,",","Dx=",w(p.x/B),",","Dy=",w(p.y/B),"");var v=p,_=R(this,e+n,i),b=R(this,e,i+s),x=R(this,e+n,i+s);v.x=F.max(v.x,_.x,b.x,x.x),v.y=F.max(v.y,_.y,b.y,x.y),f.push("padding:0 ",w(v.x/B),"px ",w(v.y/B),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",m.join(""),", SizingMethod='clip');")}else f.push("top:",w(p.y/B),"px;left:",w(p.x/B),"px;");f.push(' ">'),(o||r)&&f.push('<div style="overflow: hidden; width:',Math.ceil((n+o*n/a)*g),"px;"," height:",Math.ceil((s+r*s/l)*y),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-o*n/a*g,",Dy=",-r*s/l*y,');">'),f.push('<div style="width:',Math.round(g*d*n/a),"px;"," height:",Math.round(y*u*s/l),"px;"," filter:"),this.globalAlpha<1&&f.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")"),f.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",t.src,',sizingMethod=scale)">'),(o||r)&&f.push("</div>"),f.push("</div></div>"),this.element_.insertAdjacentHTML("BeforeEnd",f.join(""))},O.stroke=function(t){var e=[];e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*B,",",10*B,'"',' stroked="',!t,'"',' path="');for(var i={x:null,y:null},n={x:null,y:null},s=0;s<this.currentPath_.length;s++){var o=this.currentPath_[s];switch(o.type){case"moveTo":o,e.push(" m ",w(o.x),",",w(o.y));break;case"lineTo":e.push(" l ",w(o.x),",",w(o.y));break;case"close":e.push(" x "),o=null;break;case"bezierCurveTo":e.push(" c ",w(o.cp1x),",",w(o.cp1y),",",w(o.cp2x),",",w(o.cp2y),",",w(o.x),",",w(o.y));break;case"at":case"wa":e.push(" ",o.type," ",w(o.x-this.scaleX_*o.radius),",",w(o.y-this.scaleY_*o.radius)," ",w(o.x+this.scaleX_*o.radius),",",w(o.y+this.scaleY_*o.radius)," ",w(o.xStart),",",w(o.yStart)," ",w(o.xEnd),",",w(o.yEnd))}o&&((null==i.x||o.x<i.x)&&(i.x=o.x),(null==n.x||o.x>n.x)&&(n.x=o.x),(null==i.y||o.y<i.y)&&(i.y=o.y),(null==n.y||o.y>n.y)&&(n.y=o.y))}e.push(' ">'),t?b(this,e,i,n):_(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},O.fill=function(){this.stroke(!0)},O.closePath=function(){this.currentPath_.push({type:"close"})},O.save=function(){var t={};e(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=a([[1,0,0],[0,1,0],[0,0,1]],this.m_)},O.restore=function(){this.aStack_.length&&(e(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},O.translate=function(t,e){p(this,a([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},O.rotate=function(t){var e=y(t),i=m(t);p(this,a([[e,i,0],[-i,e,0],[0,0,1]],this.m_),!1)},O.scale=function(t,e){p(this,a([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},O.transform=function(t,e,i,n,s,o){p(this,a([[t,e,0],[i,n,0],[s,o,1]],this.m_),!0)},O.setTransform=function(t,e,i,n,s,o){p(this,[[t,e,0],[i,n,0],[s,o,1]],!0)},O.drawText_=function(t,e,i,n,s){var o,r=this.m_,a=0,l=1e3,h={x:0,y:0},c=[],d=function(t,e){var i={};for(var n in t)i[n]=t[n];var s=parseFloat(e.currentStyle.fontSize),o=parseFloat(t.size);return i.size="number"==typeof t.size?t.size:-1!=t.size.indexOf("px")?o:-1!=t.size.indexOf("em")?s*o:-1!=t.size.indexOf("%")?s/100*o:-1!=t.size.indexOf("pt")?o/.75:s,i}(function(t){if(L[t])return L[t];var e,i=document.createElement("div").style;try{i.font=t,e=i.fontFamily.split(",")[0]}catch(t){}return L[t]={style:i.fontStyle||lva.style,variant:i.fontVariant||lva.variant,weight:i.fontWeight||lva.weight,size:i.fontSize||lva.size,family:e||lva.family}}(this.font),this.element_),u=(o=d).style+" "+o.variant+" "+o.weight+" "+o.size+"px '"+o.family+"'",p=this.element_.currentStyle,f=this.textAlign.toLowerCase();switch(f){case"left":case"center":case"right":break;case"end":f="ltr"==p.direction?"right":"left";break;case"start":f="rtl"==p.direction?"right":"left";break;default:f="left"}switch(this.textBaseline){case"hanging":case"top":h.y=d.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":h.y=-d.size/2.25}switch(f){case"right":a=1e3,l=.05;break;case"center":a=l=500}var g=R(this,e+h.x,i+h.y);c.push('<g_vml_:line from="',-a,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!s,'" stroked="',!!s,'" style="position:absolute;width:1px;height:1px;">'),s?_(this,c):b(this,c,{x:-a,y:0},{x:l,y:d.size});var m=r[0][0].toFixed(3)+","+r[1][0].toFixed(3)+","+r[0][1].toFixed(3)+","+r[1][1].toFixed(3)+",0,0",y=w(g.x/B)+","+w(g.y/B);c.push('<g_vml_:skew on="t" matrix="',m,'" ',' offset="',y,'" origin="',a,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',v(t),'" style="v-text-align:',f,";font:",v(u),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},O.fillText=function(t,e,i,n){this.drawText_(t,e,i,n,!1)},O.strokeText=function(t,e,i,n){this.drawText_(t,e,i,n,!0)},O.measureText=function(t){if(!this.textMeasureEl_){this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild}var e=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(t){}return this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},O.clip=function(){},O.arcTo=function(){},O.createPattern=function(t,e){return new N(t,e)},H.prototype.addColorStop=function(t,e){e=P(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})};var I=g.prototype=new Error;I.INDEX_SIZE_ERR=1,I.DOMSTRING_SIZE_ERR=2,I.HIERARCHY_REQUEST_ERR=3,I.WRONG_DOCUMENT_ERR=4,I.INVALID_CHARACTER_ERR=5,I.NO_DATA_ALLOWED_ERR=6,I.NO_MODIFICATION_ALLOWED_ERR=7,I.NOT_FOUND_ERR=8,I.NOT_SUPPORTED_ERR=9,I.INUSE_ATTRIBUTE_ERR=10,I.INVALID_STATE_ERR=11,I.SYNTAX_ERR=12,I.INVALID_MODIFICATION_ERR=13,I.NAMESPACE_ERR=14,I.INVALID_ACCESS_ERR=15,I.VALIDATION_ERR=16,I.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=T,CanvasRenderingContext2D=t,CanvasGradient=H,CanvasPattern=N,DOMException=g}(),G_vmlCanvasManager}),define("zrender/mixin/Eventful",["require"],function(){var t=function(){this._handlers={}};return t.prototype.one=function(t,e,i){var n=this._handlers;return e&&t&&(n[t]||(n[t]=[]),n[t].push({h:e,one:!0,ctx:i||this})),this},t.prototype.bind=function(t,e,i){var n=this._handlers;return e&&t&&(n[t]||(n[t]=[]),n[t].push({h:e,one:!1,ctx:i||this})),this},t.prototype.unbind=function(t,e){var i=this._handlers;if(!t)return this._handlers={},this;if(e){if(i[t]){for(var n=[],s=0,o=i[t].length;s<o;s++)i[t][s].h!=e&&n.push(i[t][s]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.dispatch=function(t){if(this._handlers[t]){var e=arguments,i=e.length;3<i&&(e=Array.prototype.slice.call(e,1));for(var n=this._handlers[t],s=n.length,o=0;o<s;){switch(i){case 1:n[o].h.call(n[o].ctx);break;case 2:n[o].h.call(n[o].ctx,e[1]);break;case 3:n[o].h.call(n[o].ctx,e[1],e[2]);break;default:n[o].h.apply(n[o].ctx,e)}n[o].one?(n.splice(o,1),s--):o++}}return this},t.prototype.dispatchWithContext=function(t){if(this._handlers[t]){var e=arguments,i=e.length;4<i&&(e=Array.prototype.slice.call(e,1,e.length-1));for(var n=e[e.length-1],s=this._handlers[t],o=s.length,r=0;r<o;){switch(i){case 1:s[r].h.call(n);break;case 2:s[r].h.call(n,e[1]);break;case 3:s[r].h.call(n,e[1],e[2]);break;default:s[r].h.apply(n,e)}s[r].one?(s.splice(r,1),o--):r++}}return this},t}),define("zrender/tool/log",["require","../config"],function(t){var e=t("../config");return function(){if(0!==e.debugMode)if(1==e.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(1<e.debugMode)for(var t in arguments)console.log(arguments[t])}}),define("zrender/tool/guid",[],function(){var t=2311;return function(){return"zrender__"+t++}}),define("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(t){"use strict";function o(e,i){return function(t){return e.call(i,t)}}function r(t,e,i){if(this._draggingTarget&&this._draggingTarget.id==t.id||t.isSilent())return!1;var n=this._event;if(t.isCover(e,i)){t.hoverable&&this.storage.addHover(t);for(var s=t.parent;s;){if(s.clipShape&&!s.clipShape.isCover(this._mouseX,this._mouseY))return!1;s=s.parent}return this._lastHover!=t&&(this._processOutShape(n),this._processDragLeave(n),this._lastHover=t,this._processDragEnter(n)),this._processOverShape(n),this._processDragOver(n),this._hasfound=1,!0}return!1}var a,e=t("./config"),l=t("./tool/env"),h=t("./tool/event"),i=t("./tool/util"),c=t("./tool/vector"),d=t("./tool/matrix"),u=e.EVENT,p=t("./mixin/Eventful"),f=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],g={resize:function(t){t=t||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(u.RESIZE,t)},click:function(t){t=this._zrenderEventFixed(t);var e=this._lastHover;(e&&e.clickable||!e)&&this._clickThreshold<5&&this._dispatchAgency(e,u.CLICK,t),this._mousemoveHandler(t)},dblclick:function(t){t=t||window.event,t=this._zrenderEventFixed(t);var e=this._lastHover;(e&&e.clickable||!e)&&this._clickThreshold<5&&this._dispatchAgency(e,u.DBLCLICK,t),this._mousemoveHandler(t)},mousewheel:function(n){var s=0<((n=this._zrenderEventFixed(n)).wheelDelta||-n.detail)?1.1:1/1.1,o=!1,r=this._mouseX,a=this._mouseY;this.painter.eachBuildinLayer(function(t){var e=t.position;if(t.zoomable){t.__zoom=t.__zoom||1;var i=t.__zoom;i*=s,i=Math.max(Math.min(t.maxZoom,i),t.minZoom),s=i/t.__zoom,t.__zoom=i,e[0]-=(r-e[0])*(s-1),e[1]-=(a-e[1])*(s-1),t.scale[0]*=s,t.scale[1]*=s,t.dirty=!0,o=!0,h.stop(n)}}),o&&this.painter.refresh(),this._dispatchAgency(this._lastHover,u.MOUSEWHEEL,n),this._mousemoveHandler(n)},mousemove:function(t){if(!this.painter.isLoading()){t=this._zrenderEventFixed(t),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=h.getX(t),this._mouseY=h.getY(t);var e=this._mouseX-this._lastX,i=this._mouseY-this._lastY;this._processDragStart(t),this._hasfound=0,this._event=t,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(t),this._processDragLeave(t)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var n="default";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,e,i),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget),this._clickThreshold++;else if(this._isMouseDown){var s=!1;this.painter.eachBuildinLayer(function(t){t.panable&&(n="move",t.position[0]+=e,t.position[1]+=i,s=!0,t.dirty=!0)}),s&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?n="move":this._hasfound&&this._lastHover.clickable&&(n="pointer"),this.root.style.cursor=n,this._dispatchAgency(this._lastHover,u.MOUSEMOVE,t),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(t){var e=(t=this._zrenderEventFixed(t)).toElement||t.relatedTarget;if(e!=this.root)for(;e&&9!=e.nodeType;){if(e==this.root)return void this._mousemoveHandler(t);e=e.parentNode}t.zrenderX=this._lastX,t.zrenderY=this._lastY,this.root.style.cursor="default",this._isMouseDown=0,this._processOutShape(t),this._processDrop(t),this._processDragEnd(t),this.painter.isLoading()||this.painter.refreshHover(),this.dispatch(u.GLOBALOUT,t)},mousedown:function(t){return this._clickThreshold=0,2==this._lastDownButton?(this._lastDownButton=t.button,void(this._mouseDownTarget=null)):(this._lastMouseDownMoment=new Date,t=this._zrenderEventFixed(t),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,u.MOUSEDOWN,t),void(this._lastDownButton=t.button))},mouseup:function(t){t=this._zrenderEventFixed(t),this.root.style.cursor="default",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,u.MOUSEUP,t),this._processDrop(t),this._processDragEnd(t)},touchstart:function(t){t=this._zrenderEventFixed(t,!0),this._lastTouchMoment=new Date,this._mobileFindFixed(t),this._mousedownHandler(t)},touchmove:function(t){t=this._zrenderEventFixed(t,!0),this._mousemoveHandler(t),this._isDragging&&h.stop(t)},touchend:function(t){t=this._zrenderEventFixed(t,!0),this._mouseupHandler(t);var e=new Date;e-this._lastTouchMoment<u.touchClickDelay&&(this._mobileFindFixed(t),this._clickHandler(t),e-this._lastClickMoment<u.touchClickDelay/2&&(this._dblclickHandler(t),this._lastHover&&this._lastHover.clickable&&h.stop(t)),this._lastClickMoment=e),this.painter.clearHover()}},n=function(t,e,i){var n,s;p.call(this),this.root=t,this.storage=e,this.painter=i,this._lastX=this._lastY=this._mouseX=this._mouseY=0,this._findHover=(n=r,s=this,function(t,e,i){return n.call(s,t,e,i)}),this._domHover=i.getDomHover(),function(t){for(var e=f.length;e--;){var i=f[e];t["_"+i+"Handler"]=o(g[i],t)}}(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),l.os.tablet||l.os.phone?(t.addEventListener("touchstart",this._touchstartHandler),t.addEventListener("touchmove",this._touchmoveHandler),t.addEventListener("touchend",this._touchendHandler)):(t.addEventListener("click",this._clickHandler),t.addEventListener("dblclick",this._dblclickHandler),t.addEventListener("mousewheel",this._mousewheelHandler),t.addEventListener("mousemove",this._mousemoveHandler),t.addEventListener("mousedown",this._mousedownHandler),t.addEventListener("mouseup",this._mouseupHandler)),t.addEventListener("DOMMouseScroll",this._mousewheelHandler),t.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),t.attachEvent("onclick",this._clickHandler),t.ondblclick=this._dblclickHandler,t.attachEvent("onmousewheel",this._mousewheelHandler),t.attachEvent("onmousemove",this._mousemoveHandler),t.attachEvent("onmouseout",this._mouseoutHandler),t.attachEvent("onmousedown",this._mousedownHandler),t.attachEvent("onmouseup",this._mouseupHandler))};n.prototype.on=function(t,e,i){return this.bind(t,e,i),this},n.prototype.un=function(t,e){return this.unbind(t,e),this},n.prototype.trigger=function(t,e){switch(t){case u.RESIZE:case u.CLICK:case u.DBLCLICK:case u.MOUSEWHEEL:case u.MOUSEMOVE:case u.MOUSEDOWN:case u.MOUSEUP:case u.MOUSEOUT:this["_"+t+"Handler"](e)}},n.prototype.dispose=function(){var t=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),l.os.tablet||l.os.phone?(t.removeEventListener("touchstart",this._touchstartHandler),t.removeEventListener("touchmove",this._touchmoveHandler),t.removeEventListener("touchend",this._touchendHandler)):(t.removeEventListener("click",this._clickHandler),t.removeEventListener("dblclick",this._dblclickHandler),t.removeEventListener("mousewheel",this._mousewheelHandler),t.removeEventListener("mousemove",this._mousemoveHandler),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("mouseup",this._mouseupHandler)),t.removeEventListener("DOMMouseScroll",this._mousewheelHandler),t.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),t.detachEvent("onclick",this._clickHandler),t.detachEvent("dblclick",this._dblclickHandler),t.detachEvent("onmousewheel",this._mousewheelHandler),t.detachEvent("onmousemove",this._mousemoveHandler),t.detachEvent("onmouseout",this._mouseoutHandler),t.detachEvent("onmousedown",this._mousedownHandler),t.detachEvent("onmouseup",this._mouseupHandler)),this.root=this._domHover=this.storage=this.painter=null,this.un()},n.prototype._processDragStart=function(t){var e=this._lastHover;if(this._isMouseDown&&e&&e.draggable&&!this._draggingTarget&&this._mouseDownTarget==e){if(e.dragEnableTime&&new Date-this._lastMouseDownMoment<e.dragEnableTime)return;var i=e;this._draggingTarget=i,this._isDragging=1,i.invisible=!0,this.storage.mod(i.id),this._dispatchAgency(i,u.DRAGSTART,t),this.painter.refresh()}},n.prototype._processDragEnter=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,u.DRAGENTER,t,this._draggingTarget)},n.prototype._processDragOver=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,u.DRAGOVER,t,this._draggingTarget)},n.prototype._processDragLeave=function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,u.DRAGLEAVE,t,this._draggingTarget)},n.prototype._processDrop=function(t){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,u.DROP,t,this._draggingTarget))},n.prototype._processDragEnd=function(t){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,u.DRAGEND,t),this._lastHover=null),this._isDragging=0,this._draggingTarget=null},n.prototype._processOverShape=function(t){this._dispatchAgency(this._lastHover,u.MOUSEOVER,t)},n.prototype._processOutShape=function(t){this._dispatchAgency(this._lastHover,u.MOUSEOUT,t)},n.prototype._dispatchAgency=function(t,e,i,n){var s="on"+e,o={type:e,event:i,target:t,cancelBubble:!1},r=t;for(n&&(o.dragged=n);r&&(r[s]&&(o.cancelBubble=r[s](o)),r.dispatch(e,o),r=r.parent,!o.cancelBubble););if(t)o.cancelBubble||this.dispatch(e,o);else if(!n){var a={type:e,event:i};this.dispatch(e,a),this.painter.eachOtherLayer(function(t){"function"==typeof t[s]&&t[s](a),t.dispatch&&t.dispatch(e,a)})}},n.prototype._iterateAndFindHover=(a=d.create(),function(){for(var t,e=this.storage.getShapeList(),i=[0,0],n=e.length-1;0<=n;n--){var s=e[n];if(void 0!==s.zlevel&&(t=this.painter.getLayer(s.zlevel,t),i[0]=this._mouseX,i[1]=this._mouseY,t.needTransform&&(d.invert(a,t.transform),c.applyTransform(i,i,a))),this._findHover(s,i[0],i[1]))break}});var s=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return n.prototype._mobileFindFixed=function(t){this._lastHover=null,this._mouseX=t.zrenderX,this._mouseY=t.zrenderY,this._event=t,this._iterateAndFindHover();for(var e=0;!this._lastHover&&e<s.length;e++){var i=s[e];i.x&&(this._mouseX+=i.x),i.y&&(this._mouseY+=i.y),this._iterateAndFindHover()}this._lastHover&&(t.zrenderX=this._mouseX,t.zrenderY=this._mouseY)},n.prototype._zrenderEventFixed=function(t,e){if(t.zrenderFixed)return t;if(e){var i="touchend"!=t.type?t.targetTouches[0]:t.changedTouches[0];if(i){var n=this.painter._domRoot.getBoundingClientRect();t.zrenderX=i.clientX-n.left,t.zrenderY=i.clientY-n.top}}else{var s=(t=t||window.event).toElement||t.relatedTarget||t.srcElement||t.target;s&&s!=this._domHover&&(t.zrenderX=(void 0!==t.offsetX?t.offsetX:t.layerX)+s.offsetLeft,t.zrenderY=(void 0!==t.offsetY?t.offsetY:t.layerY)+s.offsetTop)}return t.zrenderFixed=1,t},i.merge(n.prototype,p.prototype,!0),n}),define("zrender/Painter",["require","./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(h){"use strict";function s(){return!1}function t(){}var l=h("./config"),n=h("./tool/util"),c=h("./tool/log"),o=h("./loadingEffect/Base"),a=h("./Layer"),e=function(t,e){(this.root=t).style["-webkit-tap-highlight-color"]="transparent",t.style["-webkit-user-select"]="none",t.style["user-select"]="none",t.style["-webkit-touch-callout"]="none",this.storage=e,t.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var i=document.createElement("div");(this._domRoot=i).style.position="relative",i.style.overflow="hidden",i.style.width=this._width+"px",i.style.height=this._height+"px",t.appendChild(i),this._layers={},this._zlevelList=[],this._layerConfig={},this._loadingEffect=new o({}),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=document.createElement("div"),this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join(""),this._bgDom.setAttribute("data-zr-dom-id","bg"),i.appendChild(this._bgDom),this._bgDom.onselectstart=s;var n=new a("_zrender_hover_",this);this._layers.hover=n,i.appendChild(n.dom),n.initContext(),n.dom.onselectstart=s,n.dom.style["-webkit-user-select"]="none",n.dom.style["user-select"]="none",n.dom.style["-webkit-touch-callout"]="none",this.refreshNextFrame=null};return e.prototype.render=function(t){return this.isLoading()&&this.hideLoading(),this.refresh(t,!0),this},e.prototype.refresh=function(t,e){var i=this.storage.getShapeList(!0);this._paintList(i,e);for(var n=0;n<this._zlevelList.length;n++){var s=this._zlevelList[n],o=this._layers[s];!o.isBuildin&&o.refresh&&o.refresh()}return"function"==typeof t&&t(),this},e.prototype._preProcessLayer=function(t){t.unusedCount++,t.updateTransform()},e.prototype._postProcessLayer=function(t){t.dirty=!1,1==t.unusedCount&&t.clear()},e.prototype._paintList=function(t,e){var i,n,s;void 0===e&&(e=!1),this._updateLayerStatus(t),this.eachBuildinLayer(this._preProcessLayer);for(var o=0,r=t.length;o<r;o++){var a=t[o];if(n!==a.zlevel&&(i&&(i.needTransform&&s.restore(),s.flush&&s.flush()),n=a.zlevel,(i=this.getLayer(n)).isBuildin||c("ZLevel "+n+" has been used by unkown layer "+i.id),s=i.ctx,i.unusedCount=0,(i.dirty||e)&&i.clear(),i.needTransform&&(s.save(),i.setTransform(s))),(i.dirty||e)&&!a.invisible&&(!a.onbrush||a.onbrush&&!a.onbrush(s,!1)))if(l.catchBrushException)try{a.brush(s,!1,this.refreshNextFrame)}catch(t){c(t,"brush error of "+a.type,a)}else a.brush(s,!1,this.refreshNextFrame);a.__dirty=!1}i&&(i.needTransform&&s.restore(),s.flush&&s.flush()),this.eachBuildinLayer(this._postProcessLayer)},e.prototype.getLayer=function(t){var e=this._layers[t];return e||((e=new a(t,this)).isBuildin=!0,this._layerConfig[t]&&n.merge(e,this._layerConfig[t],!0),e.updateTransform(),this.insertLayer(t,e),e.initContext()),e},e.prototype.insertLayer=function(t,e){if(this._layers[t])c("ZLevel "+t+" has been used already");else if((i=e)&&(i.isBuildin||"function"==typeof i.resize&&"function"==typeof i.refresh)){var i,n=this._zlevelList.length,s=null,o=-1;if(0<n&&t>this._zlevelList[0]){for(o=0;o<n-1&&!(this._zlevelList[o]<t&&this._zlevelList[o+1]>t);o++);s=this._layers[this._zlevelList[o]]}this._zlevelList.splice(o+1,0,t);var r=s?s.dom:this._bgDom;r.nextSibling?r.parentNode.insertBefore(e.dom,r.nextSibling):r.parentNode.appendChild(e.dom),this._layers[t]=e}else c("Layer of zlevel "+t+" is not valid")},e.prototype.eachLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];t.call(e,this._layers[n],n)}},e.prototype.eachBuildinLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i],s=this._layers[n];s.isBuildin&&t.call(e,s,n)}},e.prototype.eachOtherLayer=function(t,e){for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i],s=this._layers[n];s.isBuildin||t.call(e,s,n)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){var e=this._layers,i={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0});for(var n=0,s=t.length;n<s;n++){var o=t[n],r=e[o.zlevel];if(r){if(r.elCount++,r.dirty)continue;r.dirty=o.__dirty}}this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.dirty=!0)})},e.prototype.refreshShapes=function(t,e){for(var i=0,n=t.length;i<n;i++){t[i].modSelf()}return this.refresh(e),this},e.prototype.setLoadingEffect=function(t){return this._loadingEffect=t,this},e.prototype.clear=function(){return this.eachBuildinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.modLayer=function(t,e){if(e){this._layerConfig[t]?n.merge(this._layerConfig[t],e,!0):this._layerConfig[t]=e;var i=this._layers[t];i&&n.merge(i,this._layerConfig[t],!0)}},e.prototype.delLayer=function(t){var e=this._layers[t];e&&(this.modLayer(t,{position:e.position,rotation:e.rotation,scale:e.scale}),e.dom.parentNode.removeChild(e.dom),delete this._layers[t],this._zlevelList.splice(n.indexOf(this._zlevelList,t),1))},e.prototype.refreshHover=function(){this.clearHover();for(var t=this.storage.getHoverShapes(!0),e=0,i=t.length;e<i;e++)this._brushHover(t[e]);var n=this._layers.hover.ctx;return n.flush&&n.flush(),this.storage.delHover(),this},e.prototype.clearHover=function(){var t=this._layers.hover;return t&&t.clear(),this},e.prototype.showLoading=function(t){return this._loadingEffect&&this._loadingEffect.stop(),t&&this.setLoadingEffect(t),this._loadingEffect.start(this),this.loading=!0,this},e.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},e.prototype.isLoading=function(){return this.loading},e.prototype.resize=function(){var t=this._domRoot;t.style.display="none";var e=this._getWidth(),i=this._getHeight();if(t.style.display="",this._width!=e||i!=this._height){for(var n in this._width=e,this._height=i,t.style.width=e+"px",t.style.height=i+"px",this._layers)this._layers[n].resize(e,i);this.refresh(null,!0)}return this},e.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},e.prototype.dispose=function(){this.isLoading()&&this.hideLoading(),this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getDomHover=function(){return this._layers.hover.dom},e.prototype.toDataURL=function(t,e,i){if(window.G_vmlCanvasManager)return null;var n=new a("image",this);this._bgDom.appendChild(n.dom),n.initContext();var s=n.ctx;n.clearColor=e||"#fff",n.clear();var o=this;this.storage.iterShape(function(e){if(!e.invisible&&(!e.onbrush||e.onbrush&&!e.onbrush(s,!1)))if(l.catchBrushException)try{e.brush(s,!1,o.refreshNextFrame)}catch(t){c(t,"brush error of "+e.type,e)}else e.brush(s,!1,o.refreshNextFrame)},{normal:"up",update:!0});var r=n.dom.toDataURL(t,i);return s=null,this._bgDom.removeChild(n.dom),r},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype._getWidth=function(){var t=this.root,e=t.currentStyle||document.defaultView.getComputedStyle(t);return((t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10)).toFixed(0)-0},e.prototype._getHeight=function(){var t=this.root,e=t.currentStyle||document.defaultView.getComputedStyle(t);return((t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)).toFixed(0)-0},e.prototype._brushHover=function(e){var t=this._layers.hover.ctx;if(!e.onbrush||e.onbrush&&!e.onbrush(t,!0)){var i=this.getLayer(e.zlevel);if(i.needTransform&&(t.save(),i.setTransform(t)),l.catchBrushException)try{e.brush(t,!0,this.refreshNextFrame)}catch(t){c(t,"hoverBrush error of "+e.type,e)}else e.brush(t,!0,this.refreshNextFrame);i.needTransform&&t.restore()}},e.prototype._shapeToImage=function(t,e,i,n,s){var o=document.createElement("canvas"),r=o.getContext("2d");o.style.width=i+"px",o.style.height=n+"px",o.setAttribute("width",i*s),o.setAttribute("height",n*s),r.clearRect(0,0,i*s,n*s);var a={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(r,!1);var l=new(h("./shape/Image"))({id:t,style:{x:0,y:0,image:o}});return null!=a.position&&(l.position=e.position=a.position),null!=a.rotation&&(l.rotation=e.rotation=a.rotation),null!=a.scale&&(l.scale=e.scale=a.scale),l},e.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager)return t;var s=this;return function(t,e,i,n){return s._shapeToImage(t,e,i,n,l.devicePixelRatio)}},e}),define("zrender/Storage",["require","./tool/util","./Group"],function(t){"use strict";function l(t,e){return t.zlevel==e.zlevel?t.z==e.z?t.__renderidx-e.__renderidx:t.z-e.z:t.zlevel-e.zlevel}var r=t("./tool/util"),a=t("./Group"),o={hover:!1,normal:"down",update:!1},e=function(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0};return e.prototype.iterShape=function(t,e){if(e||(e=o),e.hover)for(var i=0,n=this._hoverElements.length;i<n;i++){var s=this._hoverElements[i];if(s.updateTransform(),t(s))return this}switch(e.update&&this.updateShapeList(),e.normal){case"down":for(n=this._shapeList.length;n--;)if(t(this._shapeList[n]))return this;break;default:for(i=0,n=this._shapeList.length;i<n;i++)if(t(this._shapeList[i]))return this}return this},e.prototype.getHoverShapes=function(t){for(var e=[],i=0,n=this._hoverElements.length;i<n;i++){e.push(this._hoverElements[i]);var s=this._hoverElements[i].hoverConnect;if(s)for(var o,r=0,a=(s=s instanceof Array?s:[s]).length;r<a;r++)(o=s[r].id?s[r]:this.get(s[r]))&&e.push(o)}if(e.sort(l),t)for(i=0,n=e.length;i<n;i++)e[i].updateTransform();return e},e.prototype.getShapeList=function(t){return t&&this.updateShapeList(),this._shapeList},e.prototype.updateShapeList=function(){for(var t=this._shapeListOffset=0,e=this._roots.length;t<e;t++){var i=this._roots[t];this._updateAndAddShape(i)}this._shapeList.length=this._shapeListOffset;for(t=0,e=this._shapeList.length;t<e;t++)this._shapeList[t].__renderidx=t;this._shapeList.sort(l)},e.prototype._updateAndAddShape=function(t,e){if(!t.ignore)if(t.updateTransform(),"group"==t.type){t.clipShape&&((t.clipShape.parent=t).clipShape.updateTransform(),e?(e=e.slice()).push(t.clipShape):e=[t.clipShape]);for(var i=0;i<t._children.length;i++){var n=t._children[i];n.__dirty=t.__dirty||n.__dirty,this._updateAndAddShape(n,e)}t.__dirty=!1}else t.__clipShapes=e,this._shapeList[this._shapeListOffset++]=t},e.prototype.mod=function(t,e){if("string"==typeof t&&(t=this._elements[t]),t&&(t.modSelf(),e))if(e.parent||e._storage||e.__clipShapes){var i={};for(var n in e)"parent"!==n&&"_storage"!==n&&"__clipShapes"!==n&&e.hasOwnProperty(n)&&(i[n]=e[n]);r.merge(t,i,!0)}else r.merge(t,e,!0);return this},e.prototype.drift=function(t,e,i){var n=this._elements[t];return n&&(n.needTransform=!0,"horizontal"===n.draggable?i=0:"vertical"===n.draggable&&(e=0),(!n.ondrift||n.ondrift&&!n.ondrift(e,i))&&n.drift(e,i)),this},e.prototype.addHover=function(t){return t.updateNeedTransform(),this._hoverElements.push(t),this},e.prototype.delHover=function(){return this._hoverElements=[],this},e.prototype.hasHoverShape=function(){return 0<this._hoverElements.length},e.prototype.addRoot=function(t){this._elements[t.id]||(t instanceof a&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},e.prototype.delRoot=function(t){if(void 0===t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof a&&i.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],void(this._shapeListOffset=0)}if(t instanceof Array){e=0;for(var n=t.length;e<n;e++)this.delRoot(t[e])}else{var s;s="string"==typeof t?this._elements[t]:t;var o=r.indexOf(this._roots,s);0<=o&&(this.delFromMap(s.id),this._roots.splice(o,1),s instanceof a&&s.delChildrenFromStorage(this))}},e.prototype.addToMap=function(t){return t instanceof a&&(t._storage=this),t.modSelf(),this._elements[t.id]=t,this},e.prototype.get=function(t){return this._elements[t]},e.prototype.delFromMap=function(t){var e=this._elements[t];return e&&(delete this._elements[t],e instanceof a&&(e._storage=null)),this},e.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},e}),define("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(t){"use strict";function s(t,e){return t[e]}function o(t,e,i){t[e]=i}function M(t,e,i){return(e-t)*i+t}function z(t,e,i,n,s){var o=t.length;if(1==s)for(var r=0;r<o;r++)n[r]=M(t[r],e[r],i);else{var a=t[0].length;for(r=0;r<o;r++)for(var l=0;l<a;l++)n[r][l]=M(t[r][l],e[r][l],i)}}function A(t){switch(typeof t){case"undefined":case"string":return!1}return void 0!==t.length}function D(t,e,i,n,s,o,r,a,l){var h=t.length;if(1==l)for(var c=0;c<h;c++)a[c]=L(t[c],e[c],i[c],n[c],s,o,r);else{var d=t[0].length;for(c=0;c<h;c++)for(var u=0;u<d;u++)a[c][u]=L(t[c][u],e[c][u],i[c][u],n[c][u],s,o,r)}}function L(t,e,i,n,s,o,r){var a=.5*(i-t),l=.5*(n-e);return(2*(e-i)+a+l)*r+(-3*(e-i)-2*a-l)*o+a*s+e}function n(t){if(A(t)){var e=t.length;if(A(t[0])){for(var i=[],n=0;n<e;n++)i.push(a.call(t[n]));return i}return a.call(t)}return t}function $(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}var O=t("./Clip"),I=t("../tool/color"),i=t("../tool/util"),e=t("../tool/event").Dispatcher,r=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},a=Array.prototype.slice,l=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,e.call(this)};l.prototype={add:function(t){this._clips.push(t)},remove:function(t){var e=i.indexOf(this._clips,t);0<=e&&this._clips.splice(e,1)},_update:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,n=i.length,s=[],o=[],r=0;r<n;r++){var a=i[r],l=a.step(t);l&&(s.push(l),o.push(a))}for(r=0;r<n;)i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;n=s.length;for(r=0;r<n;r++)o[r].fire(s[r]);this._time=t,this.onframe(e),this.dispatch("frame",e),this.stage.update&&this.stage.update()},start:function(){var e=this;this._running=!0,this._time=(new Date).getTime(),r(function t(){e._running&&(r(t),e._update())})},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,e){var i=new h(t,(e=e||{}).loop,e.getter,e.setter);return i.animation=this,i},constructor:l},i.merge(l.prototype,e.prototype,!0);var h=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||s,this._setter=n||o,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return h.prototype={when:function(t,e){for(var i in e)this._tracks[i]||(this._tracks[i]=[],0!==t&&this._tracks[i].push({time:0,value:n(this._getter(this._target,i))})),this._tracks[i].push({time:parseInt(t,10),value:e[i]});return this},during:function(t){return this._onframeList.push(t),this},start:function(w){var C=this,k=this._setter,S=this._getter,T="spline"===w,E=function(){if(C._clipCount--,0===C._clipCount){C._tracks={};for(var t=C._doneList.length,e=0;e<t;e++)C._doneList[e].call(C)}},t=function(t,s){var o=t.length;if(o){var e,i=t[0].value,r=A(i),a=!1,l=r&&A(i[0])?2:1;if(t.sort(function(t,e){return t.time-e.time}),o){e=t[o-1].time;for(var h=[],c=[],d=0;d<o;d++){h.push(t[d].time/e);var n=t[d].value;"string"==typeof n&&(0===(n=I.toArray(n)).length&&(n[0]=n[1]=n[2]=0,n[3]=1),a=!0),c.push(n)}var u,p,f,g,m,y,v=0,_=0;if(a)var b=[0,0,0,0];var x=new O({target:C._target,life:e,loop:C._loop,delay:C._delay,onframe:function(t,e){if(e<_){for(u=Math.min(v+1,o-1),d=u;0<=d&&!(h[d]<=e);d--);d=Math.min(d,o-2)}else{for(d=v;d<o&&!(h[d]>e);d++);d=Math.min(d-1,o-2)}_=e;var i=h[(v=d)+1]-h[d];if(0!==i){if(p=(e-h[d])/i,T)g=c[d],f=c[0===d?d:d-1],m=c[o-2<d?o-1:d+1],y=c[o-3<d?o-1:d+2],r?D(f,g,m,y,p,p*p,p*p*p,S(t,s),l):(n=a?(n=D(f,g,m,y,p,p*p,p*p*p,b,1),$(b)):L(f,g,m,y,p,p*p,p*p*p),k(t,s,n));else if(r)z(c[d],c[d+1],p,S(t,s),l);else{var n;n=a?(z(c[d],c[d+1],p,b,1),$(b)):M(c[d],c[d+1],p),k(t,s,n)}for(d=0;d<C._onframeList.length;d++)C._onframeList[d](t,e)}},ondestroy:E});w&&"spline"!==w&&(x.easing=w),C._clipList.push(x),C._clipCount++,C.animation.add(x)}}};for(var e in this._tracks)t(this._tracks[e],e);return this},stop:function(){for(var t=0;t<this._clipList.length;t++){var e=this._clipList[t];this.animation.remove(e)}this._clipList=[]},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this}},l}),define("zrender/tool/vector",[],function(){var n="undefined"==typeof Float32Array?Array:Float32Array,s={create:function(t,e){var i=new n(2);return i[0]=t||0,i[1]=e||0,i},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new n(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,e){var i=s.len(e);return t[1]=0===i?t[0]=0:(t[0]=e[0]/i,e[1]/i),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:function(t,e,i){var n=e[0],s=e[1];return t[0]=i[0]*n+i[2]*s+i[4],t[1]=i[1]*n+i[3]*s+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};return s.length=s.len,s.lengthSquare=s.lenSquare,s.dist=s.distance,s.distSquare=s.distanceSquare,s}),define("zrender/tool/matrix",[],function(){var e="undefined"==typeof Float32Array?Array:Float32Array,i={create:function(){var t=new e(6);return i.identity(t),t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){return t[0]=e[0]*i[0]+e[2]*i[1],t[1]=e[1]*i[0]+e[3]*i[1],t[2]=e[0]*i[2]+e[2]*i[3],t[3]=e[1]*i[2]+e[3]*i[3],t[4]=e[0]*i[4]+e[2]*i[5]+e[4],t[5]=e[1]*i[4]+e[3]*i[5]+e[5],t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var n=e[0],s=e[2],o=e[4],r=e[1],a=e[3],l=e[5],h=Math.sin(i),c=Math.cos(i);return t[0]=n*c+r*h,t[1]=-n*h+r*c,t[2]=s*c+a*h,t[3]=-s*h+c*a,t[4]=c*o+h*l,t[5]=c*l-h*o,t},scale:function(t,e,i){var n=i[0],s=i[1];return t[0]=e[0]*n,t[1]=e[1]*s,t[2]=e[2]*n,t[3]=e[3]*s,t[4]=e[4]*n,t[5]=e[5]*s,t},invert:function(t,e){var i=e[0],n=e[2],s=e[4],o=e[1],r=e[3],a=e[5],l=i*r-o*n;return l?(l=1/l,t[0]=r*l,t[1]=-o*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*a-r*s)*l,t[5]=(o*s-i*a)*l,t):null},mulVector:function(t,e,i){var n=e[0],s=e[2],o=e[4],r=e[1],a=e[3],l=e[5];return t[0]=i[0]*n+i[1]*s+o,t[1]=i[0]*r+i[1]*a+l,t}};return i}),define("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(t){function e(t){this.setOptions(t)}var i=t("../tool/util"),n=t("../shape/Text"),s=t("../shape/Rectangle");return e.prototype.createTextShape=function(t){return new n({highlightStyle:i.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:"Loading...",textAlign:"center",textBaseline:"middle",textFont:"normal 16px Arial",color:"#333",brushType:"fill"},t,!0)})},e.prototype.createBackgroundShape=function(t){return new s({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:t}})},e.prototype.start=function(e){this.canvasWidth=e._width,this.canvasHeight=e._height,this.loadingTimer=this._start(function(t){e.storage.addHover(t)},function(){e.refreshHover()})},e.prototype._start=function(){return setInterval(function(){},1e4)},e.prototype.stop=function(){clearInterval(this.loadingTimer)},e.prototype.setOptions=function(t){this.options=t||{}},e.prototype.adjust=function(t,e){return t<=e[0]?t=e[0]:t>=e[1]&&(t=e[1]),t},e.prototype.getLocation=function(t,e,i){var n=null!=t.x?t.x:"center";switch(n){case"center":n=Math.floor((this.canvasWidth-e)/2);break;case"left":n=0;break;case"right":n=this.canvasWidth-e}var s=null!=t.y?t.y:"center";switch(s){case"center":s=Math.floor((this.canvasHeight-i)/2);break;case"top":s=0;break;case"bottom":s=this.canvasHeight-i}return{x:n,y:s,width:e,height:i}},e}),define("zrender/Layer",["require","./mixin/Transformable","./tool/util","./config"],function(t){function i(){return!1}function n(t,e,i){var n=document.createElement(e),s=i.getWidth(),o=i.getHeight();return n.style.position="absolute",n.style.left=0,n.style.top=0,n.style.width=s+"px",n.style.height=o+"px",n.width=s*c.devicePixelRatio,n.height=o*c.devicePixelRatio,n.setAttribute("data-zr-dom-id",t),n}var s=t("./mixin/Transformable"),e=t("./tool/util"),h=window.G_vmlCanvasManager,c=t("./config"),o=function(t,e){this.id=t,this.dom=n(t,"canvas",e),this.dom.onselectstart=i,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",h&&h.initElement(this.dom),this.domBack=null,this.ctxBack=null,this.painter=e,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,s.call(this)};return o.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var t=c.devicePixelRatio;1!=t&&this.ctx.scale(t,t)},o.prototype.createBackBuffer=function(){if(!h){this.domBack=n("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d");var t=c.devicePixelRatio;1!=t&&this.ctxBack.scale(t,t)}},o.prototype.resize=function(t,e){var i=c.devicePixelRatio;this.dom.style.width=t+"px",this.dom.style.height=e+"px",this.dom.setAttribute("width",t*i),this.dom.setAttribute("height",e*i),1!=i&&this.ctx.scale(i,i),this.domBack&&(this.domBack.setAttribute("width",t*i),this.domBack.setAttribute("height",e*i),1!=i&&this.ctxBack.scale(i,i))},o.prototype.clear=function(){var t=this.dom,e=this.ctx,i=t.width,n=t.height,s=this.clearColor&&!h,o=this.motionBlur&&!h,r=this.lastFrameAlpha,a=c.devicePixelRatio;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/a,n/a)),e.clearRect(0,0,i/a,n/a),s&&(e.save(),e.fillStyle=this.clearColor,e.fillRect(0,0,i/a,n/a),e.restore()),o){var l=this.domBack;e.save(),e.globalAlpha=r,e.drawImage(l,0,0,i/a,n/a),e.restore()}},e.merge(o.prototype,s.prototype),o}),define("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(t){var c=t("../tool/area"),e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"text",brush:function(t,e){var i=this.style;if(e&&(i=this.getHighlightStyle(i,this.highlightStyle||{})),void 0!==i.text&&!1!==i.text){t.save(),this.doClip(t),this.setContext(t,i),this.setTransform(t),i.textFont&&(t.font=i.textFont),t.textAlign=i.textAlign||"start",t.textBaseline=i.textBaseline||"middle";var n,s=(i.text+"").split("\n"),o=c.getTextHeight("",i.textFont),r=this.getRect(i),a=i.x;n="top"==i.textBaseline?r.y:"bottom"==i.textBaseline?r.y+o:r.y+o/2;for(var l=0,h=s.length;l<h;l++){if(i.maxWidth)switch(i.brushType){case"fill":t.fillText(s[l],a,n,i.maxWidth);break;case"stroke":t.strokeText(s[l],a,n,i.maxWidth);break;case"both":t.fillText(s[l],a,n,i.maxWidth),t.strokeText(s[l],a,n,i.maxWidth);break;default:t.fillText(s[l],a,n,i.maxWidth)}else switch(i.brushType){case"fill":t.fillText(s[l],a,n);break;case"stroke":t.strokeText(s[l],a,n);break;case"both":t.fillText(s[l],a,n),t.strokeText(s[l],a,n);break;default:t.fillText(s[l],a,n)}n+=o}t.restore()}},getRect:function(t){if(t.__rect)return t.__rect;var e,i=c.getTextWidth(t.text,t.textFont),n=c.getTextHeight(t.text,t.textFont),s=t.x;return"end"==t.textAlign||"right"==t.textAlign?s-=i:"center"==t.textAlign&&(s-=i/2),e="top"==t.textBaseline?t.y:"bottom"==t.textBaseline?t.y-n:t.y-n/2,t.__rect={x:s,y:e,width:i,height:n},t.__rect}},t("../tool/util").inherits(i,e),i}),define("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(t){var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"rectangle",_buildRadiusPath:function(t,e){var i,n,s,o,r,a=e.x,l=e.y,h=e.width,c=e.height,d=e.radius;"number"==typeof d?i=n=s=o=d:d instanceof Array?1===d.length?i=n=s=o=d[0]:2===d.length?(i=s=d[0],n=o=d[1]):3===d.length?(i=d[0],n=o=d[1],s=d[2]):(i=d[0],n=d[1],s=d[2],o=d[3]):i=n=s=o=0,h<i+n&&(i*=h/(r=i+n),n*=h/r),h<s+o&&(s*=h/(r=s+o),o*=h/r),c<n+s&&(n*=c/(r=n+s),s*=c/r),c<i+o&&(i*=c/(r=i+o),o*=c/r),t.moveTo(a+i,l),t.lineTo(a+h-n,l),0!==n&&t.quadraticCurveTo(a+h,l,a+h,l+n),t.lineTo(a+h,l+c-s),0!==s&&t.quadraticCurveTo(a+h,l+c,a+h-s,l+c),t.lineTo(a+o,l+c),0!==o&&t.quadraticCurveTo(a,l+c,a,l+c-o),t.lineTo(a,l+i),0!==i&&t.quadraticCurveTo(a,l,a+i,l)},buildPath:function(t,e){e.radius?this._buildRadiusPath(t,e):(t.moveTo(e.x,e.y),t.lineTo(e.x+e.width,e.y),t.lineTo(e.x+e.width,e.y+e.height),t.lineTo(e.x,e.y+e.height),t.lineTo(e.x,e.y)),t.closePath()},getRect:function(t){return t.__rect||(e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-e/2),y:Math.round(t.y-e/2),width:t.width+e,height:t.height+e}),t.__rect;var e}},t("../tool/util").inherits(i,e),i}),define("zrender/tool/area",["require","./util","./curve"],function(t){"use strict";function f(t){return(t%=w)<0&&(t+=w),t}function s(t,e,i,n){if(!e||!t)return!1;var s=t.type;d=d||u.getContext();var o,r,a,l,h,c=function(t,e,i,n){switch(t.type){case"bezier-curve":return void 0===e.cpX2?M(e.xStart,e.yStart,e.cpX1,e.cpY1,e.xEnd,e.yEnd,e.lineWidth,i,n):E(e.xStart,e.yStart,e.cpX1,e.cpY1,e.cpX2,e.cpY2,e.xEnd,e.yEnd,e.lineWidth,i,n);case"line":return T(e.xStart,e.yStart,e.xEnd,e.yEnd,e.lineWidth,i,n);case"polyline":return g(e.pointList,e.lineWidth,i,n);case"ring":return a=e.x,l=e.y,h=e.r0,c=e.r,(p=((d=i)-a)*(d-a)+((u=n)-l)*(u-l))<c*c&&h*h<p;case"circle":return y(e.x,e.y,e.r,i,n);case"sector":var s=e.startAngle*Math.PI/180,o=e.endAngle*Math.PI/180;return e.clockWise||(s=-s,o=-o),v(e.x,e.y,e.r0,e.r,s,o,!e.clockWise,i,n);case"path":return e.pathArray&&b(e.pathArray,Math.max(e.lineWidth,5),e.brushType,i,n);case"polygon":case"star":case"isogon":return _(e.pointList,i,n);case"text":var r=e.__rect||t.getRect(e);return m(r.x,r.y,r.width,r.height,i,n);case"rectangle":case"image":return m(e.x,e.y,e.width,e.height,i,n)}var a,l,h,c,d,u,p}(t,e,i,n);if(void 0!==c)return c;if(t.buildPath&&d.isPointInPath)return o=t,a=e,l=i,h=n,(r=d).beginPath(),o.buildPath(r,a),r.closePath(),r.isPointInPath(l,h);switch(s){case"ellipse":return!0;case"trochoid":return y(e,i,n,"out"==e.location?e.r1+e.r2+e.d:e.r1-e.r2+e.d);case"rose":return y(e,i,n,e.maxr);default:return!1}}function T(t,e,i,n,s,o,r){if(0===s)return!1;var a,l=Math.max(s,5);if(e+l<r&&n+l<r||r<e-l&&r<n-l||t+l<o&&i+l<o||o<t-l&&o<i-l)return!1;if(t===i)return Math.abs(o-t)<=l/2;var h=(a=(e-n)/(t-i))*o-r+(t*n-i*e)/(t-i);return h*h/(a*a+1)<=l/2*l/2}function E(t,e,i,n,s,o,r,a,l,h,c){if(0===l)return!1;var d=Math.max(l,5);return!(e+d<c&&n+d<c&&o+d<c&&a+d<c||c<e-d&&c<n-d&&c<o-d&&c<a-d||t+d<h&&i+d<h&&s+d<h&&r+d<h||h<t-d&&h<i-d&&h<s-d&&h<r-d)&&x.cubicProjectPoint(t,e,i,n,s,o,r,a,h,c,null)<=d/2}function M(t,e,i,n,s,o,r,a,l){if(0===r)return!1;var h=Math.max(r,5);return!(e+h<l&&n+h<l&&o+h<l||l<e-h&&l<n-h&&l<o-h||t+h<a&&i+h<a&&s+h<a||a<t-h&&a<i-h&&a<s-h)&&x.quadraticProjectPoint(t,e,i,n,s,o,a,l,null)<=h/2}function z(t,e,i,n,s,o,r,a,l){if(0===r)return!1;var h=Math.max(r,5);a-=t,l-=e;var c=Math.sqrt(a*a+l*l);if(i<c-h||c+h<i)return!1;if(Math.abs(n-s)>=w)return!0;if(o){var d=n;n=f(s),s=f(d)}else n=f(n),s=f(s);s<n&&(s+=w);var u=Math.atan2(l,a);return u<0&&(u+=w),n<=u&&u<=s||n<=u+w&&u+w<=s}function g(t,e,i,n){e=Math.max(e,10);for(var s=0,o=t.length-1;s<o;s++){if(T(t[s][0],t[s][1],t[s+1][0],t[s+1][1],e,i,n))return!0}return!1}function m(t,e,i,n,s,o){return t<=s&&s<=t+i&&e<=o&&o<=e+n}function y(t,e,i,n,s){return(n-t)*(n-t)+(s-e)*(s-e)<i*i}function v(t,e,i,n,s,o,r,a,l){return z(t,e,(i+n)/2,s,o,r,n-i,a,l)}function _(t,e,i){for(var n=t.length,s=0,o=0,r=n-1;o<n;o++){s+=A(t[r][0],t[r][1],t[o][0],t[o][1],e,i),r=o}return 0!==s}function A(t,e,i,n,s,o){return e<o&&n<o||o<e&&o<n?0:n==e?0:s<(o-e)/(n-e)*(i-t)+t?n<e?1:-1:0}function D(t,e,i,n,s,o,r,a,l,h){if(e<h&&n<h&&o<h&&a<h||h<e&&h<n&&h<o&&h<a)return 0;var c,d=x.cubicRootAt(e,n,o,a,h,C);if(0===d)return 0;for(var u,p,f=0,g=-1,m=0;m<d;m++){var y=C[m];x.cubicAt(t,i,s,r,y)<l||(g<0&&(g=x.cubicExtrema(e,n,o,a,k),k[1]<k[0]&&1<g&&(void 0,c=k[0],k[0]=k[1],k[1]=c),u=x.cubicAt(e,n,o,a,k[0]),1<g&&(p=x.cubicAt(e,n,o,a,k[1]))),f+=2==g?y<k[0]?u<e?1:-1:y<k[1]?p<u?1:-1:a<p?1:-1:y<k[0]?u<e?1:-1:a<u?1:-1)}return f}function L(t,e,i,n,s,o,r,a){if(e<a&&n<a&&o<a||a<e&&a<n&&a<o)return 0;var l=x.quadraticRootAt(e,n,o,a,C);if(0===l)return 0;var h=x.quadraticExtremum(e,n,o);if(0<=h&&h<=1){for(var c=0,d=x.quadraticAt(e,n,o,h),u=0;u<l;u++){x.quadraticAt(t,i,s,C[u])<r||(c+=C[u]<h?d<e?1:-1:o<d?1:-1)}return c}return x.quadraticAt(t,i,s,C[0])<r?0:o<e?1:-1}function $(t,e,i,n,s,o,r,a){if(i<(a-=e)||a<-i)return 0;var l=Math.sqrt(i*i-a*a);if(C[0]=-l,C[1]=l,Math.abs(n-s)>=w){s=w;var h=o?1:-1;return r>=C[n=0]+t&&r<=C[1]+t?h:0}if(o){l=n;n=f(s),s=f(l)}else n=f(n),s=f(s);s<n&&(s+=w);for(var c=0,d=0;d<2;d++){var u=C[d];if(r<u+t){var p=Math.atan2(a,u);h=o?1:-1;p<0&&(p=w+p),(n<=p&&p<=s||n<=p+w&&p+w<=s)&&(p>Math.PI/2&&p<1.5*Math.PI&&(h=-h),c+=h)}}return c}function b(t,e,i,n,s){for(var o=0,r=0,a=0,l=0,h=0,c=!0,d=!0,u="stroke"===(i=i||"fill")||"both"===i,p="fill"===i||"both"===i,f=0;f<t.length;f++){var g=t[f],m=g.points;if(c||"M"===g.command){if(0<f&&(p&&(o+=A(r,a,l,h,n,s)),0!==o))return!0;l=m[m.length-2],h=m[m.length-1],c=!1,d&&"A"!==g.command&&(d=!1,r=l,a=h)}switch(g.command){case"M":r=m[0],a=m[1];break;case"L":if(u&&T(r,a,m[0],m[1],e,n,s))return!0;p&&(o+=A(r,a,m[0],m[1],n,s)),r=m[0],a=m[1];break;case"C":if(u&&E(r,a,m[0],m[1],m[2],m[3],m[4],m[5],e,n,s))return!0;p&&(o+=D(r,a,m[0],m[1],m[2],m[3],m[4],m[5],n,s)),r=m[4],a=m[5];break;case"Q":if(u&&M(r,a,m[0],m[1],m[2],m[3],e,n,s))return!0;p&&(o+=L(r,a,m[0],m[1],m[2],m[3],n,s)),r=m[2],a=m[3];break;case"A":var y=m[0],v=m[1],_=m[2],b=m[3],x=m[4],w=m[5],C=Math.cos(x)*_+y,k=Math.sin(x)*b+v;d?(d=!1,l=C,h=k):o+=A(r,a,C,k);var S=(n-y)*b/_+y;if(u&&z(y,v,b,x,x+w,1-m[7],e,S,s))return!0;p&&(o+=$(y,v,b,x,x+w,1-m[7],S,s)),r=Math.cos(x+w)*_+y,a=Math.sin(x+w)*b+v;break;case"z":if(u&&T(r,a,l,h,e,n,s))return!0;c=!0}}return p&&(o+=A(r,a,l,h,n,s)),0!==o}var d,u=t("./util"),x=t("./curve"),r={},o={},a=0,l=0,w=2*Math.PI,C=[-1,-1,-1],k=[-1,-1];return{isInside:s,isOutside:function(t,e,i,n){return!s(t,e,i,n)},getTextWidth:function(t,e){var i=t+":"+e;if(r[i])return r[i];(d=d||u.getContext()).save(),e&&(d.font=e);for(var n=0,s=0,o=(t=(t+"").split("\n")).length;s<o;s++)n=Math.max(d.measureText(t[s]).width,n);return d.restore(),r[i]=n,5e3<++a&&(a=0,r={}),n},getTextHeight:function(t,e){var i=t+":"+e;if(o[i])return o[i];(d=d||u.getContext()).save(),e&&(d.font=e),t=(t+"").split("\n");var n=(d.measureText("").width+2)*t.length;return d.restore(),o[i]=n,5e3<++l&&(l=0,o={}),n},isInsidePath:b,isInsidePolygon:_,isInsideSector:v,isInsideCircle:y,isInsideLine:T,isInsideRect:m,isInsidePolyline:g,isInsideCubicStroke:E,isInsideQuadraticStroke:M}}),define("zrender/shape/Base",["require","../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(d){function v(t,e,i,n,s,o,r){s&&(t.font=s);var a=function(t,e,i,n,s,o){var r=d("../tool/area"),a=r.getTextWidth(t,n),l=r.getTextHeight("",n);switch(t=(t+"").split("\n"),s){case"end":case"right":e-=a;break;case"center":e-=a/2}switch(o){case"top":break;case"bottom":i-=l*t.length;break;default:i-=l*t.length/2}return{x:e,y:i,width:a,height:l*t.length}}(e,i,n,s,t.textAlign=o,t.textBaseline=r);e=(e+"").split("\n");var l=d("../tool/area").getTextHeight("",s);switch(r){case"top":n=a.y;break;case"bottom":n=a.y+l;break;default:n=a.y+l/2}for(var h=0,c=e.length;h<c;h++)t.fillText(e[h],i,n),n+=l}var s=window.G_vmlCanvasManager,o=d("../tool/matrix"),i=d("../tool/guid"),t=d("../tool/util"),e=d("../tool/log"),n=d("../mixin/Transformable"),r=d("../mixin/Eventful"),a=function(t){for(var e in t=t||{},this.id=t.id||i(),t)this[e]=t[e];this.style=this.style||{},this.highlightStyle=this.highlightStyle||null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],n.call(this),r.call(this)};a.prototype.invisible=!1,a.prototype.ignore=!1,a.prototype.zlevel=0,a.prototype.draggable=!1,a.prototype.clickable=!1,a.prototype.hoverable=!0,a.prototype.z=0,a.prototype.brush=function(t,e){var i=this.beforeBrush(t,e);switch(t.beginPath(),this.buildPath(t,i),i.brushType){case"both":t.fill();case"stroke":0<i.lineWidth&&t.stroke();break;default:t.fill()}this.drawText(t,i,this.style),this.afterBrush(t)},a.prototype.beforeBrush=function(t,e){var i=this.style;return this.brushTypeOnly&&(i.brushType=this.brushTypeOnly),e&&(i=this.getHighlightStyle(i,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(i.strokeColor=i.strokeColor||i.color),t.save(),this.doClip(t),this.setContext(t,i),this.setTransform(t),i},a.prototype.afterBrush=function(t){t.restore()};var l=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];a.prototype.setContext=function(t,e){for(var i=0,n=l.length;i<n;i++){var s=e[l[i][0]],o=l[i][1];void 0!==s&&(t[o]=s)}};var h=o.create();return a.prototype.doClip=function(t){if(this.__clipShapes&&!s)for(var e=0;e<this.__clipShapes.length;e++){var i=this.__clipShapes[e];if(i.needTransform){var n=i.transform;o.invert(h,n),t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}if(t.beginPath(),i.buildPath(t,i.style),t.clip(),i.needTransform){n=h;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}}},a.prototype.getHighlightStyle=function(t,e,i){var n={};for(var s in t)n[s]=t[s];var o=d("../tool/color"),r=o.getHighlightColor();for(var s in"stroke"!=t.brushType?(n.strokeColor=r,n.lineWidth=(t.lineWidth||1)+this.getHighlightZoom(),n.brushType="both"):"stroke"!=i?(n.strokeColor=r,n.lineWidth=(t.lineWidth||1)+this.getHighlightZoom()):n.strokeColor=e.strokeColor||o.mix(t.strokeColor,o.toRGB(r)),e)void 0!==e[s]&&(n[s]=e[s]);return n},a.prototype.getHighlightZoom=function(){return"text"!=this.type?6:2},a.prototype.drift=function(t,e){this.position[0]+=t,this.position[1]+=e},a.prototype.buildPath=function(){e("buildPath not implemented in "+this.type)},a.prototype.getRect=function(){e("getRect not implemented in "+this.type)},a.prototype.isCover=function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],!!this.isCoverRect(t,e)&&d("../tool/area").isInside(this,this.style,t,e)},a.prototype.isCoverRect=function(t,e){var i=this.style.__rect;return i||(i=this.style.__rect=this.getRect(this.style)),t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},a.prototype.drawText=function(t,e,i){if(void 0!==e.text&&!1!==e.text){var n=e.textColor||e.color||e.strokeColor;t.fillStyle=n;var s,o,r,a,l=10,h=e.textPosition||this.textPosition||"top";switch(h){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var c=(i||e).__rect||this.getRect(i||e);switch(h){case"inside":r=c.x+c.width/2,a=c.y+c.height/2,s="center",o="middle","stroke"!=e.brushType&&n==e.color&&(t.fillStyle="#fff");break;case"left":r=c.x-l,a=c.y+c.height/2,s="end",o="middle";break;case"right":r=c.x+c.width+l,a=c.y+c.height/2,s="start",o="middle";break;case"top":r=c.x+c.width/2,a=c.y-l,s="center",o="bottom";break;case"bottom":r=c.x+c.width/2,a=c.y+c.height+l,s="center",o="top"}}break;case"start":case"end":var d,u,p,f,g=e.pointList||[[e.xStart||0,e.yStart||0],[e.xEnd||0,e.yEnd||0]],m=g.length;if(m<2)return;switch(h){case"start":d=g[1][0],u=g[0][0],p=g[1][1],f=g[0][1];break;case"end":d=g[m-2][0],u=g[m-1][0],p=g[m-2][1],f=g[m-1][1]}r=u,a=f;var y=Math.atan((p-f)/(u-d))/Math.PI*180;u-d<0?y+=180:p-f<0&&(y+=360),l=5,30<=y&&y<=150?(s="center",o="bottom",a-=l):150<y&&y<210?(s="right",o="middle",r-=l):210<=y&&y<=330?(s="center",o="top",a+=l):(s="left",o="middle",r+=l);break;case"specific":r=e.textX||0,a=e.textY||0,s="start",o="middle"}null!=r&&null!=a&&v(t,e.text,r,a,e.textFont,e.textAlign||s,e.textBaseline||o)}},a.prototype.modSelf=function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)},a.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},t.merge(a.prototype,n.prototype,!0),t.merge(a.prototype,r.prototype,!0),a}),define("zrender/tool/curve",["require","./vector"],function(t){function T(t){return-w<t&&t<w}function p(t){return w<t||t<-w}function b(t,e,i,n,s){var o=1-s;return o*o*(o*t+3*s*e)+s*s*(s*n+3*o*i)}function v(t,e,i,n){var s=1-n;return s*(s*t+2*n*e)+n*n*i}var x=t("./vector"),w=1e-4,E=Math.sqrt(3),C=x.create(),k=x.create(),S=x.create();return{cubicAt:b,cubicDerivativeAt:function(t,e,i,n,s){var o=1-s;return 3*(((e-t)*o+2*(i-e)*s)*o+(n-i)*s*s)},cubicRootAt:function(t,e,i,n,s,o){var r=n+3*(e-i)-t,a=3*(i-2*e+t),l=3*(e-t),h=t-s,c=a*a-3*r*l,d=a*l-9*r*h,u=l*l-3*a*h,p=0;if(T(c)&&T(d))T(a)?o[0]=0:0<=(k=-l/a)&&k<=1&&(o[p++]=k);else{var f=d*d-4*c*u;if(T(f)){var g=d/c,m=-g/2;0<=(k=-a/r+g)&&k<=1&&(o[p++]=k),0<=m&&m<=1&&(o[p++]=m)}else if(0<f){var y=Math.sqrt(f),v=c*a+1.5*r*(-d+y),_=c*a+1.5*r*(-d-y);0<=(k=(-a-((v=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3))+(_=_<0?-Math.pow(-_,1/3):Math.pow(_,1/3))))/(3*r))&&k<=1&&(o[p++]=k)}else{var b=(2*c*a-3*r*d)/(2*Math.sqrt(c*c*c)),x=Math.acos(b)/3,w=Math.sqrt(c),C=Math.cos(x),k=(-a-2*w*C)/(3*r),S=(m=(-a+w*(C+E*Math.sin(x)))/(3*r),(-a+w*(C-E*Math.sin(x)))/(3*r));0<=k&&k<=1&&(o[p++]=k),0<=m&&m<=1&&(o[p++]=m),0<=S&&S<=1&&(o[p++]=S)}}return p},cubicExtrema:function(t,e,i,n,s){var o=6*i-12*e+6*t,r=9*e+3*n-3*t-9*i,a=3*e-3*t,l=0;if(T(r))p(o)&&0<=(c=-a/o)&&c<=1&&(s[l++]=c);else{var h=o*o-4*r*a;if(T(h))s[0]=-o/(2*r);else if(0<h){var c,d=Math.sqrt(h),u=(-o-d)/(2*r);0<=(c=(-o+d)/(2*r))&&c<=1&&(s[l++]=c),0<=u&&u<=1&&(s[l++]=u)}}return l},cubicSubdivide:function(t,e,i,n,s,o){var r=(e-t)*s+t,a=(i-e)*s+e,l=(n-i)*s+i,h=(a-r)*s+r,c=(l-a)*s+a,d=(c-h)*s+h;o[0]=t,o[1]=r,o[2]=h,o[3]=d,o[4]=d,o[5]=c,o[6]=l,o[7]=n},cubicProjectPoint:function(t,e,i,n,s,o,r,a,l,h,c){var d,u=.005,p=1/0;C[0]=l,C[1]=h;for(var f=0;f<1;f+=.05)k[0]=b(t,i,s,r,f),k[1]=b(e,n,o,a,f),(v=x.distSquare(C,k))<p&&(d=f,p=v);p=1/0;for(var g=0;g<32&&!(u<w);g++){var m=d-u,y=d+u;k[0]=b(t,i,s,r,m),k[1]=b(e,n,o,a,m);var v=x.distSquare(k,C);if(0<=m&&v<p)d=m,p=v;else{S[0]=b(t,i,s,r,y),S[1]=b(e,n,o,a,y);var _=x.distSquare(S,C);y<=1&&_<p?(d=y,p=_):u*=.5}}return c&&(c[0]=b(t,i,s,r,d),c[1]=b(e,n,o,a,d)),Math.sqrt(p)},quadraticAt:v,quadraticDerivativeAt:function(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))},quadraticRootAt:function(t,e,i,n,s){var o=t-2*e+i,r=2*(e-t),a=t-n,l=0;if(T(o))p(r)&&0<=(c=-a/r)&&c<=1&&(s[l++]=c);else{var h=r*r-4*o*a;if(T(h))0<=(c=-r/(2*o))&&c<=1&&(s[l++]=c);else if(0<h){var c,d=Math.sqrt(h),u=(-r-d)/(2*o);0<=(c=(-r+d)/(2*o))&&c<=1&&(s[l++]=c),0<=u&&u<=1&&(s[l++]=u)}}return l},quadraticExtremum:function(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n},quadraticSubdivide:function(t,e,i,n,s){var o=(e-t)*n+t,r=(i-e)*n+e,a=(r-o)*n+o;s[0]=t,s[1]=o,s[2]=a,s[3]=a,s[4]=r,s[5]=i},quadraticProjectPoint:function(t,e,i,n,s,o,r,a,l){var h,c=.005,d=1/0;C[0]=r,C[1]=a;for(var u=0;u<1;u+=.05)k[0]=v(t,i,s,u),k[1]=v(e,n,o,u),(m=x.distSquare(C,k))<d&&(h=u,d=m);d=1/0;for(var p=0;p<32&&!(c<w);p++){var f=h-c,g=h+c;k[0]=v(t,i,s,f),k[1]=v(e,n,o,f);var m=x.distSquare(k,C);if(0<=f&&m<d)h=f,d=m;else{S[0]=v(t,i,s,g),S[1]=v(e,n,o,g);var y=x.distSquare(S,C);g<=1&&y<d?(h=g,d=y):c*=.5}}return l&&(l[0]=v(t,i,s,h),l[1]=v(e,n,o,h)),Math.sqrt(d)}}}),define("zrender/mixin/Transformable",["require","../tool/matrix","../tool/vector"],function(t){"use strict";function n(t){return-5e-5<t&&t<5e-5}function r(t){return 5e-5<t||t<-5e-5}var s,o=t("../tool/matrix"),a=t("../tool/vector"),l=[0,0],h=o.translate,e=function(){this.position||(this.position=[0,0]),void 0===this.rotation&&(this.rotation=[0,0,0]),this.scale||(this.scale=[1,1,0,0]),this.needLocalTransform=!1,this.needTransform=!1};return e.prototype={constructor:e,updateNeedTransform:function(){this.needLocalTransform=r(this.rotation[0])||r(this.position[0])||r(this.position[1])||r(this.scale[0]-1)||r(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var t=this.parent&&this.parent.needTransform;if(this.needTransform=this.needLocalTransform||t,this.needTransform){var e=this.transform||o.create();if(o.identity(e),this.needLocalTransform){var i,n=this.scale;if(r(n[0])||r(n[1]))l[0]=-n[2]||0,l[1]=-n[3]||0,(i=r(l[0])||r(l[1]))&&h(e,e,l),o.scale(e,e,n),i&&(l[0]=-l[0],l[1]=-l[1],h(e,e,l));if(this.rotation instanceof Array){if(0!==this.rotation[0])l[0]=-this.rotation[1]||0,l[1]=-this.rotation[2]||0,(i=r(l[0])||r(l[1]))&&h(e,e,l),o.rotate(e,e,this.rotation[0]),i&&(l[0]=-l[0],l[1]=-l[1],h(e,e,l))}else 0!==this.rotation&&o.rotate(e,e,this.rotation);(r(this.position[0])||r(this.position[1]))&&h(e,e,this.position)}t&&(this.needLocalTransform?o.mul(e,this.parent.transform,e):o.copy(e,this.parent.transform)),this.transform=e,this.invTransform=this.invTransform||o.create(),o.invert(this.invTransform,e)}},setTransform:function(t){if(this.needTransform){var e=this.transform;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},lookAt:(s=a.create(),function(t){this.transform||(this.transform=o.create());var e=this.transform;if(a.sub(s,t,this.position),!n(s[0])||!n(s[1])){a.normalize(s,s);var i=this.scale;e[2]=s[0]*i[1],e[3]=s[1]*i[1],e[0]=s[1]*i[0],e[1]=-s[0]*i[0],e[4]=this.position[0],e[5]=this.position[1],this.decomposeTransform()}}),decomposeTransform:function(){if(this.transform){var t=this.transform,e=t[0]*t[0]+t[1]*t[1],i=this.position,n=this.scale,s=this.rotation;r(e-1)&&(e=Math.sqrt(e));var o=t[2]*t[2]+t[3]*t[3];r(o-1)&&(o=Math.sqrt(o)),i[0]=t[4],i[1]=t[5],n[0]=e,n[1]=o,n[2]=n[3]=0,s[0]=Math.atan2(-t[1]/o,t[0]/e),s[1]=s[2]=0}},transformCoordToLocal:function(t,e){var i=[t,e];return this.needTransform&&this.invTransform&&o.mulVector(i,this.invTransform,i),i}},e}),define("zrender/Group",["require","./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(t){var i=t("./tool/guid"),n=t("./tool/util"),s=t("./mixin/Transformable"),o=t("./mixin/Eventful"),r=function(t){for(var e in t=t||{},this.id=t.id||i(),t)this[e]=t[e];this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,s.call(this),o.call(this)};return r.prototype.ignore=!1,r.prototype.children=function(){return this._children.slice()},r.prototype.childAt=function(t){return this._children[t]},r.prototype.addChild=function(t){t!=this&&t.parent!=this&&(t.parent&&t.parent.removeChild(t),this._children.push(t),(t.parent=this)._storage&&this._storage!==t._storage&&(this._storage.addToMap(t),t instanceof r&&t.addChildrenToStorage(this._storage)))},r.prototype.removeChild=function(t){var e=n.indexOf(this._children,t);0<=e&&this._children.splice(e,1),t.parent=null,this._storage&&(this._storage.delFromMap(t.id),t instanceof r&&t.delChildrenFromStorage(this._storage))},r.prototype.clearChildren=function(){for(var t=0;t<this._children.length;t++){var e=this._children[t];this._storage&&(this._storage.delFromMap(e.id),e instanceof r&&e.delChildrenFromStorage(this._storage))}this._children.length=0},r.prototype.eachChild=function(t,e){for(var i=!!e,n=0;n<this._children.length;n++){var s=this._children[n];i?t.call(e,s):t(s)}},r.prototype.traverse=function(t,e){for(var i=!!e,n=0;n<this._children.length;n++){var s=this._children[n];i?t.call(e,s):t(s),"group"===s.type&&s.traverse(t,e)}},r.prototype.addChildrenToStorage=function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),i instanceof r&&i.addChildrenToStorage(t)}},r.prototype.delChildrenFromStorage=function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),i instanceof r&&i.delChildrenFromStorage(t)}},r.prototype.modSelf=function(){this.__dirty=!0},n.merge(r.prototype,s.prototype,!0),n.merge(r.prototype,o.prototype,!0),r}),define("zrender/animation/Clip",["require","./easing"],function(t){function e(t){this._targetPool=t.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=t.life||1e3,this._delay=t.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop=void 0!==t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var s=t("./easing");return e.prototype={step:function(t){var e=(t-this._startTime)/this._life;if(!(e<0)){e=Math.min(e,1);var i="string"==typeof this.easing?s[this.easing]:this.easing,n="function"==typeof i?i(e):e;return this.fire("frame",n),1==e?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var t=((new Date).getTime()-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap,this._needsRemove=!1},fire:function(t,e){for(var i=0,n=this._targetPool.length;i<n;i++)this["on"+t]&&this["on"+t](this._targetPool[i],e)},constructor:e},e}),define("zrender/animation/easing",[],function(){var e={Linear:function(t){return t},QuadraticIn:function(t){return t*t},QuadraticOut:function(t){return t*(2-t)},QuadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},CubicIn:function(t){return t*t*t},CubicOut:function(t){return--t*t*t+1},CubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},QuarticIn:function(t){return t*t*t*t},QuarticOut:function(t){return 1- --t*t*t*t},QuarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},QuinticIn:function(t){return t*t*t*t*t},QuinticOut:function(t){return--t*t*t*t*t+1},QuinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},SinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},SinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},SinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},ExponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},ExponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},CircularIn:function(t){return 1-Math.sqrt(1-t*t)},CircularOut:function(t){return Math.sqrt(1- --t*t)},CircularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},ElasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/.4))},ElasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/.4)+1)},ElasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/.4):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/.4)*.5+1)},BackIn:function(t){return t*t*(2.70158*t-1.70158)},BackOut:function(t){return--t*t*(2.70158*t+1.70158)+1},BackInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},BounceIn:function(t){return 1-e.BounceOut(1-t)},BounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},BounceInOut:function(t){return t<.5?.5*e.BounceIn(2*t):.5*e.BounceOut(2*t-1)+.5}};return e}),define("echarts/chart/base",["require","zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(t){function M(t){return null!=t.x&&null!=t.y}function e(t,e,i,n,s){a.call(this,t,e,i,n,s);var r=this;this.selectedMap={},this.lastShapeList=[],this.shapeHandler={onclick:function(){r.isClick=!0},ondragover:function(t){var e=t.target;e.highlightStyle=e.highlightStyle||{};var i=e.highlightStyle,n=i.brushTyep,s=i.strokeColor,o=i.lineWidth;i.brushType="stroke",i.strokeColor=r.ecTheme.calculableColor||z.calculableColor,i.lineWidth="icon"===e.type?30:10,r.zr.addHoverShape(e),setTimeout(function(){i&&(i.brushType=n,i.strokeColor=s,i.lineWidth=o)},20)},ondrop:function(t){null!=A.get(t.dragged,"data")&&(r.isDrop=!0)},ondragend:function(){r.isDragend=!0}}}var w=t("zrender/shape/Image"),C=t("../util/shape/Icon"),k=t("../util/shape/MarkLine"),m=t("../util/shape/Symbol"),S=t("zrender/shape/Polyline"),f=t("zrender/shape/ShapeBundle"),z=t("../config"),A=t("../util/ecData"),r=t("../util/ecAnimation"),o=t("../util/ecEffect"),g=t("../util/accMath"),a=t("../component/base"),D=t("../layout/EdgeBundling"),L=t("zrender/tool/util"),d=t("zrender/tool/area");return e.prototype={setCalculable:function(t){return t.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||z.DRAG_ENABLE_TIME,t.ondragover=this.shapeHandler.ondragover,t.ondragend=this.shapeHandler.ondragend,t.ondrop=this.shapeHandler.ondrop,t},ondrop:function(t,e){if(this.isDrop&&t.target&&!e.dragIn){var i,n=t.target,s=t.dragged,o=A.get(n,"seriesIndex"),r=A.get(n,"dataIndex"),a=this.series,l=this.component.legend;if(-1===r){if(A.get(s,"seriesIndex")==o)return e.dragOut=e.dragIn=e.needRefresh=!0,void(this.isDrop=!1);i={value:A.get(s,"value"),name:A.get(s,"name")},this.type===z.CHART_TYPE_PIE&&i.value<0&&(i.value=0);for(var h=!1,c=a[o].data,d=0,u=c.length;d<u;d++)c[d].name===i.name&&"-"===c[d].value&&(a[o].data[d].value=i.value,h=!0);!h&&a[o].data.push(i),l&&l.add(i.name,s.style.color||s.style.strokeColor)}else null!=(i=a[o].data[r]||"-").value?(a[o].data[r].value="-"!=i.value?g.accAdd(a[o].data[r].value,A.get(s,"value")):A.get(s,"value"),(this.type===z.CHART_TYPE_FUNNEL||this.type===z.CHART_TYPE_PIE)&&(l&&1===l.getRelatedAmount(i.name)&&this.component.legend.del(i.name),i.name+=this.option.nameConnector+A.get(s,"name"),l&&l.add(i.name,s.style.color||s.style.strokeColor))):a[o].data[r]="-"!=i?g.accAdd(a[o].data[r],A.get(s,"value")):A.get(s,"value");e.dragIn=e.dragIn||!0,this.isDrop=!1;var p=this;setTimeout(function(){p.zr.trigger("mousemove",t.event)},300)}},ondragend:function(t,e){if(this.isDragend&&t.target&&!e.dragOut){var i=t.target,n=A.get(i,"seriesIndex"),s=A.get(i,"dataIndex"),o=this.series;if(null!=o[n].data[s].value){o[n].data[s].value="-";var r=o[n].data[s].name,a=this.component.legend;a&&0===a.getRelatedAmount(r)&&a.del(r)}else o[n].data[s]="-";e.dragOut=!0,e.needRefresh=!0,this.isDragend=!1}},onlegendSelected:function(t,e){var i=t.selected;for(var n in this.selectedMap)this.selectedMap[n]!=i[n]&&(e.needRefresh=!0),this.selectedMap[n]=i[n]},_buildPosition:function(){this._symbol=this.option.symbolList,this._sIndex2ShapeMap={},this._sIndex2ColorMap={},this.selectedMap={},this.xMarkMap={};for(var t,e,i,n,s=this.series,o={top:[],bottom:[],left:[],right:[],other:[]},r=0,a=s.length;r<a;r++)s[r].type===this.type&&(s[r]=this.reformOption(s[r]),this.legendHoverLink=s[r].legendHoverLink||this.legendHoverLink,t=s[r].xAxisIndex,e=s[r].yAxisIndex,i=this.component.xAxis.getAxis(t),n=this.component.yAxis.getAxis(e),i.type===z.COMPONENT_TYPE_AXIS_CATEGORY?o[i.getPosition()].push(r):n.type===z.COMPONENT_TYPE_AXIS_CATEGORY?o[n.getPosition()].push(r):o.other.push(r));for(var l in o)0<o[l].length&&this._buildSinglePosition(l,o[l]);this.addShapeList()},_buildSinglePosition:function(t,e){var i=this._mapData(e),n=i.locationMap,s=i.maxDataLength;if(0!==s&&0!==n.length){switch(t){case"bottom":case"top":this._buildHorizontal(e,s,n,this.xMarkMap);break;case"left":case"right":this._buildVertical(e,s,n,this.xMarkMap);break;case"other":this._buildOther(e,s,n,this.xMarkMap)}for(var o=0,r=e.length;o<r;o++)this.buildMark(e[o])}},_mapData:function(t){for(var e,i,n,s,o=this.series,r=0,a={},l=this.component.legend,h=[],c=0,d=0,u=t.length;d<u;d++){if(n=(e=o[t[d]]).name,this._sIndex2ShapeMap[t[d]]=this._sIndex2ShapeMap[t[d]]||this.query(e,"symbol")||this._symbol[d%this._symbol.length],l){if(this.selectedMap[n]=l.isSelected(n),this._sIndex2ColorMap[t[d]]=l.getColor(n),s=l.getItemShape(n)){var p=s.style;if(this.type==z.CHART_TYPE_LINE)p.iconType="legendLineIcon",p.symbol=this._sIndex2ShapeMap[t[d]];else if(0<e.itemStyle.normal.barBorderWidth){var f=s.highlightStyle;p.brushType="both",p.x+=1,p.y+=1,p.width-=2,p.height-=2,p.strokeColor=f.strokeColor=e.itemStyle.normal.barBorderColor,f.lineWidth=3}l.setItemShape(n,s)}}else this.selectedMap[n]=!0,this._sIndex2ColorMap[t[d]]=this.zr.getColor(t[d]);this.selectedMap[n]&&(null==a[i=e.stack||"__kener__stack__"+t[d]]?(h[a[i]=r]=[t[d]],r++):h[a[i]].push(t[d])),c=Math.max(c,e.data.length)}return{locationMap:h,maxDataLength:c}},_calculMarkMapXY:function(t,e,i){for(var n=this.series,s=0,o=e.length;s<o;s++)for(var r=0,a=e[s].length;r<a;r++){var l=e[s][r],h="xy"==i?0:"",c=this.component.grid,d=t[l];if("-1"!=i.indexOf("x")){0<d["counter"+h]&&(d["average"+h]=d["sum"+h]/d["counter"+h]);var u=this.component.xAxis.getAxis(n[l].xAxisIndex||0).getCoord(d["average"+h]);d["averageLine"+h]=[[u,c.getYend()],[u,c.getY()]],d["minLine"+h]=[[d["minX"+h],c.getYend()],[d["minX"+h],c.getY()]],d["maxLine"+h]=[[d["maxX"+h],c.getYend()],[d["maxX"+h],c.getY()]],d.isHorizontal=!1}if(h="xy"==i?1:"","-1"!=i.indexOf("y")){0<d["counter"+h]&&(d["average"+h]=d["sum"+h]/d["counter"+h]);var p=this.component.yAxis.getAxis(n[l].yAxisIndex||0).getCoord(d["average"+h]);d["averageLine"+h]=[[c.getX(),p],[c.getXend(),p]],d["minLine"+h]=[[c.getX(),d["minY"+h]],[c.getXend(),d["minY"+h]]],d["maxLine"+h]=[[c.getX(),d["maxY"+h]],[c.getXend(),d["maxY"+h]]],d.isHorizontal=!0}}},addLabel:function(t,e,i,n,s){var o=[i,e],r=this.deepMerge(o,"itemStyle.normal.label"),a=this.deepMerge(o,"itemStyle.emphasis.label"),l=r.textStyle||{},h=a.textStyle||{};if(r.show){var c=t.style;c.text=this._getLabelText(e,i,n,"normal"),c.textPosition=null==r.position?"horizontal"===s?"right":"top":r.position,c.textColor=l.color,c.textFont=this.getFont(l),c.textAlign=l.align,c.textBaseline=l.baseline}if(a.show){var d=t.highlightStyle;d.text=this._getLabelText(e,i,n,"emphasis"),d.textPosition=r.show?t.style.textPosition:null==a.position?"horizontal"===s?"right":"top":a.position,d.textColor=h.color,d.textFont=this.getFont(h),d.textAlign=h.align,d.textBaseline=h.baseline}return t},_getLabelText:function(t,e,i,n){var s=this.deepQuery([e,t],"itemStyle."+n+".label.formatter");s||"emphasis"!==n||(s=this.deepQuery([e,t],"itemStyle.normal.label.formatter"));var o=this.getDataFromOption(e,"-");return s?"function"==typeof s?s.call(this.myChart,{seriesName:t.name,series:t,name:i,value:o,data:e,status:n}):"string"==typeof s?s=s.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",t.name).replace("{b0}",i).replace("{c0}",this.numAddCommas(o)):void 0:o instanceof Array?null!=o[2]?this.numAddCommas(o[2]):o[0]+" , "+o[1]:this.numAddCommas(o)},buildMark:function(t){var e=this.series[t];this.selectedMap[e.name]&&(e.markLine&&this._buildMarkLine(t),e.markPoint&&this._buildMarkPoint(t))},_buildMarkPoint:function(t){for(var e,i,n=(this.markAttachStyle||{})[t],s=this.series[t],o=L.clone(s.markPoint),r=0,a=o.data.length;r<a;r++)e=o.data[r],i=this.getMarkCoord(t,e),e.x=null!=e.x?e.x:i[0],e.y=null!=e.y?e.y:i[1],!e.type||"max"!==e.type&&"min"!==e.type||(e.value=i[3],e.name=e.name||e.type,e.symbolSize=e.symbolSize||d.getTextWidth(i[3],this.getFont())/2+5);var l=this._markPoint(t,o);for(r=0,a=l.length;r<a;r++){var h=l[r];for(var c in h.zlevel=this.getZlevelBase(),h.z=this.getZBase()+1,n)h[c]=L.clone(n[c]);this.shapeList.push(h)}if(this.type===z.CHART_TYPE_FORCE||this.type===z.CHART_TYPE_CHORD)for(r=0,a=l.length;r<a;r++)this.zr.addShape(l[r])},_buildMarkLine:function(t){for(var e,i=(this.markAttachStyle||{})[t],n=this.series[t],s=L.clone(n.markLine),o=0,r=s.data.length;o<r;o++){var a=s.data[o];!a.type||"max"!==a.type&&"min"!==a.type&&"average"!==a.type?e=[this.getMarkCoord(t,a[0]),this.getMarkCoord(t,a[1])]:(e=this.getMarkCoord(t,a),s.data[o]=[L.clone(a),{}],s.data[o][0].name=a.name||a.type,s.data[o][0].value="average"!==a.type?e[3]:+e[3].toFixed(null!=s.precision?s.precision:this.deepQuery([this.ecTheme,z],"markLine.precision")),e=e[2],a=[{},{}]),null!=e&&null!=e[0]&&null!=e[1]&&(s.data[o][0].x=null!=a[0].x?a[0].x:e[0][0],s.data[o][0].y=null!=a[0].y?a[0].y:e[0][1],s.data[o][1].x=null!=a[1].x?a[1].x:e[1][0],s.data[o][1].y=null!=a[1].y?a[1].y:e[1][1])}var l=this._markLine(t,s);if(s.large){var h=new f({style:{shapeList:l}}),c=l[0];if(c)for(var d in L.merge(h.style,c.style),L.merge(h.highlightStyle={},c.highlightStyle),h.style.brushType="stroke",h.zlevel=this.getZlevelBase(),h.z=this.getZBase()+1,h.hoverable=!1,i)h[d]=L.clone(i[d]);this.shapeList.push(h),this.zr.addShape(h),h._mark="largeLine";var u=s.effect;u.show&&(h.effect=u)}else{for(o=0,r=l.length;o<r;o++){var p=l[o];for(var d in p.zlevel=this.getZlevelBase(),p.z=this.getZBase()+1,i)p[d]=L.clone(i[d]);this.shapeList.push(p)}if(this.type===z.CHART_TYPE_FORCE||this.type===z.CHART_TYPE_CHORD)for(o=0,r=l.length;o<r;o++)this.zr.addShape(l[o])}},_markPoint:function(t,e){var i=this.series[t],n=this.component;L.merge(L.merge(e,L.clone(this.ecTheme.markPoint||{})),L.clone(z.markPoint)),e.name=i.name;var s,o,r,a,l,h,c,d=[],u=e.data,p=n.dataRange,f=n.legend,g=this.zr.getWidth(),m=this.zr.getHeight();if(e.large)(s=this.getLargeMarkPointShape(t,e))._mark="largePoint",s&&d.push(s);else for(var y=0,v=u.length;y<v;y++)null!=u[y].x&&null!=u[y].y&&(r=null!=u[y].value?u[y].value:"",f&&(o=f.getColor(i.name)),p&&(o=isNaN(r)?o:p.getColor(r),a=[u[y],e],l=this.deepQuery(a,"itemStyle.normal.color")||o,h=this.deepQuery(a,"itemStyle.emphasis.color")||l,null==l&&null==h)||(o=null==o?this.zr.getColor(t):o,u[y].tooltip=u[y].tooltip||e.tooltip||{trigger:"item"},u[y].name=null!=u[y].name?u[y].name:"",u[y].value=r,(s=this.getSymbolShape(e,t,u[y],y,u[y].name,this.parsePercent(u[y].x,g),this.parsePercent(u[y].y,m),"pin",o,"rgba(0,0,0,0)","horizontal"))._mark="point",(c=this.deepMerge([u[y],e],"effect")).show&&(s.effect=c),i.type===z.CHART_TYPE_MAP&&(s._geo=this.getMarkGeo(u[y])),A.pack(s,i,t,u[y],y,u[y].name,r),d.push(s)));return d},_markLine:function(){function E(t,e){t[e]=t[e]instanceof Array?1<t[e].length?t[e]:[t[e][0],t[e][0]]:[t[e],t[e]]}return function(t,e){var i=this.series[t],n=this.component,s=n.dataRange,o=n.legend;L.merge(L.merge(e,L.clone(this.ecTheme.markLine||{})),L.clone(z.markLine));var r=o?o.getColor(i.name):this.zr.getColor(t);E(e,"symbol"),E(e,"symbolSize"),E(e,"symbolRotate");for(var a=e.data,l=[],h=this.zr.getWidth(),c=this.zr.getHeight(),d=0;d<a.length;d++){if(M((w=a[d])[0])&&M(w[1])){var u=this.deepMerge(w),p=[u,e],f=r,g=null!=u.value?u.value:"";if(s){f=isNaN(g)?f:s.getColor(g);var m=this.deepQuery(p,"itemStyle.normal.color")||f,y=this.deepQuery(p,"itemStyle.emphasis.color")||m;if(null==m&&null==y)continue}w[0].tooltip=u.tooltip||e.tooltip||{trigger:"item"},w[0].name=w[0].name||"",w[1].name=w[1].name||"",w[0].value=g,l.push({points:[[this.parsePercent(w[0].x,h),this.parsePercent(w[0].y,c)],[this.parsePercent(w[1].x,h),this.parsePercent(w[1].y,c)]],rawData:w,color:f})}}var v=this.query(e,"bundling.enable");if(v){var _=new D;_.maxTurningAngle=this.query(e,"bundling.maxTurningAngle")/180*Math.PI,l=_.run(l)}e.name=i.name;for(var b=[],x=(d=0,l.length);d<x;d++){var w,C=l[d],k=C.rawEdge||C,S=(g=null!=(w=k.rawData).value?w.value:"",this.getMarkLineShape(e,t,w,d,C.points,v,k.color));S._mark="line";var T=this.deepMerge([w[0],w[1],e],"effect");T.show&&(S.effect=T,S.effect.large=e.large),i.type===z.CHART_TYPE_MAP&&(S._geo=[this.getMarkGeo(w[0]),this.getMarkGeo(w[1])]),A.pack(S,i,t,w[0],d,w[0].name+(""!==w[1].name?" > "+w[1].name:""),g),b.push(S)}return b}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(t,e,i,n,s,o,r,a,l,h,c){var d=[i,t],u=this.getDataFromOption(i,"-");a=this.deepQuery(d,"symbol")||a;var p=this.deepQuery(d,"symbolSize");p="function"==typeof p?p(u):p;var f=this.deepQuery(d,"symbolRotate"),g=this.deepMerge(d,"itemStyle.normal"),m=this.deepMerge(d,"itemStyle.emphasis"),y=null!=g.borderWidth?g.borderWidth:g.lineStyle&&g.lineStyle.width;null==y&&(y=a.match("empty")?2:0);var v=null!=m.borderWidth?m.borderWidth:m.lineStyle&&m.lineStyle.width;null==v&&(v=y+2);var _=this.getItemStyleColor(g.color,e,n,i),b=this.getItemStyleColor(m.color,e,n,i),x=new C({style:{iconType:a.replace("empty","").toLowerCase(),x:o-p,y:r-p,width:2*p,height:2*p,brushType:"both",color:a.match("empty")?h:_||l,strokeColor:g.borderColor||_||l,lineWidth:y},highlightStyle:{color:a.match("empty")?h:b||_||l,strokeColor:m.borderColor||g.borderColor||b||_||l,lineWidth:v},clickable:this.deepQuery(d,"clickable")});return a.match("image")&&(x.style.image=a.replace(new RegExp("^image:\\/\\/"),""),x=new w({style:x.style,highlightStyle:x.highlightStyle,clickable:this.deepQuery(d,"clickable")})),null!=f&&(x.rotation=[f*Math.PI/180,o,r]),a.match("star")&&(x.style.iconType="star",x.style.n=a.replace("empty","").replace("star","")-0||5),"none"===a&&(x.invisible=!0,x.hoverable=!1),x=this.addLabel(x,t,i,s,c),a.match("empty")&&(null==x.style.textColor&&(x.style.textColor=x.style.strokeColor),null==x.highlightStyle.textColor&&(x.highlightStyle.textColor=x.highlightStyle.strokeColor)),A.pack(x,t,e,i,n,s),x._x=o,x._y=r,x._dataIndex=n,x._seriesIndex=e,x},getMarkLineShape:function(t,e,i,n,s,o,r){var a=null!=i[0].value?i[0].value:"-",l=null!=i[1].value?i[1].value:"-",h=[i[0].symbol||t.symbol[0],i[1].symbol||t.symbol[1]],c=[i[0].symbolSize||t.symbolSize[0],i[1].symbolSize||t.symbolSize[1]];c[0]="function"==typeof c[0]?c[0](a):c[0],c[1]="function"==typeof c[1]?c[1](l):c[1];var d=[this.query(i[0],"symbolRotate")||t.symbolRotate[0],this.query(i[1],"symbolRotate")||t.symbolRotate[1]],u=[i[0],i[1],t],p=this.deepMerge(u,"itemStyle.normal");p.color=this.getItemStyleColor(p.color,e,n,i);var f=this.deepMerge(u,"itemStyle.emphasis");f.color=this.getItemStyleColor(f.color,e,n,i);var g=p.lineStyle,m=f.lineStyle,y=g.width;null==y&&(y=p.borderWidth);var v=m.width;null==v&&(v=null!=f.borderWidth?f.borderWidth:y+2);var _=this.deepQuery(u,"smoothness");this.deepQuery(u,"smooth")||(_=0);var b=new(o?S:k)({style:{symbol:h,symbolSize:c,symbolRotate:d,brushType:"both",lineType:g.type,shadowColor:g.shadowColor||g.color||p.borderColor||p.color||r,shadowBlur:g.shadowBlur,shadowOffsetX:g.shadowOffsetX,shadowOffsetY:g.shadowOffsetY,color:p.color||r,strokeColor:g.color||p.borderColor||p.color||r,lineWidth:y,symbolBorderColor:p.borderColor||p.color||r,symbolBorder:p.borderWidth},highlightStyle:{shadowColor:m.shadowColor,shadowBlur:m.shadowBlur,shadowOffsetX:m.shadowOffsetX,shadowOffsetY:m.shadowOffsetY,color:f.color||p.color||r,strokeColor:m.color||g.color||f.borderColor||p.borderColor||f.color||p.color||r,lineWidth:v,symbolBorderColor:f.borderColor||p.borderColor||f.color||p.color||r,symbolBorder:null==f.borderWidth?p.borderWidth+2:f.borderWidth},clickable:this.deepQuery(u,"clickable")}),x=b.style;return o?(x.pointList=s,x.smooth=_):(x.xStart=s[0][0],x.yStart=s[0][1],x.xEnd=s[1][0],x.yEnd=s[1][1],x.curveness=_,b.updatePoints(b.style)),this.addLabel(b,t,i[0],i[0].name+" : "+i[1].name)},getLargeMarkPointShape:function(t,e){var i,n,s,o,r,a,l=this.series[t],h=this.component,c=e.data,d=h.dataRange,u=h.legend,p=[c[0],e];if(u&&(n=u.getColor(l.name)),!d||(s=null!=c[0].value?c[0].value:"",n=isNaN(s)?n:d.getColor(s),o=this.deepQuery(p,"itemStyle.normal.color")||n,r=this.deepQuery(p,"itemStyle.emphasis.color")||o,null!=o||null!=r)){n=this.deepMerge(p,"itemStyle.normal").color||n;var f=this.deepQuery(p,"symbol")||"circle";f=f.replace("empty","").replace(/\d/g,""),a=this.deepMerge([c[0],e],"effect");var g=window.devicePixelRatio||1;return i=new m({style:{pointList:c,color:n,strokeColor:n,shadowColor:a.shadowColor||n,shadowBlur:(null!=a.shadowBlur?a.shadowBlur:8)*g,size:this.deepQuery(p,"symbolSize"),iconType:f,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),a.show&&(i.effect=a),i}},backupShapeList:function(){this.shapeList&&0<this.shapeList.length?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var t,e,i=this.option.animationThreshold/(this.canvasSupported?2:4),n=this.lastShapeList,s=this.shapeList,o=0<n.length,r=o?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration"),a=this.query(this.option,"animationEasing"),l={},h={};if(this.option.animation&&!this.option.renderAsImage&&s.length<i&&!this.motionlessOnce){for(var c=0,d=n.length;c<d;c++)(e=this._getAnimationKey(n[c])).match("undefined")?this.zr.delShape(n[c].id):l[e+=n[c].type]?this.zr.delShape(n[c].id):l[e]=n[c];for(c=0,d=s.length;c<d;c++)(e=this._getAnimationKey(s[c])).match("undefined")?this.zr.addShape(s[c]):h[e+=s[c].type]=s[c];for(e in l)h[e]||this.zr.delShape(l[e].id);for(e in h)l[e]?(this.zr.delShape(l[e].id),this._animateMod(l[e],h[e],r,a,0,o)):(t=this.type!=z.CHART_TYPE_LINE&&this.type!=z.CHART_TYPE_RADAR||0===e.indexOf("icon")?0:r/2,this._animateMod(!1,h[e],r,a,t,o));this.zr.refresh(),this.animationEffect()}else{this.motionlessOnce=!1,this.zr.delShape(n);for(c=0,d=s.length;c<d;c++)this.zr.addShape(s[c])}},_getAnimationKey:function(t){return this.type!=z.CHART_TYPE_MAP?A.get(t,"seriesIndex")+"_"+A.get(t,"dataIndex")+(t._mark?t._mark:"")+(this.type===z.CHART_TYPE_RADAR?A.get(t,"special"):""):A.get(t,"seriesIndex")+"_"+A.get(t,"dataIndex")+(t._mark?t._mark:"undefined")},_animateMod:function(t,e,i,n,s,o){switch(e.type){case"polyline":case"half-smooth-polygon":r.pointList(this.zr,t,e,i,n);break;case"rectangle":r.rectangle(this.zr,t,e,i,n);break;case"image":case"icon":r.icon(this.zr,t,e,i,n,s);break;case"candle":o?this.zr.addShape(e):r.candle(this.zr,t,e,i,n);break;case"ring":case"sector":case"circle":o?"sector"===e.type?r.sector(this.zr,t,e,i,n):this.zr.addShape(e):r.ring(this.zr,t,e,i+(A.get(e,"dataIndex")||0)%20*100,n);break;case"text":r.text(this.zr,t,e,i,n);break;case"polygon":o?r.pointList(this.zr,t,e,i,n):r.polygon(this.zr,t,e,i,n);break;case"ribbon":r.ribbon(this.zr,t,e,i,n);break;case"gauge-pointer":r.gaugePointer(this.zr,t,e,i,n);break;case"mark-line":r.markline(this.zr,t,e,i,n);break;case"bezier-curve":case"line":r.line(this.zr,t,e,i,n);break;default:this.zr.addShape(e)}},animationMark:function(t,e,i){for(var n=0,s=(i=i||this.shapeList).length;n<s;n++)i[n]._mark&&this._animateMod(!1,i[n],t,e,0,!0);this.animationEffect(i)},animationEffect:function(t){if(!t&&this.clearEffectShape(),null!=(t=t||this.shapeList)){var e=z.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(e,{motionBlur:!0,lastFrameAlpha:.95});for(var i,n=0,s=t.length;n<s;n++)(i=t[n])._mark&&i.effect&&i.effect.show&&o[i._mark]&&(o[i._mark](this.zr,this.effectList,i,e),this.effectList[this.effectList.length-1]._mark=i._mark)}},clearEffectShape:function(t){var e=this.effectList;if(this.zr&&e&&0<e.length){t&&this.zr.modLayer(z.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(e);for(var i=0;i<e.length;i++)e[i].effectAnimator&&e[i].effectAnimator.stop()}this.effectList=[]},addMark:function(t,e,i){var n=this.series[t];if(this.selectedMap[n.name]){var s=this.query(this.option,"animationDurationUpdate"),o=this.query(this.option,"animationEasing"),r=n[i].data,a=this.shapeList.length;if(n[i].data=e.data,this["_build"+i.replace("m","M")](t),this.option.animation&&!this.option.renderAsImage)this.animationMark(s,o,this.shapeList.slice(a));else{for(var l=a,h=this.shapeList.length;l<h;l++)this.zr.addShape(this.shapeList[l]);this.zr.refreshNextFrame()}n[i].data=r}},delMark:function(t,e,i){i=i.replace("mark","").replace("large","").toLowerCase();var n=this.series[t];if(this.selectedMap[n.name]){for(var s=!1,o=[this.shapeList,this.effectList],r=2;r--;)for(var a=0,l=o[r].length;a<l;a++)if(o[r][a]._mark==i&&A.get(o[r][a],"seriesIndex")==t&&A.get(o[r][a],"name")==e){this.zr.delShape(o[r][a].id),o[r].splice(a,1),s=!0;break}s&&this.zr.refreshNextFrame()}}},L.inherits(e,a),e}),define("zrender/shape/Circle",["require","./Base","../tool/util"],function(t){"use strict";var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"circle",buildPath:function(t,e){t.moveTo(e.x+e.r,e.y),t.arc(e.x,e.y,e.r,0,2*Math.PI,!0)},getRect:function(t){return t.__rect||(e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-t.r-e/2),y:Math.round(t.y-t.r-e/2),width:2*t.r+e,height:2*t.r+e}),t.__rect;var e}},t("../tool/util").inherits(i,e),i}),define("echarts/util/accMath",[],function(){function i(t,e){var i=0,n=0;try{i=t.toString().split(".")[1].length}catch(t){}try{n=e.toString().split(".")[1].length}catch(t){}var s=Math.pow(10,Math.max(i,n));return(Math.round(t*s)+Math.round(e*s))/s}return{accDiv:function(t,e){var i=t.toString(),n=e.toString(),s=0;try{s=n.split(".")[1].length}catch(t){}try{s-=i.split(".")[1].length}catch(t){}return(i.replace(".","")-0)/(n.replace(".","")-0)*Math.pow(10,s)},accMul:function(t,e){var i=t.toString(),n=e.toString(),s=0;try{s+=i.split(".")[1].length}catch(t){}try{s+=n.split(".")[1].length}catch(t){}return(i.replace(".","")-0)*(n.replace(".","")-0)/Math.pow(10,s)},accAdd:i,accSub:function(t,e){return i(t,-e)}}}),define("echarts/util/shape/Icon",["require","zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(o){function t(t){i.call(this,t)}var e=o("zrender/tool/util"),i=o("zrender/shape/Base");return t.prototype={type:"icon",iconLibrary:{mark:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;t.moveTo(i,n+e.height),t.lineTo(i+5*s,n+14*o),t.lineTo(i+e.width,n+3*o),t.lineTo(i+13*s,n),t.lineTo(i+2*s,n+11*o),t.lineTo(i,n+e.height),t.moveTo(i+6*s,n+10*o),t.lineTo(i+14*s,n+2*o),t.moveTo(i+10*s,n+13*o),t.lineTo(i+e.width,n+13*o),t.moveTo(i+13*s,n+10*o),t.lineTo(i+13*s,n+e.height)},markUndo:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;t.moveTo(i,n+e.height),t.lineTo(i+5*s,n+14*o),t.lineTo(i+e.width,n+3*o),t.lineTo(i+13*s,n),t.lineTo(i+2*s,n+11*o),t.lineTo(i,n+e.height),t.moveTo(i+6*s,n+10*o),t.lineTo(i+14*s,n+2*o),t.moveTo(i+10*s,n+13*o),t.lineTo(i+e.width,n+13*o)},markClear:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;t.moveTo(i+4*s,n+15*o),t.lineTo(i+9*s,n+13*o),t.lineTo(i+14*s,n+8*o),t.lineTo(i+11*s,n+5*o),t.lineTo(i+6*s,n+10*o),t.lineTo(i+4*s,n+15*o),t.moveTo(i+5*s,n),t.lineTo(i+11*s,n),t.moveTo(i+5*s,n+o),t.lineTo(i+11*s,n+o),t.moveTo(i,n+2*o),t.lineTo(i+e.width,n+2*o),t.moveTo(i,n+5*o),t.lineTo(i+3*s,n+e.height),t.lineTo(i+13*s,n+e.height),t.lineTo(i+e.width,n+5*o)},dataZoom:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;t.moveTo(i,n+3*o),t.lineTo(i+6*s,n+3*o),t.moveTo(i+3*s,n),t.lineTo(i+3*s,n+6*o),t.moveTo(i+3*s,n+8*o),t.lineTo(i+3*s,n+e.height),t.lineTo(i+e.width,n+e.height),t.lineTo(i+e.width,n+3*o),t.lineTo(i+8*s,n+3*o)},dataZoomReset:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;t.moveTo(i+6*s,n),t.lineTo(i+2*s,n+3*o),t.lineTo(i+6*s,n+6*o),t.moveTo(i+2*s,n+3*o),t.lineTo(i+14*s,n+3*o),t.lineTo(i+14*s,n+11*o),t.moveTo(i+2*s,n+5*o),t.lineTo(i+2*s,n+13*o),t.lineTo(i+14*s,n+13*o),t.moveTo(i+10*s,n+10*o),t.lineTo(i+14*s,n+13*o),t.lineTo(i+10*s,n+e.height)},restore:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16,r=e.width/2;t.lineWidth=1.5,t.arc(i+r,n+r,r-s,0,2*Math.PI/3),t.moveTo(i+3*s,n+e.height),t.lineTo(i+0*s,n+12*o),t.lineTo(i+5*s,n+11*o),t.moveTo(i,n+8*o),t.arc(i+r,n+r,r-s,Math.PI,5*Math.PI/3),t.moveTo(i+13*s,n),t.lineTo(i+e.width,n+4*o),t.lineTo(i+11*s,n+5*o)},lineChart:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;t.moveTo(i,n),t.lineTo(i,n+e.height),t.lineTo(i+e.width,n+e.height),t.moveTo(i+2*s,n+14*o),t.lineTo(i+7*s,n+6*o),t.lineTo(i+11*s,n+11*o),t.lineTo(i+15*s,n+2*o)},barChart:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;t.moveTo(i,n),t.lineTo(i,n+e.height),t.lineTo(i+e.width,n+e.height),t.moveTo(i+3*s,n+14*o),t.lineTo(i+3*s,n+6*o),t.lineTo(i+4*s,n+6*o),t.lineTo(i+4*s,n+14*o),t.moveTo(i+7*s,n+14*o),t.lineTo(i+7*s,n+2*o),t.lineTo(i+8*s,n+2*o),t.lineTo(i+8*s,n+14*o),t.moveTo(i+11*s,n+14*o),t.lineTo(i+11*s,n+9*o),t.lineTo(i+12*s,n+9*o),t.lineTo(i+12*s,n+14*o)},pieChart:function(t,e){var i=e.x,n=e.y,s=e.width-2,o=e.height-2,r=Math.min(s,o)/2;n+=2,t.moveTo(i+r+3,n+r-3),t.arc(i+r+3,n+r-3,r-1,0,-Math.PI/2,!0),t.lineTo(i+r+3,n+r-3),t.moveTo(i+r,n),t.lineTo(i+r,n+r),t.arc(i+r,n+r,r,-Math.PI/2,2*Math.PI,!0),t.lineTo(i+r,n+r),t.lineWidth=1.5},funnelChart:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;n-=o,t.moveTo(i+1*s,n+2*o),t.lineTo(i+15*s,n+2*o),t.lineTo(i+14*s,n+3*o),t.lineTo(i+2*s,n+3*o),t.moveTo(i+3*s,n+6*o),t.lineTo(i+13*s,n+6*o),t.lineTo(i+12*s,n+7*o),t.lineTo(i+4*s,n+7*o),t.moveTo(i+5*s,n+10*o),t.lineTo(i+11*s,n+10*o),t.lineTo(i+10*s,n+11*o),t.lineTo(i+6*s,n+11*o),t.moveTo(i+7*s,n+14*o),t.lineTo(i+9*s,n+14*o),t.lineTo(i+8*s,n+15*o),t.lineTo(i+7*s,n+15*o)},forceChart:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16,r=2*Math.min(s,o);t.moveTo(i+s+r,n+o+r),t.arc(i+s,n+o,r,Math.PI/4,3*Math.PI),t.lineTo(i+7*s-r,n+6*o-r),t.arc(i+7*s,n+6*o,r,Math.PI/4*5,4*Math.PI),t.arc(i+7*s,n+6*o,r/2,Math.PI/4*5,4*Math.PI),t.moveTo(i+7*s-r/2,n+6*o+r),t.lineTo(i+s+r,n+14*o-r),t.arc(i+s,n+14*o,r,-Math.PI/4,2*Math.PI),t.moveTo(i+7*s+r/2,n+6*o),t.lineTo(i+14*s-r,n+10*o-r/2),t.moveTo(i+16*s,n+10*o),t.arc(i+14*s,n+10*o,r,0,3*Math.PI),t.lineWidth=1.5},chordChart:function(t,e){var i=e.x,n=e.y,s=e.width,o=e.height,r=Math.min(s,o)/2;t.moveTo(i+s,n+o/2),t.arc(i+r,n+r,r,0,2*Math.PI),t.arc(i+r,n,r,Math.PI/4,Math.PI/5*4),t.arc(i,n+r,r,-Math.PI/3,Math.PI/3),t.arc(i+s,n+o,r,Math.PI,Math.PI/2*3),t.lineWidth=1.5},stackChart:function(t,e){for(var i=e.x,n=e.y,s=e.width,o=e.height,r=Math.round(o/3),a=Math.round((r-2)/2),l=3;l--;)t.rect(i,n+r*l+a,s,2)},tiledChart:function(t,e){for(var i=e.x,n=e.y,s=e.width,o=e.height,r=Math.round(s/3),a=Math.round((r-2)/2),l=3;l--;)t.rect(i+r*l+a,n,2,o)},dataView:function(t,e){var i=e.x,n=e.y,s=e.width/16;t.moveTo(i+s,n),t.lineTo(i+s,n+e.height),t.lineTo(i+15*s,n+e.height),t.lineTo(i+15*s,n),t.lineTo(i+s,n),t.moveTo(i+3*s,n+3*s),t.lineTo(i+13*s,n+3*s),t.moveTo(i+3*s,n+6*s),t.lineTo(i+13*s,n+6*s),t.moveTo(i+3*s,n+9*s),t.lineTo(i+13*s,n+9*s),t.moveTo(i+3*s,n+12*s),t.lineTo(i+9*s,n+12*s)},saveAsImage:function(t,e){var i=e.x,n=e.y,s=e.width/16,o=e.height/16;t.moveTo(i,n),t.lineTo(i,n+e.height),t.lineTo(i+e.width,n+e.height),t.lineTo(i+e.width,n),t.lineTo(i,n),t.moveTo(i+4*s,n),t.lineTo(i+4*s,n+8*o),t.lineTo(i+12*s,n+8*o),t.lineTo(i+12*s,n),t.moveTo(i+6*s,n+11*o),t.lineTo(i+6*s,n+13*o),t.lineTo(i+10*s,n+13*o),t.lineTo(i+10*s,n+11*o),t.lineTo(i+6*s,n+11*o)},cross:function(t,e){var i=e.x,n=e.y,s=e.width,o=e.height;t.moveTo(i,n+o/2),t.lineTo(i+s,n+o/2),t.moveTo(i+s/2,n),t.lineTo(i+s/2,n+o)},circle:function(t,e){var i=e.width/2,n=e.height/2,s=Math.min(i,n);t.moveTo(e.x+i+s,e.y+n),t.arc(e.x+i,e.y+n,s,0,2*Math.PI),t.closePath()},rectangle:function(t,e){t.rect(e.x,e.y,e.width,e.height),t.closePath()},triangle:function(t,e){var i=e.width/2,n=e.height/2,s=e.x+i,o=e.y+n,r=Math.min(i,n);t.moveTo(s,o-r),t.lineTo(s+r,o+r),t.lineTo(s-r,o+r),t.lineTo(s,o-r),t.closePath()},diamond:function(t,e){var i=e.width/2,n=e.height/2,s=e.x+i,o=e.y+n,r=Math.min(i,n);t.moveTo(s,o-r),t.lineTo(s+r,o),t.lineTo(s,o+r),t.lineTo(s-r,o),t.lineTo(s,o-r),t.closePath()},arrow:function(t,e){var i=e.x,n=e.y,s=e.width/16;t.moveTo(i+8*s,n),t.lineTo(i+s,n+e.height),t.lineTo(i+8*s,n+e.height/4*3),t.lineTo(i+15*s,n+e.height),t.lineTo(i+8*s,n),t.closePath()},star:function(t,e){var i=o("zrender/shape/Star"),n=e.width/2,s=e.height/2;i.prototype.buildPath(t,{x:e.x+n,y:e.y+s,r:Math.min(n,s),n:e.n||5})},heart:function(t,e){o("zrender/shape/Heart").prototype.buildPath(t,{x:e.x+e.width/2,y:e.y+.2*e.height,a:e.width/2,b:.8*e.height})},droplet:function(t,e){o("zrender/shape/Droplet").prototype.buildPath(t,{x:e.x+.5*e.width,y:e.y+.5*e.height,a:.5*e.width,b:.8*e.height})},pin:function(t,e){var i=e.x,n=e.y-e.height/2*1.5,s=e.width/2,o=e.height/2,r=Math.min(s,o);t.arc(i+s,n+o,r,Math.PI/5*4,Math.PI/5),t.lineTo(i+s,n+o+1.5*r),t.closePath()},image:function(t,e,i){var n=o("zrender/shape/Image");for(var s in this._imageShape=this._imageShape||new n({style:{}}),e)this._imageShape.style[s]=e[s];this._imageShape.brush(t,!1,i)}},brush:function(t,e,i){if("image"===((n=(n=e?this.highlightStyle:this.style)||{}).iconType||this.style.iconType)){o("zrender/shape/Image").prototype.brush.call(this,t,e,i)}else{var n=this.beforeBrush(t,e);switch(t.beginPath(),this.buildPath(t,n,i),n.brushType){case"both":t.fill();case"stroke":0<n.lineWidth&&t.stroke();break;default:t.fill()}this.drawText(t,n,this.style),this.afterBrush(t)}},buildPath:function(t,e,i){this.iconLibrary[e.iconType]?this.iconLibrary[e.iconType].call(this,t,e,i):(t.moveTo(e.x,e.y),t.lineTo(e.x+e.width,e.y),t.lineTo(e.x+e.width,e.y+e.height),t.lineTo(e.x,e.y+e.height),t.lineTo(e.x,e.y),t.closePath())},getRect:function(t){return t.__rect||(t.__rect={x:Math.round(t.x),y:Math.round(t.y-("pin"==t.iconType?t.height/2*1.5:0)),width:t.width,height:t.height*("pin"===t.iconType?1.25:1)}),t.__rect},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);t=i[0],e=i[1];var n=this.style.__rect;n||(n=this.style.__rect=this.getRect(this.style));var s=n.height<8||n.width<8?4:0;return t>=n.x-s&&t<=n.x+n.width+s&&e>=n.y-s&&e<=n.y+n.height+s}},e.inherits(t,i),t}),define("echarts/util/shape/MarkLine",["require","zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(t){function e(t){i.call(this,t),0<this.style.curveness&&this.updatePoints(this.style),0<this.highlightStyle.curveness&&this.updatePoints(this.highlightStyle)}var i=t("zrender/shape/Base"),_=t("./Icon"),n=new(t("zrender/shape/Line"))({}),s=new(t("zrender/shape/BezierCurve"))({}),o=t("zrender/tool/area"),r=t("zrender/shape/util/dashedLineTo"),a=t("zrender/tool/util"),b=t("zrender/tool/curve");return e.prototype={type:"mark-line",brush:function(t,e){var i=this.style;e&&(i=this.getHighlightStyle(i,this.highlightStyle||{})),t.save(),this.setContext(t,i),this.setTransform(t),t.save(),t.beginPath(),this.buildPath(t,i),t.stroke(),t.restore(),this.brushSymbol(t,i,0),this.brushSymbol(t,i,1),this.drawText(t,i,this.style),t.restore()},buildPath:function(t,e){var i=e.lineType||"solid";if(t.moveTo(e.xStart,e.yStart),0<e.curveness){var n=null;switch(i){case"dashed":n=[5,5];break;case"dotted":n=[1,1]}n&&t.setLineDash&&t.setLineDash(n),t.quadraticCurveTo(e.cpX1,e.cpY1,e.xEnd,e.yEnd)}else if("solid"==i)t.lineTo(e.xEnd,e.yEnd);else{var s=(e.lineWidth||1)*("dashed"==e.lineType?5:1);r(t,e.xStart,e.yStart,e.xEnd,e.yEnd,s)}},updatePoints:function(t){var e=t.curveness||0,i=t.xStart,n=t.yStart,s=t.xEnd,o=t.yEnd,r=(i+s)/2-1*(n-o)*e,a=(n+o)/2-1*(s-i)*e;t.cpX1=r,t.cpY1=a},brushSymbol:function(t,e,i){if("none"!=e.symbol[i]){t.save(),t.beginPath(),t.lineWidth=e.symbolBorder,t.strokeStyle=e.symbolBorderColor;var n=e.symbol[i].replace("empty","").toLowerCase();e.symbol[i].match("empty")&&(t.fillStyle="#fff");var s=e.xStart,o=e.yStart,r=e.xEnd,a=e.yEnd,l=0===i?s:r,h=0===i?o:a,c=e.curveness||0,d=null!=e.symbolRotate[i]?e.symbolRotate[i]-0:0;if(d=d/180*Math.PI,"arrow"==n&&0===d)if(0===c){var u=0===i?-1:1;d=Math.PI/2+Math.atan2(u*(a-o),u*(r-s))}else{var p=e.cpX1,f=e.cpY1,g=b.quadraticDerivativeAt,m=g(s,p,r,i),y=g(o,f,a,i);d=Math.PI/2+Math.atan2(y,m)}t.translate(l,h),0!==d&&t.rotate(d);var v=e.symbolSize[i];_.prototype.buildPath(t,{x:-v,y:-v,width:2*v,height:2*v,iconType:n}),t.closePath(),t.fill(),t.stroke(),t.restore()}},getRect:function(t){return 0<t.curveness?s.getRect(t):n.getRect(t),t.__rect},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],!!this.isCoverRect(t,e)&&(0<this.style.curveness?o.isInside(s,this.style,t,e):o.isInside(n,this.style,t,e))}},a.inherits(e,i),e}),define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),n=new(t("zrender/shape/Polygon"))({}),s=t("zrender/tool/util");return e.prototype={type:"symbol",buildPath:function(t,e){var i=e.pointList,n=i.length;if(0!==n)for(var s,o,r,a,l,h=Math.ceil(n/1e4),c=i[0]instanceof Array,d=e.size?e.size:2,u=d,p=d/2,f=2*Math.PI,g=0;g<h;g++){t.beginPath(),o=n<(o=(s=1e4*g)+1e4)?n:o;for(var m=s;m<o;m++)if(e.random&&(p=(u=d*(r=e["randomMap"+m%20]/100)*r)/2),l=c?(a=i[m][0],i[m][1]):(a=i[m].x,i[m].y),u<3)t.rect(a-p,l-p,u,u);else switch(e.iconType){case"circle":t.moveTo(a,l),t.arc(a,l,p,0,f,!0);break;case"diamond":t.moveTo(a,l-p),t.lineTo(a+p/3,l-p/3),t.lineTo(a+p,l),t.lineTo(a+p/3,l+p/3),t.lineTo(a,l+p),t.lineTo(a-p/3,l+p/3),t.lineTo(a-p,l),t.lineTo(a-p/3,l-p/3),t.lineTo(a,l-p);break;default:t.rect(a-p,l-p,u,u)}if(t.closePath(),g<h-1)switch(e.brushType){case"both":t.fill(),0<e.lineWidth&&t.stroke();break;case"stroke":0<e.lineWidth&&t.stroke();break;default:t.fill()}}},getRect:function(t){return t.__rect||n.getRect(t)},isCover:t("./normalIsCover")},s.inherits(e,i),e}),define("zrender/shape/Polyline",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(e){var i=e("./Base"),c=e("./util/smoothSpline"),n=e("./util/smoothBezier"),d=e("./util/dashedLineTo"),t=function(t){this.brushTypeOnly="stroke",this.textPosition="end",i.call(this,t)};return t.prototype={type:"polyline",buildPath:function(t,e){var i=e.pointList;if(!(i.length<2)){var n=Math.min(e.pointList.length,Math.round(e.pointListLength||e.pointList.length));if(e.smooth&&"spline"!==e.smooth){e.controlPointList||this.updateControlPoints(e);var s=e.controlPointList;t.moveTo(i[0][0],i[0][1]);for(var o,r,a,l=0;l<n-1;l++)o=s[2*l],r=s[2*l+1],a=i[l+1],t.bezierCurveTo(o[0],o[1],r[0],r[1],a[0],a[1])}else if("spline"===e.smooth&&(n=(i=c(i)).length),e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var h=(e.lineWidth||1)*("dashed"==e.lineType?5:1);t.moveTo(i[0][0],i[0][1]);for(l=1;l<n;l++)d(t,i[l-1][0],i[l-1][1],i[l][0],i[l][1],h)}}else{t.moveTo(i[0][0],i[0][1]);for(l=1;l<n;l++)t.lineTo(i[l][0],i[l][1])}}},updateControlPoints:function(t){t.controlPointList=n(t.pointList,t.smooth,!1,t.smoothConstraint)},getRect:function(t){return e("./Polygon").prototype.getRect(t)}},e("../tool/util").inherits(t,i),t}),define("zrender/shape/ShapeBundle",["require","./Base","../tool/util"],function(t){var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={constructor:i,type:"shape-bundle",brush:function(t,e){var i=this.beforeBrush(t,e);t.beginPath();for(var n=0;n<i.shapeList.length;n++){var s=i.shapeList[n],o=s.style;e&&(o=s.getHighlightStyle(o,s.highlightStyle||{},s.brushTypeOnly)),s.buildPath(t,o)}switch(i.brushType){case"both":t.fill();case"stroke":0<i.lineWidth&&t.stroke();break;default:t.fill()}this.drawText(t,i,this.style),this.afterBrush(t)},getRect:function(t){if(t.__rect)return t.__rect;for(var e=1/0,i=-1/0,n=1/0,s=-1/0,o=0;o<t.shapeList.length;o++){var r=t.shapeList[o],a=r.getRect(r.style);e=Math.min(a.x,e),n=Math.min(a.y,n),i=Math.max(a.x+a.width,i),s=Math.max(a.y+a.height,s)}return t.__rect={x:e,y:n,width:i-e,height:s-n},t.__rect},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);if(t=i[0],e=i[1],this.isCoverRect(t,e))for(var n=0;n<this.style.shapeList.length;n++){if(this.style.shapeList[n].isCover(t,e))return!0}return!1}},t("../tool/util").inherits(i,e),i}),define("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(l){function d(t,e){for(var i=arguments.length,n=2;n<i;n++){var s=arguments[n];t.style[s]=e.style[s]}}function h(t,e,i,n,s){var o=i.style;e||(e={position:i.position,style:{x:o.x,y:"vertical"==i._orient?o.y+o.height:o.y,width:"vertical"==i._orient?o.width:0,height:"vertical"!=i._orient?o.height:0}});var r=o.x,a=o.y,l=o.width,h=o.height,c=[i.position[0],i.position[1]];d(i,e,"x","y","width","height"),i.position=e.position,t.addShape(i),(c[0]!=e.position[0]||c[1]!=e.position[1])&&t.animate(i.id,"").when(n,{position:c}).start(s),i.__animating=!0,t.animate(i.id,"style").when(n,{x:r,y:a,width:l,height:h}).done(function(){i.__animating=!1}).start(s)}var u=l("zrender/tool/util"),y=l("zrender/tool/curve");return{pointList:function(t,e,i,n,s){var o,r=i.style.pointList,a=r.length;if(!e){if(o=[],"vertical"!=i._orient)for(var l=r[0][1],h=0;h<a;h++)o[h]=[r[h][0],l];else{var c=r[0][0];for(h=0;h<a;h++)o[h]=[c,r[h][1]]}"half-smooth-polygon"==i.type&&(o[a-1]=u.clone(r[a-1]),o[a-2]=u.clone(r[a-2])),e={style:{pointList:o}}}var d=(o=e.style.pointList).length;i.style.pointList=d==a?o:d<a?o.concat(r.slice(d)):o.slice(0,a),t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(n,{pointList:r}).during(function(){i.updateControlPoints&&i.updateControlPoints(i.style)}).done(function(){i.__animating=!1}).start(s)},rectangle:h,candle:function(t,e,i,n,s){if(!e){var o=i.style.y;e={style:{y:[o[0],o[0],o[0],o[0]]}}}var r=i.style.y;i.style.y=e.style.y,t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(n,{y:r}).done(function(){i.__animating=!1}).start(s)},ring:function(t,e,i,n,s){var o=i.style.x,r=i.style.y,a=i.style.r0,l=i.style.r;i.__animating=!0,"r"!=i._animationAdd?(i.style.r0=0,i.style.r=0,i.rotation=[2*Math.PI,o,r],t.addShape(i),t.animate(i.id,"style").when(n,{r0:a,r:l}).done(function(){i.__animating=!1}).start(s),t.animate(i.id,"").when(Math.round(n/3*2),{rotation:[0,o,r]}).start(s)):(i.style.r0=i.style.r,t.addShape(i),t.animate(i.id,"style").when(n,{r0:a}).done(function(){i.__animating=!1}).start(s))},sector:function(t,e,i,n,s){e||(e="r"!=i._animationAdd?{style:{startAngle:i.style.startAngle,endAngle:i.style.startAngle}}:{style:{r0:i.style.r}});var o=i.style.startAngle,r=i.style.endAngle;d(i,e,"startAngle","endAngle"),t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(n,{startAngle:o,endAngle:r}).done(function(){i.__animating=!1}).start(s)},text:function(t,e,i,n,s){e||(e={style:{x:"left"==i.style.textAlign?i.style.x+100:i.style.x-100,y:i.style.y}});var o=i.style.x,r=i.style.y;d(i,e,"x","y"),t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(n,{x:o,y:r}).done(function(){i.__animating=!1}).start(s)},polygon:function(t,e,i,n,s){var o=l("zrender/shape/Polygon").prototype.getRect(i.style),r=o.x+o.width/2,a=o.y+o.height/2;i.scale=[.1,.1,r,a],t.addShape(i),i.__animating=!0,t.animate(i.id,"").when(n,{scale:[1,1,r,a]}).done(function(){i.__animating=!1}).start(s)},ribbon:function(t,e,i,n,s){e||(e={style:{source0:0,source1:0<i.style.source1?360:-360,target0:0,target1:0<i.style.target1?360:-360}});var o=i.style.source0,r=i.style.source1,a=i.style.target0,l=i.style.target1;e.style&&d(i,e,"source0","source1","target0","target1"),t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(n,{source0:o,source1:r,target0:a,target1:l}).done(function(){i.__animating=!1}).start(s)},gaugePointer:function(t,e,i,n,s){e||(e={style:{angle:i.style.startAngle}});var o=i.style.angle;i.style.angle=e.style.angle,t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(n,{angle:o}).done(function(){i.__animating=!1}).start(s)},icon:function(t,e,i,n,s,o){if(i.style._x=i.style.x,i.style._y=i.style.y,i.style._width=i.style.width,i.style._height=i.style.height,e)h(t,e,i,n,s);else{var r=i._x||0,a=i._y||0;i.scale=[.01,.01,r,a],t.addShape(i),i.__animating=!0,t.animate(i.id,"").delay(o).when(n,{scale:[1,1,r,a]}).done(function(){i.__animating=!1}).start(s||"QuinticOut")}},line:function(t,e,i,n,s){e||(e={style:{xStart:i.style.xStart,yStart:i.style.yStart,xEnd:i.style.xStart,yEnd:i.style.yStart}});var o=i.style.xStart,r=i.style.xEnd,a=i.style.yStart,l=i.style.yEnd;d(i,e,"xStart","xEnd","yStart","yEnd"),t.addShape(i),i.__animating=!0,t.animate(i.id,"style").when(n,{xStart:o,xEnd:r,yStart:a,yEnd:l}).done(function(){i.__animating=!1}).start(s)},markline:function(t,e,i,n,s){s=s||"QuinticOut",i.__animating=!0,t.addShape(i);var o=i.style,r=function(){i.__animating=!1},a=o.xStart,l=o.yStart,h=o.xEnd,c=o.yEnd;if(0<o.curveness){i.updatePoints(o);var d={p:0},u=o.cpX1,p=o.cpY1,f=[],g=[],m=y.quadraticSubdivide;t.animation.animate(d).when(n,{p:1}).during(function(){m(a,u,h,d.p,f),m(l,p,c,d.p,g),o.cpX1=f[1],o.cpY1=g[1],o.xEnd=f[2],o.yEnd=g[2],t.modShape(i)}).done(r).start(s)}else t.animate(i.id,"style").when(0,{xEnd:a,yEnd:l}).when(n,{xEnd:h,yEnd:c}).done(r).start(s)}}}),define("echarts/util/ecEffect",["require","../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(t){function f(l,t,e,i,h){var n=e.effect,s=e.style,o=n.color||s.strokeColor||s.color,r=n.shadowColor||s.strokeColor||o,a=s.lineWidth*n.scaleSize,c=void 0!==n.shadowBlur?n.shadowBlur:a,d=new L({zlevel:i,style:{x:c,y:c,r:a,color:o,shadowColor:r,shadowBlur:c},hoverable:!1}),u=0;if(P&&!h){i=d.zlevel;(d=l.shapeToImage(d,2*(a+c),2*(a+c))).zlevel=i,d.hoverable=!1,u=c}h||(D.clone(e,d),d.position=e.position,t.push(d),l.addShape(d));var p=function(){h||(e.effect.show=!1,l.delShape(d.id)),d.effectAnimator=null};if(e instanceof O){for(var f=[0],g=0,m=s.pointList,y=s.controlPointList,v=1;v<m.length;v++){if(y){var _=y[2*(v-1)],b=y[2*(v-1)+1];g+=I.dist(m[v-1],_)+I.dist(_,b)+I.dist(b,m[v])}else g+=I.dist(m[v-1],m[v]);f.push(g)}var x={p:0},w=l.animation.animate(x,{loop:n.loop});for(v=0;v<f.length;v++)w.when(f[v]*n.period,{p:v});w.during(function(){var t,e,i=Math.floor(x.p);if(i==m.length-1)t=m[i][0],e=m[i][1];else{var n=x.p-i,s=m[i],o=m[i+1];if(y){var r=y[2*i],a=y[2*i+1];t=$.cubicAt(s[0],r[0],a[0],o[0],n),e=$.cubicAt(s[1],r[1],a[1],o[1],n)}else t=(o[0]-s[0])*n+s[0],e=(o[1]-s[1])*n+s[1]}d.style.x=t,d.style.y=e,h||l.modShape(d)}).done(p).start(),w.duration=g*n.period,d.effectAnimator=w}else{var C=s.xStart-u,k=s.yStart-u,S=s.xEnd-u,T=s.yEnd-u;d.style.x=C,d.style.y=k;var E=(S-C)*(S-C)+(T-k)*(T-k),M=Math.round(Math.sqrt(Math.round(E*n.period*n.period)));if(0<e.style.curveness){var z=s.cpX1-u,A=s.cpY1-u;d.effectAnimator=l.animation.animate(d,{loop:n.loop}).when(M,{p:1}).during(function(t,e){d.style.x=$.quadraticAt(C,z,S,e),d.style.y=$.quadraticAt(k,A,T,e),h||l.modShape(d)}).done(p).start()}else d.effectAnimator=l.animation.animate(d.style,{loop:n.loop}).when(M,{x:S,y:T}).during(function(){h||l.modShape(d)}).done(p).start();d.effectAnimator.duration=M}return d}var D=t("../util/ecData"),L=t("zrender/shape/Circle"),m=t("zrender/shape/Image"),$=t("zrender/tool/curve"),y=t("../util/shape/Icon"),g=t("../util/shape/Symbol"),v=t("zrender/shape/ShapeBundle"),O=t("zrender/shape/Polyline"),I=t("zrender/tool/vector"),P=t("zrender/tool/env").canvasSupported;return{point:function(t,e,i,n){var s,o=i.effect,r=o.color||i.style.strokeColor||i.style.color,a=o.shadowColor||r,l=o.scaleSize,h=o.bounceDistance,c=void 0!==o.shadowBlur?o.shadowBlur:l;"image"!==i.type?(s=new y({zlevel:n,style:{brushType:"stroke",iconType:"droplet"!=i.style.iconType?i.style.iconType:"circle",x:c+1,y:c+1,n:i.style.n,width:i.style._width*l,height:i.style._height*l,lineWidth:1,strokeColor:r,shadowColor:a,shadowBlur:c},draggable:!1,hoverable:!1}),"pin"==i.style.iconType&&(s.style.y+=s.style.height/2*1.5),P&&(s.style.image=t.shapeToImage(s,s.style.width+2*c+2,s.style.height+2*c+2).style.image,s=new m({zlevel:s.zlevel,style:s.style,draggable:!1,hoverable:!1}))):s=new m({zlevel:n,style:i.style,draggable:!1,hoverable:!1}),D.clone(i,s),s.position=i.position,e.push(s),t.addShape(s);var d="image"!==i.type&&window.devicePixelRatio||1,u=(s.style.width/d-i.style._width)/2;s.style.x=i.style._x-u,s.style.y=i.style._y-u,"pin"==i.style.iconType&&(s.style.y-=i.style.height/2*1.5);var p=100*(o.period+10*Math.random());t.modShape(i.id,{invisible:!0});var f=s.style.x+s.style.width/2/d,g=s.style.y+s.style.height/2/d;"scale"===o.type?(t.modShape(s.id,{scale:[.1,.1,f,g]}),t.animate(s.id,"",o.loop).when(p,{scale:[1,1,f,g]}).done(function(){i.effect.show=!1,t.delShape(s.id)}).start()):t.animate(s.id,"style",o.loop).when(p,{y:s.style.y-h}).when(2*p,{y:s.style.y}).done(function(){i.effect.show=!1,t.delShape(s.id)}).start()},largePoint:function(t,e,i,n){var s=i.effect,o=s.color||i.style.strokeColor||i.style.color,r=s.scaleSize,a=s.shadowColor||o,l=void 0!==s.shadowBlur?s.shadowBlur:2*r,h=window.devicePixelRatio||1,c=new g({zlevel:n,position:i.position,scale:i.scale,style:{pointList:i.style.pointList,iconType:i.style.iconType,color:o,strokeColor:o,shadowColor:a,shadowBlur:l*h,random:!0,brushType:"fill",lineWidth:1,size:i.style.size},draggable:!1,hoverable:!1});e.push(c),t.addShape(c),t.modShape(i.id,{invisible:!0});for(var d=Math.round(100*s.period),u={},p={},f=0;f<20;f++)c.style["randomMap"+f]=0,(u={})["randomMap"+f]=100,(p={})["randomMap"+f]=0,c.style["randomMap"+f]=100*Math.random(),t.animate(c.id,"style",!0).when(d,u).when(2*d,p).when(3*d,u).when(4*d,u).delay(Math.random()*d*f).start()},line:f,largeLine:function(t,e,i,n){var s=new v({style:{shapeList:[]},zlevel:n,hoverable:!1}),o=i.style.shapeList,r=i.effect;s.position=i.position;for(var a=0,l=[],h=0;h<o.length;h++){o[h].effect=r;var c=f(t,null,o[h],n,!0),d=c.effectAnimator;s.style.shapeList.push(c),d.duration>a&&(a=d.duration),0===h&&(s.style.color=c.style.color,s.style.shadowBlur=c.style.shadowBlur,s.style.shadowColor=c.style.shadowColor),l.push(d)}if(e.push(s),t.addShape(s),a){s.__dummy=0;var u=t.animate(s.id,"",r.loop).when(a,{__dummy:1}).during(function(){t.modShape(s)}).done(function(){i.effect.show=!1,t.delShape(s.id)}).start(),p=u.stop;u.stop=function(){(function(){for(var t=0;t<l.length;t++)l[t].stop()})(),p.call(this)}}}}}),define("echarts/component/base",["require","../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(t){function e(t,e,i,n,s){this.ecTheme=t,this.messageCenter=e,this.zr=i,this.option=n,this.series=n.series,this.myChart=s,this.component=s.component,this.shapeList=[],this.effectList=[];var o=this;o._onlegendhoverlink=function(t){if(o.legendHoverLink)for(var e=t.target,i=o.shapeList.length-1;0<=i;i--)(o.type==r.CHART_TYPE_PIE||o.type==r.CHART_TYPE_FUNNEL?a.get(o.shapeList[i],"name"):(a.get(o.shapeList[i],"series")||{}).name)!=e||o.shapeList[i].invisible||o.shapeList[i].__animating||o.zr.addHoverShape(o.shapeList[i])},e&&e.bind(r.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}var r=t("../config"),a=t("../util/ecData"),i=t("../util/ecQuery"),n=t("../util/number"),s=t("zrender/tool/util");return e.prototype={canvasSupported:t("zrender/tool/env").canvasSupported,_getZ:function(t){if(null!=this[t])return this[t];var e=this.ecTheme[this.type];return e&&null!=e[t]?e[t]:(e=r[this.type])&&null!=e[t]?e[t]:0},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(t){return t=s.merge(s.merge(t||{},s.clone(this.ecTheme[this.type]||{})),s.clone(r[this.type]||{})),this.z=t.z,this.zlevel=t.zlevel,t},reformCssArray:function(t){if(!(t instanceof Array))return[t,t,t,t];switch(t.length+""){case"4":return t;case"3":return[t[0],t[1],t[2],t[1]];case"2":return[t[0],t[1],t[0],t[1]];case"1":return[t[0],t[0],t[0],t[0]];case"0":return[0,0,0,0]}},getShapeById:function(t){for(var e=0,i=this.shapeList.length;e<i;e++)if(this.shapeList[e].id===t)return this.shapeList[e];return null},getFont:function(t){var e=this.getTextStyle(s.clone(t));return e.fontStyle+" "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily},getTextStyle:function(t){return s.merge(s.merge(t||{},this.ecTheme.textStyle),r.textStyle)},getItemStyleColor:function(t,e,i,n){return"function"==typeof t?t.call(this.myChart,{seriesIndex:e,series:this.series[e],dataIndex:i,data:n}):t},getDataFromOption:function(t,e){return null!=t?null!=t.value?t.value:t:e},subPixelOptimize:function(t,e){return e%2==1?Math.floor(t)+.5:Math.round(t)},resize:function(){this.refresh&&this.refresh(),this.clearEffectShape&&this.clearEffectShape(!0);var t=this;setTimeout(function(){t.animationEffect&&t.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape(),this.zr&&this.zr.delShape(this.shapeList),this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose(),this.clear(),this.shapeList=null,this.effectList=null,this.messageCenter&&this.messageCenter.unbind(r.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink),this.onafterDispose&&this.onafterDispose()},query:i.query,deepQuery:i.deepQuery,deepMerge:i.deepMerge,parsePercent:n.parsePercent,parseCenter:n.parseCenter,parseRadius:n.parseRadius,numAddCommas:n.addCommas},e}),define("echarts/layout/EdgeBundling",["require","../data/KDTree","zrender/tool/vector"],function(t){function x(t,e){t=t.array;var i=(e=e.array)[0]-t[0],n=e[1]-t[1],s=e[2]-t[2],o=e[3]-t[3];return i*i+n*n+s*s+o*o}function d(t){this.points=[t.mp0,t.mp1],this.group=t}function w(t){var e=t.points;e[0][1]<e[1][1]||t instanceof d?(this.array=[e[0][0],e[0][1],e[1][0],e[1][1]],this._startPoint=e[0],this._endPoint=e[1]):(this.array=[e[1][0],e[1][1],e[0][0],e[0][1]],this._startPoint=e[1],this._endPoint=e[0]),this.ink=_(e[0],e[1]),this.edge=t,this.group=null}function C(){this.edgeList=[],this.mp0=S(),this.mp1=S(),this.ink=0}function e(){this.maxNearestEdge=6,this.maxTurningAngle=Math.PI/4,this.maxIteration=20}var p,f,g,m,r,a,s,o,k=t("../data/KDTree"),y=t("zrender/tool/vector"),S=y.create,v=y.distSquare,_=y.dist,T=y.copy,u=y.clone;return w.prototype.getStartPoint=function(){return this._startPoint},w.prototype.getEndPoint=function(){return this._endPoint},C.prototype.addEdge=function(t){(t.group=this).edgeList.push(t)},C.prototype.removeEdge=function(t){t.group=null,this.edgeList.splice(this.edgeList.indexOf(t),1)},e.prototype={constructor:e,run:function(t){function o(t,e){return v(t,e)<1e-10}function l(t,e){for(var i=[],n=0,s=0;s<t.length;s++)0<n&&o(t[s],i[n-1])||(i[n++]=u(t[s]));return e[0]&&!o(i[0],e[0])&&(i=i.reverse()),i}for(var e=this._iterate(t),i=0;i++<this.maxIteration;){for(var n=[],s=0;s<e.groups.length;s++)n.push(new d(e.groups[s]));var r=this._iterate(n);if(r.savedInk<=0)break;e=r}var h=[],c=function(t,e){for(var i,n=0;n<t.length;n++){var s=t[n];if(s.edgeList[0]&&s.edgeList[0].edge instanceof d){for(var o=[],r=0;r<s.edgeList.length;r++)o.push(s.edgeList[r].edge.group);(i=e?e.slice():[]).unshift(s.mp0),i.push(s.mp1),c(o,i)}else for(r=0;r<s.edgeList.length;r++){var a=s.edgeList[r];(i=e?e.slice():[]).unshift(s.mp0),i.push(s.mp1),i.unshift(a.getStartPoint()),i.push(a.getEndPoint()),h.push({points:l(i,a.edge.points),rawEdge:a.edge})}}};return c(e.groups),h},_iterate:function(t){for(var e=[],i=[],n=0,s=0;s<t.length;s++){var o=new w(t[s]);e.push(o)}var r=new k(e,4),a=[],l=S(),h=S(),c=0,d=S(),u=S(),p=0;for(s=0;s<e.length;s++){if(!(o=e[s]).group){r.nearestN(o,this.maxNearestEdge,x,a);for(var f=0,g=null,m=null,y=0;y<a.length;y++){var v=a[y],_=0;v.group?v.group!==m&&(m=v.group,c=this._calculateGroupEdgeInk(v.group,o,l,h),_=v.group.ink+o.ink-c):(c=this._calculateEdgeEdgeInk(o,v,l,h),_=v.ink+o.ink-c),f<_&&(f=_,g=v,T(u,h),T(d,l),p=c)}if(g){n+=f,g.group||(b=new C,i.push(b),b.addEdge(g)),b=g.group,T(b.mp0,d),T(b.mp1,u),b.ink=p,g.group.addEdge(o)}else{var b=new C;i.push(b),T(b.mp0,o.getStartPoint()),T(b.mp1,o.getEndPoint()),b.ink=o.ink,b.addEdge(o)}}}return{groups:i,edges:e,savedInk:n}},_calculateEdgeEdgeInk:(s=[],o=[],function(t,e,i,n){return s[0]=t.getStartPoint(),s[1]=e.getStartPoint(),o[0]=t.getEndPoint(),o[1]=e.getEndPoint(),this._calculateMeetPoints(s,o,i,n),_(s[0],i)+_(i,n)+_(n,o[0])+_(s[1],i)+_(n,o[1])}),_calculateGroupEdgeInk:function(t,e,i,n){for(var s=[],o=[],r=0;r<t.edgeList.length;r++){var a=t.edgeList[r];s.push(a.getStartPoint()),o.push(a.getEndPoint())}s.push(e.getStartPoint()),o.push(e.getEndPoint()),this._calculateMeetPoints(s,o,i,n);var l=_(i,n);for(r=0;r<s.length;r++)l+=_(s[r],i)+_(o[r],n);return l},_calculateMeetPoints:(r=S(),a=S(),function(t,e,i,n){y.set(r,0,0),y.set(a,0,0);for(var s=t.length,o=0;o<s;o++)y.add(r,r,t[o]);for(y.scale(r,r,1/s),s=e.length,o=0;o<s;o++)y.add(a,a,e[o]);y.scale(a,a,1/s),this._limitTurningAngle(t,r,a,i),this._limitTurningAngle(e,a,r,n)}),_limitTurningAngle:(p=S(),f=S(),g=S(),m=S(),function(t,e,i,n){var s=Math.cos(this.maxTurningAngle),o=Math.tan(this.maxTurningAngle);y.sub(p,e,i),y.normalize(p,p),y.copy(n,e);for(var r=0,a=0;a<t.length;a++){var l=t[a];y.sub(f,l,e);var h=y.len(f);y.scale(f,f,1/h);var c=y.dot(f,p);if(c<s){y.scaleAndAdd(g,e,p,h*c);var d=_(g,l)/o;y.scaleAndAdd(m,g,p,-d);var u=v(m,e);r<u&&(r=u,y.copy(n,m))}}})},e}),define("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(t){var e=t("../tool/math"),g=e.sin,m=e.cos,y=Math.PI,i=t("./Base"),n=function(t){i.call(this,t)};return n.prototype={type:"star",buildPath:function(t,e){var i=e.n;if(i&&!(i<2)){var n=e.x,s=e.y,o=e.r,r=e.r0;null==r&&(r=4<i?o*m(2*y/i)/m(y/i):o/3);var a=y/i,l=-y/2,h=n+o*m(l),c=s+o*g(l);l+=a;var d=e.pointList=[];d.push([h,c]);for(var u,p=0,f=2*i-1;p<f;p++)u=p%2==0?r:o,d.push([n+u*m(l),s+u*g(l)]),l+=a;d.push([h,c]),t.moveTo(d[0][0],d[0][1]);for(p=0;p<d.length;p++)t.lineTo(d[p][0],d[p][1]);t.closePath()}},getRect:function(t){return t.__rect||(e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-t.r-e/2),y:Math.round(t.y-t.r-e/2),width:2*t.r+e,height:2*t.r+e}),t.__rect;var e}},t("../tool/util").inherits(n,i),n}),define("zrender/shape/Heart",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(t){"use strict";var e=t("./Base"),n=t("./util/PathProxy"),s=t("../tool/area"),i=function(t){e.call(this,t),this._pathProxy=new n};return i.prototype={type:"heart",buildPath:function(t,e){var i=this._pathProxy||new n;i.begin(t),i.moveTo(e.x,e.y),i.bezierCurveTo(e.x+e.a/2,e.y-2*e.b/3,e.x+2*e.a,e.y+e.b/3,e.x,e.y+e.b),i.bezierCurveTo(e.x-2*e.a,e.y+e.b/3,e.x-e.a/2,e.y-2*e.b/3,e.x,e.y),i.closePath()},getRect:function(t){return t.__rect?t.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,t),this._pathProxy.fastBoundingRect())},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],this.isCoverRect(t,e)?s.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,t,e):void 0}},t("../tool/util").inherits(i,e),i}),define("zrender/shape/Droplet",["require","./Base","./util/PathProxy","../tool/area","../tool/util"],function(t){"use strict";var e=t("./Base"),n=t("./util/PathProxy"),s=t("../tool/area"),i=function(t){e.call(this,t),this._pathProxy=new n};return i.prototype={type:"droplet",buildPath:function(t,e){var i=this._pathProxy||new n;i.begin(t),i.moveTo(e.x,e.y+e.a),i.bezierCurveTo(e.x+e.a,e.y+e.a,e.x+3*e.a/2,e.y-e.a/3,e.x,e.y-e.b),i.bezierCurveTo(e.x-3*e.a/2,e.y-e.a/3,e.x-e.a,e.y+e.a,e.x,e.y+e.a),i.closePath()},getRect:function(t){return t.__rect?t.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,t),this._pathProxy.fastBoundingRect())},isCover:function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],this.isCoverRect(t,e)?s.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,t,e):void 0}},t("../tool/util").inherits(i,e),i}),define("zrender/tool/math",[],function(){var i=Math.PI/180;return{sin:function(t,e){return Math.sin(e?t*i:t)},cos:function(t,e){return Math.cos(e?t*i:t)},degreeToRadian:function(t){return t*i},radianToDegree:function(t){return t/i}}}),define("zrender/shape/util/PathProxy",["require","../../tool/vector"],function(t){var c=t("../../tool/vector"),r=function(t,e){this.command=t,this.points=e||null},e=function(){this.pathCommands=[],this._ctx=null,this._min=[],this._max=[]};return e.prototype.fastBoundingRect=function(){var t=this._min,e=this._max;t[0]=t[1]=1/0,e[0]=e[1]=-1/0;for(var i=0;i<this.pathCommands.length;i++){var n=this.pathCommands[i],s=n.points;switch(n.command){case"M":case"L":c.min(t,t,s),c.max(e,e,s);break;case"C":for(var o=0;o<6;o+=2)t[0]=Math.min(t[0],t[0],s[o]),t[1]=Math.min(t[1],t[1],s[o+1]),e[0]=Math.max(e[0],e[0],s[o]),e[1]=Math.max(e[1],e[1],s[o+1]);break;case"Q":for(o=0;o<4;o+=2)t[0]=Math.min(t[0],t[0],s[o]),t[1]=Math.min(t[1],t[1],s[o+1]),e[0]=Math.max(e[0],e[0],s[o]),e[1]=Math.max(e[1],e[1],s[o+1]);break;case"A":var r=s[0],a=s[1],l=s[2],h=s[3];t[0]=Math.min(t[0],t[0],r-l),t[1]=Math.min(t[1],t[1],a-h),e[0]=Math.max(e[0],e[0],r+l),e[1]=Math.max(e[1],e[1],a+h)}}return{x:t[0],y:t[1],width:e[0]-t[0],height:e[1]-t[1]}},e.prototype.begin=function(t){return this._ctx=t||null,this.pathCommands.length=0,this},e.prototype.moveTo=function(t,e){return this.pathCommands.push(new r("M",[t,e])),this._ctx&&this._ctx.moveTo(t,e),this},e.prototype.lineTo=function(t,e){return this.pathCommands.push(new r("L",[t,e])),this._ctx&&this._ctx.lineTo(t,e),this},e.prototype.bezierCurveTo=function(t,e,i,n,s,o){return this.pathCommands.push(new r("C",[t,e,i,n,s,o])),this._ctx&&this._ctx.bezierCurveTo(t,e,i,n,s,o),this},e.prototype.quadraticCurveTo=function(t,e,i,n){return this.pathCommands.push(new r("Q",[t,e,i,n])),this._ctx&&this._ctx.quadraticCurveTo(t,e,i,n),this},e.prototype.arc=function(t,e,i,n,s,o){return this.pathCommands.push(new r("A",[t,e,i,i,n,s-n,0,o?0:1])),this._ctx&&this._ctx.arc(t,e,i,n,s,o),this},e.prototype.arcTo=function(t,e,i,n,s){return this._ctx&&this._ctx.arcTo(t,e,i,n,s),this},e.prototype.rect=function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this},e.prototype.closePath=function(){return this.pathCommands.push(new r("z")),this._ctx&&this._ctx.closePath(),this},e.prototype.isEmpty=function(){return 0===this.pathCommands.length},e.PathSegment=r,e}),define("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(t){var e=t("./Base"),n=t("./util/dashedLineTo"),i=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return i.prototype={type:"line",buildPath:function(t,e){if(e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var i=(e.lineWidth||1)*("dashed"==e.lineType?5:1);n(t,e.xStart,e.yStart,e.xEnd,e.yEnd,i)}}else t.moveTo(e.xStart,e.yStart),t.lineTo(e.xEnd,e.yEnd)},getRect:function(t){if(t.__rect)return t.__rect;var e=t.lineWidth||1;return t.__rect={x:Math.min(t.xStart,t.xEnd)-e,y:Math.min(t.yStart,t.yEnd)-e,width:Math.abs(t.xStart-t.xEnd)+e,height:Math.abs(t.yStart-t.yEnd)+e},t.__rect}},t("../tool/util").inherits(i,e),i}),define("zrender/shape/BezierCurve",["require","./Base","../tool/util"],function(t){"use strict";var e=t("./Base"),i=function(t){this.brushTypeOnly="stroke",this.textPosition="end",e.call(this,t)};return i.prototype={type:"bezier-curve",buildPath:function(t,e){t.moveTo(e.xStart,e.yStart),void 0!==e.cpX2&&void 0!==e.cpY2?t.bezierCurveTo(e.cpX1,e.cpY1,e.cpX2,e.cpY2,e.xEnd,e.yEnd):t.quadraticCurveTo(e.cpX1,e.cpY1,e.xEnd,e.yEnd)},getRect:function(t){if(t.__rect)return t.__rect;var e=Math.min(t.xStart,t.xEnd,t.cpX1),i=Math.min(t.yStart,t.yEnd,t.cpY1),n=Math.max(t.xStart,t.xEnd,t.cpX1),s=Math.max(t.yStart,t.yEnd,t.cpY1),o=t.cpX2,r=t.cpY2;void 0!==o&&void 0!==r&&(e=Math.min(e,o),i=Math.min(i,r),n=Math.max(n,o),s=Math.max(s,r));var a=t.lineWidth||1;return t.__rect={x:e-a,y:i-a,width:n-e+a,height:s-i+a},t.__rect}},t("../tool/util").inherits(i,e),i}),define("zrender/shape/util/dashedLineTo",[],function(){var d=[5,5];return function(t,e,i,n,s,o){if(t.setLineDash)return d[0]=d[1]=o,t.setLineDash(d),t.moveTo(e,i),void t.lineTo(n,s);o="number"!=typeof o?5:o;var r=n-e,a=s-i,l=Math.floor(Math.sqrt(r*r+a*a)/o);r/=l,a/=l;for(var h=!0,c=0;c<l;++c)h?t.moveTo(e,i):t.lineTo(e,i),h=!h,e+=r,i+=a;t.lineTo(n,s)}}),define("zrender/shape/Polygon",["require","./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(t){var e=t("./Base"),d=t("./util/smoothSpline"),u=t("./util/smoothBezier"),p=t("./util/dashedLineTo"),i=function(t){e.call(this,t)};return i.prototype={type:"polygon",buildPath:function(t,e){var i=e.pointList;if(!(i.length<2)){if(e.smooth&&"spline"!==e.smooth){var n=u(i,e.smooth,!0,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var s,o,r,a=i.length,l=0;l<a;l++)s=n[2*l],o=n[2*l+1],r=i[(l+1)%a],t.bezierCurveTo(s[0],s[1],o[0],o[1],r[0],r[1])}else if("spline"===e.smooth&&(i=d(i,!0)),e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var h=e._dashLength||(e.lineWidth||1)*("dashed"==e.lineType?5:1);e._dashLength=h,t.moveTo(i[0][0],i[0][1]);l=1;for(var c=i.length;l<c;l++)p(t,i[l-1][0],i[l-1][1],i[l][0],i[l][1],h);p(t,i[i.length-1][0],i[i.length-1][1],i[0][0],i[0][1],h)}}else{t.moveTo(i[0][0],i[0][1]);for(l=1,c=i.length;l<c;l++)t.lineTo(i[l][0],i[l][1]);t.lineTo(i[0][0],i[0][1])}t.closePath()}},getRect:function(t){if(t.__rect)return t.__rect;for(var e=Number.MAX_VALUE,i=Number.MIN_VALUE,n=Number.MAX_VALUE,s=Number.MIN_VALUE,o=t.pointList,r=0,a=o.length;r<a;r++)o[r][0]<e&&(e=o[r][0]),o[r][0]>i&&(i=o[r][0]),o[r][1]<n&&(n=o[r][1]),o[r][1]>s&&(s=o[r][1]);var l;return l="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(e-l/2),y:Math.round(n-l/2),width:i-e+l,height:s-n+l},t.__rect}},t("../tool/util").inherits(i,e),i}),define("echarts/util/shape/normalIsCover",[],function(){return function(t,e){var i=this.transformCoordToLocal(t,e);return t=i[0],e=i[1],this.isCoverRect(t,e)}}),define("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(t){function m(t,e,i,n,s,o,r){var a=.5*(i-t),l=.5*(n-e);return(2*(e-i)+a+l)*r+(-3*(e-i)-2*a-l)*o+a*s+e}var y=t("../../tool/vector");return function(t,e){for(var i=t.length,n=[],s=0,o=1;o<i;o++)s+=y.distance(t[o-1],t[o]);var r=s/5;r=r<i?i:r;for(o=0;o<r;o++){var a,l,h,c=o/(r-1)*(e?i:i-1),d=Math.floor(c),u=c-d,p=t[d%i];h=e?(a=t[(d-1+i)%i],l=t[(d+1)%i],t[(d+2)%i]):(a=t[0===d?d:d-1],l=t[i-2<d?i-1:d+1],t[i-3<d?i-1:d+2]);var f=u*u,g=u*f;n.push([m(a[0],p[0],l[0],h[0],u,f,g),m(a[1],p[1],l[1],h[1],u,f,g)])}return n}}),define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(t){var x=t("../../tool/vector");return function(t,e,i,n){var s,o,r=[],a=[],l=[],h=[],c=!!n;if(c){s=[1/0,1/0],o=[-1/0,-1/0];for(var d=0,u=t.length;d<u;d++)x.min(s,s,t[d]),x.max(o,o,t[d]);x.min(s,s,n[0]),x.max(o,o,n[1])}for(d=0,u=t.length;d<u;d++){var p,f,g=t[d];if(i)p=t[d?d-1:u-1],f=t[(d+1)%u];else{if(0===d||d===u-1){r.push(x.clone(t[d]));continue}p=t[d-1],f=t[d+1]}x.sub(a,f,p),x.scale(a,a,e);var m=x.distance(g,p),y=x.distance(g,f),v=m+y;0!==v&&(m/=v,y/=v),x.scale(l,a,-m),x.scale(h,a,y);var _=x.add([],g,l),b=x.add([],g,h);c&&(x.max(_,_,s),x.min(_,_,o),x.max(b,b,s),x.min(b,b,o)),r.push(_),r.push(b)}return i&&r.push(x.clone(r.shift())),r}}),define("echarts/util/ecQuery",["require","zrender/tool/util"],function(t){function o(t,e){if(void 0!==t){if(!e)return t;for(var i=(e=e.split(".")).length,n=0;n<i;){if(void 0===(t=t[e[n]]))return;n++}return t}}var r=t("zrender/tool/util");return{query:o,deepQuery:function(t,e){for(var i,n=0,s=t.length;n<s;n++)if(void 0!==(i=o(t[n],e)))return i},deepMerge:function(t,e){for(var i,n=t.length;n--;){var s=o(t[n],e);void 0!==s&&(void 0===i?i=r.clone(s):r.merge(i,s,!0))}return i}}}),define("echarts/util/number",[],function(){function n(t,e){return"string"==typeof t?(i=t,i.replace(/^\s+/,"").replace(/\s+$/,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t;var i}return{parsePercent:n,parseCenter:function(t,e){return[n(e[0],t.getWidth()),n(e[1],t.getHeight())]},parseRadius:function(t,e){e instanceof Array||(e=[0,e]);var i=Math.min(t.getWidth(),t.getHeight())/2;return[n(e[0],i),n(e[1],i)]},addCommas:function(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<t.length?"."+t[1]:"")}}}),define("echarts/data/KDTree",["require","./quickSelect"],function(t){function a(t,e){this.left=null,this.right=null,this.axis=t,this.data=e}var l=t("./quickSelect"),e=function(t,e){t.length&&(e||(e=t[0].array.length),this.dimension=e,this.root=this._buildTree(t,0,t.length-1,0),this._stack=[],this._nearstNList=[])};return e.prototype._buildTree=function(t,e,i,n){if(i<e)return null;var s=Math.floor((e+i)/2),o=t[s=l(t,e,i,s,function(t,e){return t.array[n]-e.array[n]})],r=new a(n,o);return n=(n+1)%this.dimension,e<i&&(r.left=this._buildTree(t,e,s-1,n),r.right=this._buildTree(t,s+1,i,n)),r},e.prototype.nearest=function(t,e){var i=this.root,n=this._stack,s=0,o=1/0,r=null;for(i.data!==t&&(o=e(i.data,t),r=i),t.array[i.axis]<i.data.array[i.axis]?(i.right&&(n[s++]=i.right),i.left&&(n[s++]=i.left)):(i.left&&(n[s++]=i.left),i.right&&(n[s++]=i.right));s--;){i=n[s];var a=t.array[i.axis]-i.data.array[i.axis],l=a<0,h=!1;(a*=a)<o&&((a=e(i.data,t))<o&&i.data!==t&&(o=a,r=i),h=!0),l?(h&&i.right&&(n[s++]=i.right),i.left&&(n[s++]=i.left)):(h&&i.left&&(n[s++]=i.left),i.right&&(n[s++]=i.right))}return r.data},e.prototype._addNearest=function(t,e,i){for(var n=this._nearstNList,s=t-1;0<s&&!(e>=n[s-1].dist);s--)n[s].dist=n[s-1].dist,n[s].node=n[s-1].node;n[s].dist=e,n[s].node=i},e.prototype.nearestN=function(t,e,i,n){if(e<=0)return n.length=0,n;for(var s=this.root,o=this._stack,r=0,a=this._nearstNList,l=0;l<e;l++)a[l]||(a[l]={}),a[l].dist=0,a[l].node=null;var h=i(s.data,t),c=0;for(s.data!==t&&(c++,this._addNearest(c,h,s)),t.array[s.axis]<s.data.array[s.axis]?(s.right&&(o[r++]=s.right),s.left&&(o[r++]=s.left)):(s.left&&(o[r++]=s.left),s.right&&(o[r++]=s.right));r--;){s=o[r];var d=(h=t.array[s.axis]-s.data.array[s.axis])<0,u=!1;h*=h,(c<e||h<a[c-1].dist)&&(h=i(s.data,t),(c<e||h<a[c-1].dist)&&s.data!==t&&(c<e&&c++,this._addNearest(c,h,s)),u=!0),d?(u&&s.right&&(o[r++]=s.right),s.left&&(o[r++]=s.left)):(u&&s.left&&(o[r++]=s.left),s.right&&(o[r++]=s.right))}for(l=0;l<c;l++)n[l]=a[l].node.data;return n.length=c,n},e}),define("echarts/data/quickSelect",["require"],function(){function o(t,e){return t-e}function l(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}return function(t,e,i,n,s){return arguments.length<=3&&(n=e,s=2==arguments.length?o:i,e=0,i=t.length-1),function(t,e,i,n,s){for(var o=e;e<i;){var r=t[o=Math.round((i+e)/2)];l(t,o,i);for(var a=o=e;a<=i-1;a++)0<=s(r,t[a])&&(l(t,a,o),o++);if(l(t,i,o),o===n)return o;o<n?e=o+1:i=o-1}return e}(t,e,i,n,s)}}),define("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(t){function e(t,e,i,n,s){o.call(this,t,e,i,n,s),this.dom=s.dom,this._tDom=document.createElement("div"),this._textArea=document.createElement("textArea"),this._buttonRefresh=document.createElement("button"),this._buttonClose=document.createElement("button"),this._hasShow=!1,this._zrHeight=i.getHeight(),this._zrWidth=i.getWidth(),this._tDom.className="echarts-dataview",this.hide(),this.dom.firstChild.appendChild(this._tDom),window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var o=t("./base"),c=t("../config"),i=t("zrender/tool/util");return e.prototype={type:c.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(t){this._hasShow=!0;var e=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=t,this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(e[0]||this._lang[0])+"</p>";var i=this.query(this.option,"toolbox.feature.dataView.optionToContent");"function"!=typeof i?this._textArea.value=this._optionToContent():(this._textArea=document.createElement("div"),this._textArea.innerHTML=i(this.option)),this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;",this._tDom.appendChild(this._textArea),this._buttonClose.style.cssText="float:right;padding:1px 6px;",this._buttonClose.innerHTML=e[1]||this._lang[1];var n=this;this._buttonClose.onclick=function(){n.hide()},this._tDom.appendChild(this._buttonClose),!1===this.query(this.option,"toolbox.feature.dataView.readOnly")?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=e[2]||this._lang[2],this._buttonRefresh.onclick=function(){n._save()},this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._buttonRefresh.style.cssText="display:none",this._textArea.readOnly=!0,this._textArea.style.cursor="text"),this._tDom.appendChild(this._buttonRefresh),this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var t,e,i,n,s,o,r=[],a="";if(this.option.xAxis)for(t=0,n=(r=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis]).length;t<n;t++)if("category"==(r[t].type||"category")){for(o=[],e=0,i=r[t].data.length;e<i;e++)o.push(this.getDataFromOption(r[t].data[e]));a+=o.join(", ")+"\n\n"}if(this.option.yAxis)for(t=0,n=(r=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis]).length;t<n;t++)if("category"==r[t].type){for(o=[],e=0,i=r[t].data.length;e<i;e++)o.push(this.getDataFromOption(r[t].data[e]));a+=o.join(", ")+"\n\n"}var l,h=this.option.series;for(t=0,n=h.length;t<n;t++){for(o=[],e=0,i=h[t].data.length;e<i;e++)s=h[t].data[e],l=h[t].type==c.CHART_TYPE_PIE||h[t].type==c.CHART_TYPE_MAP?(s.name||"-")+":":"",h[t].type==c.CHART_TYPE_SCATTER&&(s=this.getDataFromOption(s).join(", ")),o.push(l+this.getDataFromOption(s));a+=(h[t].name||"-")+" : \n",a+=o.join(h[t].type==c.CHART_TYPE_SCATTER?"\n":", "),a+="\n\n"}return a},_save:function(){var t=this.query(this.option,"toolbox.feature.dataView.contentToOption");if("function"!=typeof t){for(var e=this._textArea.value.split("\n"),i=[],n=0,s=e.length;n<s;n++)e[n]=this._trim(e[n]),""!==e[n]&&i.push(e[n]);this._contentToOption(i)}else t(this._textArea,this.option);this.hide();var o=this;setTimeout(function(){o.messageCenter&&o.messageCenter.dispatch(c.EVENT.DATA_VIEW_CHANGED,null,{option:o.option},o.myChart)},o.canvasSupported?800:100)},_contentToOption:function(t){var e,i,n,s,o=[],r=0;if(this.option.xAxis)for(e=0,i=(o=this.option.xAxis instanceof Array?this.option.xAxis:[this.option.xAxis]).length;e<i;e++)if("category"==(o[e].type||"category")){for(n=t[r].split(","),l=0,h=o[e].data.length;l<h;l++)s=this._trim(n[l]||""),o[e].data[l],void 0!==o[e].data[l].value?o[e].data[l].value=s:o[e].data[l]=s;r++}if(this.option.yAxis)for(e=0,i=(o=this.option.yAxis instanceof Array?this.option.yAxis:[this.option.yAxis]).length;e<i;e++)if("category"==o[e].type){for(n=t[r].split(","),l=0,h=o[e].data.length;l<h;l++)s=this._trim(n[l]||""),o[e].data[l],void 0!==o[e].data[l].value?o[e].data[l].value=s:o[e].data[l]=s;r++}var a=this.option.series;for(e=0,i=a.length;e<i;e++)if(r++,a[e].type==c.CHART_TYPE_SCATTER)for(var l=0,h=a[e].data.length;l<h;l++)s=(n=t[r]).replace(" ","").split(","),void 0!==a[e].data[l].value?a[e].data[l].value=s:a[e].data[l]=s,r++;else{n=t[r].split(",");for(l=0,h=a[e].data.length;l<h;l++)s=(n[l]||"").replace(/.*:/,""),s="-"!=(s=this._trim(s))&&""!==s?s-0:"-",void 0!==a[e].data[l].value?a[e].data[l].value=s:a[e].data[l]=s;r++}},_trim:function(t){var e=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return t.replace(e,"")},_stop:function(t){(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight(),this._zrWidth=this.zr.getWidth(),10<this._tDom.offsetHeight&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop)),this._buttonRefresh.onclick=null,this._buttonClose.onclick=null,this._hasShow&&(this._tDom.removeChild(this._textArea),this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose)),this._textArea=null,this._buttonRefresh=null,this._buttonClose=null,this.dom.firstChild.removeChild(this._tDom),this._tDom=null}},i.inherits(e,o),t("../component").define("dataView",e),e}),define("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),n=t("zrender/shape/Line"),s=t("zrender/tool/util");return e.prototype={type:"cross",buildPath:function(t,e){var i=e.rect;e.xStart=i.x,e.xEnd=i.x+i.width,e.yStart=e.yEnd=e.y,n.prototype.buildPath(t,e),e.xStart=e.xEnd=e.x,e.yStart=i.y,e.yEnd=i.y+i.height,n.prototype.buildPath(t,e)},getRect:function(t){return t.rect},isCover:t("./normalIsCover")},s.inherits(e,i),e}),define("zrender/shape/Sector",["require","../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(t){var d=t("../tool/math"),l=t("../tool/computeBoundingBox"),h=t("../tool/vector"),e=t("./Base"),c=h.create(),u=h.create(),p=h.create(),f=h.create(),i=function(t){e.call(this,t)};return i.prototype={type:"sector",buildPath:function(t,e){var i=e.x,n=e.y,s=e.r0||0,o=e.r,r=e.startAngle,a=e.endAngle,l=e.clockWise||!1;r=d.degreeToRadian(r),a=d.degreeToRadian(a),l||(r=-r,a=-a);var h=d.cos(r),c=d.sin(r);t.moveTo(h*s+i,c*s+n),t.lineTo(h*o+i,c*o+n),t.arc(i,n,o,r,a,!l),t.lineTo(d.cos(a)*s+i,d.sin(a)*s+n),0!==s&&t.arc(i,n,s,a,r,l),t.closePath()},getRect:function(t){if(t.__rect)return t.__rect;var e=t.x,i=t.y,n=t.r0||0,s=t.r,o=d.degreeToRadian(t.startAngle),r=d.degreeToRadian(t.endAngle),a=t.clockWise;return a||(o=-o,r=-r),1<n?l.arc(e,i,n,o,r,!a,c,p):(c[0]=p[0]=e,c[1]=p[1]=i),l.arc(e,i,s,o,r,!a,u,f),h.min(c,c,u),h.max(p,p,f),t.__rect={x:c[0],y:c[1],width:p[0]-c[0],height:p[1]-c[1]},t.__rect}},t("../tool/util").inherits(i,e),i}),define("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),n=t("zrender/tool/util");return e.prototype={type:"candle",_numberOrder:function(t,e){return e-t},buildPath:function(t,e){var i=n.clone(e.y).sort(this._numberOrder);t.moveTo(e.x,i[3]),t.lineTo(e.x,i[2]),t.moveTo(e.x-e.width/2,i[2]),t.rect(e.x-e.width/2,i[2],e.width,i[1]-i[2]),t.moveTo(e.x,i[1]),t.lineTo(e.x,i[0])},getRect:function(t){if(!t.__rect){var e=0;("stroke"==t.brushType||"fill"==t.brushType)&&(e=t.lineWidth||1);var i=n.clone(t.y).sort(this._numberOrder);t.__rect={x:Math.round(t.x-t.width/2-e/2),y:Math.round(i[3]-e/2),width:t.width+e,height:i[0]-i[3]+e}}return t.__rect},isCover:t("./normalIsCover")},n.inherits(e,i),e}),define("zrender/tool/computeBoundingBox",["require","./vector","./curve"],function(t){function e(t,e,i){if(0!==t.length){for(var n=t[0][0],s=t[0][0],o=t[0][1],r=t[0][1],a=1;a<t.length;a++){var l=t[a];l[0]<n&&(n=l[0]),l[0]>s&&(s=l[0]),l[1]<o&&(o=l[1]),l[1]>r&&(r=l[1])}e[0]=n,e[1]=o,i[0]=s,i[1]=r}}var c=t("./vector"),p=t("./curve"),d=c.create(),u=c.create(),f=c.create();return e.cubeBezier=function(t,e,i,n,s,o){var r=[];p.cubicExtrema(t[0],e[0],i[0],n[0],r);for(var a=0;a<r.length;a++)r[a]=p.cubicAt(t[0],e[0],i[0],n[0],r[a]);var l=[];for(p.cubicExtrema(t[1],e[1],i[1],n[1],l),a=0;a<l.length;a++)l[a]=p.cubicAt(t[1],e[1],i[1],n[1],l[a]);r.push(t[0],n[0]),l.push(t[1],n[1]);var h=Math.min.apply(null,r),c=Math.max.apply(null,r),d=Math.min.apply(null,l),u=Math.max.apply(null,l);s[0]=h,s[1]=d,o[0]=c,o[1]=u},e.quadraticBezier=function(t,e,i,n,s){var o=p.quadraticExtremum(t[0],e[0],i[0]),r=p.quadraticExtremum(t[1],e[1],i[1]),a=1-(o=Math.max(Math.min(o,1),0)),l=1-(r=Math.max(Math.min(r,1),0)),h=a*a*t[0]+2*a*o*e[0]+o*o*i[0],c=a*a*t[1]+2*a*o*e[1]+o*o*i[1],d=l*l*t[0]+2*l*r*e[0]+r*r*i[0],u=l*l*t[1]+2*l*r*e[1]+r*r*i[1];n[0]=Math.min(t[0],i[0],h,d),n[1]=Math.min(t[1],i[1],c,u),s[0]=Math.max(t[0],i[0],h,d),s[1]=Math.max(t[1],i[1],c,u)},e.arc=function(t,e,i,n,s,o,r,a){if(Math.abs(n-s)>=2*Math.PI)return r[0]=t-i,r[1]=e-i,a[0]=t+i,void(a[1]=e+i);if(d[0]=Math.cos(n)*i+t,d[1]=Math.sin(n)*i+e,u[0]=Math.cos(s)*i+t,u[1]=Math.sin(s)*i+e,c.min(r,d,u),c.max(a,d,u),(n%=2*Math.PI)<0&&(n+=2*Math.PI),(s%=2*Math.PI)<0&&(s+=2*Math.PI),s<n&&!o?s+=2*Math.PI:n<s&&o&&(n+=2*Math.PI),o){var l=s;s=n,n=l}for(var h=0;h<s;h+=Math.PI/2)n<h&&(f[0]=Math.cos(h)*i+t,f[1]=Math.sin(h)*i+e,c.min(r,f,r),c.max(a,f,a))},e}),define("echarts/util/shape/Chain",["require","zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(t){function e(t){i.call(this,t)}var i=t("zrender/shape/Base"),l=t("./Icon"),a=t("zrender/shape/util/dashedLineTo"),n=t("zrender/tool/util"),o=t("zrender/tool/matrix");return e.prototype={type:"chain",brush:function(t,e){var i=this.style;e&&(i=this.getHighlightStyle(i,this.highlightStyle||{})),t.save(),this.setContext(t,i),this.setTransform(t),t.save(),t.beginPath(),this.buildLinePath(t,i),t.stroke(),t.restore(),this.brushSymbol(t,i),t.restore()},buildLinePath:function(t,e){var i=e.x,n=e.y+5,s=e.width,o=e.height/2-10;if(t.moveTo(i,n),t.lineTo(i,n+o),t.moveTo(i+s,n),t.lineTo(i+s,n+o),t.moveTo(i,n+o/2),e.lineType&&"solid"!=e.lineType){if("dashed"==e.lineType||"dotted"==e.lineType){var r=(e.lineWidth||1)*("dashed"==e.lineType?5:1);a(t,i,n+o/2,i+s,n+o/2,r)}}else t.lineTo(i+s,n+o/2)},brushSymbol:function(t,e){var i=e.y+e.height/4;t.save();for(var n,s=e.chainPoint,o=0,r=s.length;o<r;o++){if("none"!=(n=s[o]).symbol){t.beginPath();var a=n.symbolSize;l.prototype.buildPath(t,{iconType:n.symbol,x:n.x-a,y:i-a,width:2*a,height:2*a,n:n.n}),t.fillStyle=n.isEmpty?"#fff":e.strokeColor,t.closePath(),t.fill(),t.stroke()}n.showLabel&&(t.font=n.textFont,t.fillStyle=n.textColor,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline,n.rotation?(t.save(),this._updateTextTransform(t,n.rotation),t.fillText(n.name,n.textX,n.textY),t.restore()):t.fillText(n.name,n.textX,n.textY))}t.restore()},_updateTextTransform:function(t,e){var i=o.create();if(o.identity(i),0!==e[0]){var n=e[1]||0,s=e[2]||0;(n||s)&&o.translate(i,i,[-n,-s]),o.rotate(i,i,e[0]),(n||s)&&o.translate(i,i,[n,s])}t.transform.apply(t,i)},isCover:function(t,e){var i=this.style;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height}},n.inherits(e,i),e}),define("zrender/shape/Ring",["require","./Base","../tool/util"],function(t){var e=t("./Base"),i=function(t){e.call(this,t)};return i.prototype={type:"ring",buildPath:function(t,e){t.arc(e.x,e.y,e.r,0,2*Math.PI,!1),t.moveTo(e.x+e.r0,e.y),t.arc(e.x,e.y,e.r0,0,2*Math.PI,!0)},getRect:function(t){return t.__rect||(e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x-t.r-e/2),y:Math.round(t.y-t.r-e/2),width:2*t.r+e,height:2*t.r+e}),t.__rect;var e}},t("../tool/util").inherits(i,e),i}),define("echarts/component/axis",["require","./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(r){function t(t,e,i,n,s,o){a.call(this,t,e,i,n,s),this.axisType=o,this._axisList=[],this.refresh(n)}var a=r("./base"),o=r("zrender/shape/Line"),n=r("../config"),i=r("../util/ecData"),e=r("zrender/tool/util"),s=r("zrender/tool/color");return t.prototype={type:n.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var t=this.option.axisLine.lineStyle.width,e=t/2,i={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1},n=this.grid;switch(this.option.position){case"left":i.style={xStart:n.getX()-e,yStart:n.getYend(),xEnd:n.getX()-e,yEnd:n.getY(),lineCap:"round"};break;case"right":i.style={xStart:n.getXend()+e,yStart:n.getYend(),xEnd:n.getXend()+e,yEnd:n.getY(),lineCap:"round"};break;case"bottom":i.style={xStart:n.getX(),yStart:n.getYend()+e,xEnd:n.getXend(),yEnd:n.getYend()+e,lineCap:"round"};break;case"top":i.style={xStart:n.getX(),yStart:n.getY()-e,xEnd:n.getXend(),yEnd:n.getY()-e,lineCap:"round"}}var s=i.style;""!==this.option.name&&(s.text=this.option.name,s.textPosition=this.option.nameLocation,s.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(s.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(s.textBaseline=this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(s.textColor=this.option.nameTextStyle.color)),s.strokeColor=this.option.axisLine.lineStyle.color,s.lineWidth=t,this.isHorizontal()?s.yStart=s.yEnd=this.subPixelOptimize(s.yEnd,t):s.xStart=s.xEnd=this.subPixelOptimize(s.xEnd,t),s.lineType=this.option.axisLine.lineStyle.type,i=new o(i),this.shapeList.push(i)},_axisLabelClickable:function(t,e){return t&&(i.pack(e,void 0,-1,void 0,-1,e.style.text),e.hoverable=!0,e.clickable=!0,e.highlightStyle={color:s.lift(e.style.color,1),brushType:"fill"}),e},refixAxisShape:function(t,e){if(this.option.axisLine.onZero){var i;if(this.isHorizontal()&&null!=e)for(var n=0,s=this.shapeList.length;n<s;n++)"axisLine"===this.shapeList[n]._axisShape?(this.shapeList[n].style.yStart=this.shapeList[n].style.yEnd=this.subPixelOptimize(e,this.shapeList[n].stylelineWidth),this.zr.modShape(this.shapeList[n].id)):"axisTick"===this.shapeList[n]._axisShape&&(i=this.shapeList[n].style.yEnd-this.shapeList[n].style.yStart,this.shapeList[n].style.yStart=e-i,this.shapeList[n].style.yEnd=e,this.zr.modShape(this.shapeList[n].id));if(!this.isHorizontal()&&null!=t)for(n=0,s=this.shapeList.length;n<s;n++)"axisLine"===this.shapeList[n]._axisShape?(this.shapeList[n].style.xStart=this.shapeList[n].style.xEnd=this.subPixelOptimize(t,this.shapeList[n].stylelineWidth),this.zr.modShape(this.shapeList[n].id)):"axisTick"===this.shapeList[n]._axisShape&&(i=this.shapeList[n].style.xEnd-this.shapeList[n].style.xStart,this.shapeList[n].style.xStart=t,this.shapeList[n].style.xEnd=t+i,this.zr.modShape(this.shapeList[n].id))}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"===this.option.position||"top"===this.option.position}},reformOption:function(t){if(!t||t instanceof Array&&0===t.length?t=[{type:n.COMPONENT_TYPE_AXIS_VALUE}]:t instanceof Array||(t=[t]),2<t.length&&(t=[t[0],t[1]]),"xAxis"===this.axisType){(!t[0].position||"bottom"!=t[0].position&&"top"!=t[0].position)&&(t[0].position="bottom"),1<t.length&&(t[1].position="bottom"===t[0].position?"top":"bottom");for(var e=0,i=t.length;e<i;e++)t[e].type=t[e].type||"category",t[e].xAxisIndex=e,t[e].yAxisIndex=-1}else{(!t[0].position||"left"!=t[0].position&&"right"!=t[0].position)&&(t[0].position="left"),1<t.length&&(t[1].position="left"===t[0].position?"right":"left");for(e=0,i=t.length;e<i;e++)t[e].type=t[e].type||"value",t[e].xAxisIndex=-1,t[e].yAxisIndex=e}return t},refresh:function(t){var e;t&&(this.option=t,e="xAxis"===this.axisType?(this.option.xAxis=this.reformOption(t.xAxis),this.option.xAxis):(this.option.yAxis=this.reformOption(t.yAxis),this.option.yAxis),this.series=t.series);for(var i=r("./categoryAxis"),n=r("./valueAxis"),s=Math.max(e&&e.length||0,this._axisList.length),o=0;o<s;o++)!this._axisList[o]||!t||e[o]&&this._axisList[o].type==e[o].type||(this._axisList[o].dispose&&this._axisList[o].dispose(),this._axisList[o]=!1),this._axisList[o]?this._axisList[o].refresh&&this._axisList[o].refresh(!!e&&e[o],this.series):e&&e[o]&&(this._axisList[o]="category"===e[o].type?new i(this.ecTheme,this.messageCenter,this.zr,e[o],this.myChart,this.axisBase):new n(this.ecTheme,this.messageCenter,this.zr,e[o],this.myChart,this.axisBase,this.series))},getAxis:function(t){return this._axisList[t]},clear:function(){for(var t=0,e=this._axisList.length;t<e;t++)this._axisList[t].dispose&&this._axisList[t].dispose();this._axisList=[]}},e.inherits(t,a),r("../component").define("axis",t),t}),define("echarts/component/grid",["require","./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(t){function e(t,e,i,n,s){o.call(this,t,e,i,n,s),this.refresh(n)}var o=t("./base"),s=t("zrender/shape/Rectangle"),r=t("../config");r.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var i=t("zrender/tool/util");return e.prototype={type:r.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(t){for(var e,i,n,s=t.xAxis._axisList.concat(t.yAxis?t.yAxis._axisList:[]),o=s.length;o--;)(n=s[o]).type==r.COMPONENT_TYPE_AXIS_VALUE&&n._min<0&&0<=n._max&&(n.isHorizontal()?e=n.getCoord(0):i=n.getCoord(0));if(void 0!==e||void 0!==i)for(o=s.length;o--;)s[o].refixAxisShape(e,i)},refresh:function(t){if(t||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear(),this.option=t||this.option,this.option.grid=this.reformOption(this.option.grid);var e=this.option.grid;this._zrWidth=this.zr.getWidth(),this._zrHeight=this.zr.getHeight(),this._x=this.parsePercent(e.x,this._zrWidth),this._y=this.parsePercent(e.y,this._zrHeight);var i=this.parsePercent(e.x2,this._zrWidth),n=this.parsePercent(e.y2,this._zrHeight);this._width=void 0===e.width?this._zrWidth-this._x-i:this.parsePercent(e.width,this._zrWidth),this._width=this._width<=0?10:this._width,this._height=void 0===e.height?this._zrHeight-this._y-n:this.parsePercent(e.height,this._zrHeight),this._height=this._height<=0?10:this._height,this._x=this.subPixelOptimize(this._x,e.borderWidth),this._y=this.subPixelOptimize(this._y,e.borderWidth),this.shapeList.push(new s({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:0<e.borderWidth?"both":"fill",color:e.backgroundColor,strokeColor:e.borderColor,lineWidth:e.borderWidth}})),this.zr.addShape(this.shapeList[0])}}},i.inherits(e,o),t("../component").define("grid",e),e}),define("echarts/component/dataZoom",["require","./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(o){function t(t,e,i,n,s){r.call(this,t,e,i,n,s);var o=this;o._ondrift=function(t,e){return o.__ondrift(this,t,e)},o._ondragend=function(){return o.__ondragend()},this._fillerSize=30,this._isSilence=!1,this._zoom={},this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this._handleSize=this.zoomOption.handleSize,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom.show&&this._buildShape(),this._syncData()}var r=o("./base"),_=o("zrender/shape/Rectangle"),b=o("zrender/shape/Polygon"),e=o("../util/shape/Icon"),x=o("../config");x.dataZoom={zlevel:0,z:4,show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:!0,realtime:!0};var m=o("../util/date"),a=o("zrender/tool/util");return t.prototype={type:x.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground(),this._buildFiller(),this._buildHandle(),this._buildFrame();for(var t=0,e=this.shapeList.length;t<e;t++)this.zr.addShape(this.shapeList[t]);this._syncFrameShape()},_getLocation:function(){var t,e,i,n,s=this.component.grid;return e="horizontal"==this.zoomOption.orient?(i=this.zoomOption.width||s.getWidth(),n=this.zoomOption.height||this._fillerSize,t=null!=this.zoomOption.x?this.zoomOption.x:s.getX(),null!=this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-n-2):(i=this.zoomOption.width||this._fillerSize,n=this.zoomOption.height||s.getHeight(),t=null!=this.zoomOption.x?this.zoomOption.x:2,null!=this.zoomOption.y?this.zoomOption.y:s.getY()),{x:t,y:e,width:i,height:n}},_getZoom:function(){var t=this.option.series,e=this.option.xAxis;!e||e instanceof Array||(e=[e],this.option.xAxis=e);var i=this.option.yAxis;!i||i instanceof Array||(i=[i],this.option.yAxis=i);var n,s,o=[],r=this.zoomOption.xAxisIndex;if(e&&null==r){n=[];for(var a=0,l=e.length;a<l;a++)("category"==e[a].type||null==e[a].type)&&n.push(a)}else n=r instanceof Array?r:null!=r?[r]:[];if(r=this.zoomOption.yAxisIndex,i&&null==r){s=[];for(a=0,l=i.length;a<l;a++)"category"==i[a].type&&s.push(a)}else s=r instanceof Array?r:null!=r?[r]:[];var h;for(a=0,l=t.length;a<l;a++)if((h=t[a]).type==x.CHART_TYPE_LINE||h.type==x.CHART_TYPE_BAR||h.type==x.CHART_TYPE_SCATTER||h.type==x.CHART_TYPE_K){for(var c=0,d=n.length;c<d;c++)if(n[c]==(h.xAxisIndex||0)){o.push(a);break}for(c=0,d=s.length;c<d;c++)if(s[c]==(h.yAxisIndex||0)){o.push(a);break}null==this.zoomOption.xAxisIndex&&null==this.zoomOption.yAxisIndex&&h.data&&this.getDataFromOption(h.data[0])instanceof Array&&(h.type==x.CHART_TYPE_SCATTER||h.type==x.CHART_TYPE_LINE||h.type==x.CHART_TYPE_BAR)&&o.push(a)}var u=null!=this._zoom.start?this._zoom.start:null!=this.zoomOption.start?this.zoomOption.start:0,p=null!=this._zoom.end?this._zoom.end:null!=this.zoomOption.end?this.zoomOption.end:100;return p<u&&(u+=p,u-=p=u-p),{start:u,end:p,start2:0,end2:100,size:Math.round((p-u)/100*("horizontal"==this.zoomOption.orient?this._location.width:this._location.height)),xAxisIndex:n,yAxisIndex:s,seriesIndex:o,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var t=this.option.xAxis,e=this._zoom.xAxisIndex,i=0,n=e.length;i<n;i++)this._originalData.xAxis[e[i]]=t[e[i]].data;var s=this.option.yAxis,o=this._zoom.yAxisIndex;for(i=0,n=o.length;i<n;i++)this._originalData.yAxis[o[i]]=s[o[i]].data;var r,a=this.option.series,l=this._zoom.seriesIndex;for(i=0,n=l.length;i<n;i++)r=a[l[i]],this._originalData.series[l[i]]=r.data,r.data&&this.getDataFromOption(r.data[0])instanceof Array&&(r.type==x.CHART_TYPE_SCATTER||r.type==x.CHART_TYPE_LINE||r.type==x.CHART_TYPE_BAR)&&(this._backupScale(),this._calculScatterMap(l[i]))},_calculScatterMap:function(t){this._zoom.scatterMap=this._zoom.scatterMap||{},this._zoom.scatterMap[t]=this._zoom.scatterMap[t]||{};var e=o("../component").get("axis"),i=a.clone(this.option.xAxis);"category"==i[0].type&&(i[0].type="value"),i[1]&&"category"==i[1].type&&(i[1].type="value");var n=new e(this.ecTheme,null,!1,{xAxis:i,series:this.option.series},this,"xAxis"),s=this.option.series[t].xAxisIndex||0;this._zoom.scatterMap[t].x=n.getAxis(s).getExtremum(),n.dispose(),"category"==(i=a.clone(this.option.yAxis))[0].type&&(i[0].type="value"),i[1]&&"category"==i[1].type&&(i[1].type="value"),n=new e(this.ecTheme,null,!1,{yAxis:i,series:this.option.series},this,"yAxis"),s=this.option.series[t].yAxisIndex||0,this._zoom.scatterMap[t].y=n.getAxis(s).getExtremum(),n.dispose()},_buildBackground:function(){var t=this._location.width,e=this._location.height;this.shapeList.push(new _({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this._location.x,y:this._location.y,width:t,height:e,color:this.zoomOption.backgroundColor}}));for(var i=0,n=this._originalData.xAxis,s=this._zoom.xAxisIndex,o=0,r=s.length;o<r;o++)i=Math.max(i,n[s[o]].length);var a=this._originalData.yAxis,l=this._zoom.yAxisIndex;for(o=0,r=l.length;o<r;o++)i=Math.max(i,a[l[o]].length);var h,c=this._zoom.seriesIndex[0],d=this._originalData.series[c],u=Number.MIN_VALUE,p=Number.MAX_VALUE;for(o=0,r=d.length;o<r;o++)h=this.getDataFromOption(d[o],0),this.option.series[c].type==x.CHART_TYPE_K&&(h=h[1]),isNaN(h)&&(h=0),u=Math.max(u,h),p=Math.min(p,h);var f=u-p,g=[],m=t/(i-(1<i?1:0)),y=e/(i-(1<i?1:0)),v=1;"horizontal"==this.zoomOption.orient&&m<1?v=Math.floor(3*i/t):"vertical"==this.zoomOption.orient&&y<1&&(v=Math.floor(3*i/e));for(o=0,r=i;o<r;o+=v)h=this.getDataFromOption(d[o],0),this.option.series[c].type==x.CHART_TYPE_K&&(h=h[1]),isNaN(h)&&(h=0),g.push("horizontal"==this.zoomOption.orient?[this._location.x+m*o,this._location.y+e-1-Math.round((h-p)/f*(e-10))]:[this._location.x+1+Math.round((h-p)/f*(t-10)),this._location.y+y*(r-o-1)]);"horizontal"==this.zoomOption.orient?g.push([this._location.x+t,this._location.y+e]):g.push([this._location.x,this._location.y]),g.push([this._location.x,this._location.y+e]),this.shapeList.push(new b({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:g,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"},this._fillerShae.style="horizontal"==this.zoomOption.orient?{x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}:{x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"},this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"},this._fillerShae=new _(this._fillerShae),this.shapeList.push(this._fillerShae)},_buildHandle:function(){var t=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:t.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend},"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=a.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endShape.highlightStyle.text=t.end,this._endShape.highlightStyle.textPosition="right"):(this._startShape.style.width=this._location.width,this._endShape=a.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startShape.highlightStyle.textPosition="bottom",this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.highlightStyle.text=t.end,this._endShape.highlightStyle.textPosition="top"),this._startShape=new e(this._startShape),this._endShape=new e(this._endShape),this.shapeList.push(this._startShape),this.shapeList.push(this._endShape)},_buildFrame:function(){var t=this.subPixelOptimize(this._location.x,1),e=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:t,y:e,width:this._location.width-(t>this._location.x?1:0),height:this._location.height-(e>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}},this._endFrameShape=a.clone(this._startFrameShape),this._startFrameShape=new _(this._startFrameShape),this._endFrameShape=new _(this._endFrameShape),this.shapeList.push(this._startFrameShape),this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100,this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100):(this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endShape.style.y=this._fillerShae.style.y-this._handleSize,this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFillerShape:function(){var t,e;"horizontal"==this.zoomOption.orient?(t=this._startShape.style.x,e=this._endShape.style.x,this._fillerShae.style.x=Math.min(t,e)+this._handleSize,this._fillerShae.style.width=Math.abs(t-e)-this._handleSize,this._zoom.start=(Math.min(t,e)-this._location.x)/this._location.width*100,this._zoom.end=(Math.max(t,e)+this._handleSize-this._location.x)/this._location.width*100):(t=this._startShape.style.y,e=this._endShape.style.y,this._fillerShae.style.y=Math.min(t,e)+this._handleSize,this._fillerShae.style.height=Math.abs(t-e)-this._handleSize,this._zoom.start=(this._location.y+this._location.height-Math.max(t,e))/this._location.height*100,this._zoom.end=(this._location.y+this._location.height-Math.min(t,e)-this._handleSize)/this._location.height*100),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refreshNextFrame()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):(this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y,this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y),this.zr.modShape(this._startFrameShape.id),this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._endShape.style.y+this._handleSize,this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(t){var e,i,n,s,o;for(var r in this._originalData)for(var a in e=this._originalData[r])null!=(o=e[a])&&(s=o.length,i=Math.floor(this._zoom.start/100*s),n=Math.ceil(this._zoom.end/100*s),this.getDataFromOption(o[0])instanceof Array&&this.option[r][a].type!=x.CHART_TYPE_K?(this._setScale(),this.option[r][a].data=this._synScatterData(a,o)):this.option[r][a].data=o.slice(i,n));this._isSilence||!this.zoomOption.realtime&&!t||this.messageCenter.dispatch(x.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(t,e){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2)return e;var i,n,s,o,r,a=[],l=this._zoom.scatterMap[t];r="horizontal"==this.zoomOption.orient?(i=l.x.max-l.x.min,n=this._zoom.start/100*i+l.x.min,s=this._zoom.end/100*i+l.x.min,i=l.y.max-l.y.min,o=this._zoom.start2/100*i+l.y.min,this._zoom.end2/100*i+l.y.min):(i=l.x.max-l.x.min,n=this._zoom.start2/100*i+l.x.min,s=this._zoom.end2/100*i+l.x.min,i=l.y.max-l.y.min,o=this._zoom.start/100*i+l.y.min,this._zoom.end/100*i+l.y.min);for(var h,c=0,d=e.length;c<d;c++)(h=e[c].value||e[c])[0]>=n&&h[0]<=s&&h[1]>=o&&h[1]<=r&&a.push(e[c]);return a},_setScale:function(){var t=0!==this._zoom.start||100!==this._zoom.end||0!==this._zoom.start2||100!==this._zoom.end2,e={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var i in e)for(var n=0,s=e[i].length;n<s;n++)e[i][n].scale=t||e[i][n]._scale},_backupScale:function(){var t={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var e in t)for(var i=0,n=t[e].length;i<n;i++)t[e][i]._scale=t[e][i].scale},_getDetail:function(){for(var t=["xAxis","yAxis"],e=0,i=t.length;e<i;e++){var n=this._originalData[t[e]];for(var s in n){var o=n[s];if(null!=o){var r=o.length,a=Math.floor(this._zoom.start/100*r),l=Math.ceil(this._zoom.end/100*r);return l-=0<l?1:0,{start:this.getDataFromOption(o[a]),end:this.getDataFromOption(o[l])}}}}t="horizontal"==this.zoomOption.orient?"xAxis":"yAxis";var h=this._zoom.seriesIndex[0],c=this.option.series[h][t+"Index"]||0,d=this.option[t][c].type,u=this._zoom.scatterMap[h][t.charAt(0)].min,p=this._zoom.scatterMap[h][t.charAt(0)].max,f=p-u;if("value"==d)return{start:u+f*this._zoom.start/100,end:u+f*this._zoom.end/100};if("time"!=d)return{start:"",end:""};p=u+f*this._zoom.end/100,u+=f*this._zoom.start/100;var g=m.getAutoFormatter(u,p).formatter;return{start:m.format(g,u),end:m.format(g,p)}},__ondrift:function(t,e,i){this.zoomOption.zoomLock&&(t=this._fillerShae);var n="filler"==t._type?this._handleSize:0;if("horizontal"==this.zoomOption.orient?t.style.x+e-n<=this._location.x?t.style.x=this._location.x+n:t.style.x+e+t.style.width+n>=this._location.x+this._location.width?t.style.x=this._location.x+this._location.width-t.style.width-n:t.style.x+=e:t.style.y+i-n<=this._location.y?t.style.y=this._location.y+n:t.style.y+i+t.style.height+n>=this._location.y+this._location.height?t.style.y=this._location.y+this._location.height-t.style.height-n:t.style.y+=i,"filler"==t._type?this._syncHandleShape():this._syncFillerShape(),this.zoomOption.realtime&&this._syncData(),this.zoomOption.showDetail){var s=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=s.start,this._endShape.style.text=this._endShape.highlightStyle.text=s.end,this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition,this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return!0},__ondragend:function(){this.zoomOption.showDetail&&(this._startShape.style.text=this._endShape.style.text="=",this._startShape.style.textPosition=this._endShape.style.textPosition="inside",this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.refreshNextFrame()),this.isDragend=!0},ondragend:function(t,e){this.isDragend&&t.target&&(!this.zoomOption.realtime&&this._syncData(),e.dragOut=!0,e.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(x.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),e.needRefresh=!1,this.isDragend=!1)},ondataZoom:function(t,e){e.needRefresh=!0},absoluteZoom:function(t){this._zoom.start=t.start,this._zoom.end=t.end,this._zoom.start2=t.start2,this._zoom.end2=t.end2,this._syncShape(),this._syncData(!0)},rectZoom:function(t){if(!t)return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom;var e=this.component.grid.getArea(),i={x:t.x,y:t.y,width:t.width,height:t.height};if(i.width<0&&(i.x+=i.width,i.width=-i.width),i.height<0&&(i.y+=i.height,i.height=-i.height),i.x>e.x+e.width||i.y>e.y+e.height)return!1;i.x<e.x&&(i.x=e.x),i.x+i.width>e.x+e.width&&(i.width=e.x+e.width-i.x),i.y+i.height>e.y+e.height&&(i.height=e.y+e.height-i.y);var n,s=(i.x-e.x)/e.width,o=1-(i.x+i.width-e.x)/e.width,r=1-(i.y+i.height-e.y)/e.height,a=(i.y-e.y)/e.height;return"horizontal"==this.zoomOption.orient?(n=this._zoom.end-this._zoom.start,this._zoom.start+=n*s,this._zoom.end-=n*o,n=this._zoom.end2-this._zoom.start2,this._zoom.start2+=n*r,this._zoom.end2-=n*a):(n=this._zoom.end-this._zoom.start,this._zoom.start+=n*r,this._zoom.end-=n*a,n=this._zoom.end2-this._zoom.start2,this._zoom.start2+=n*s,this._zoom.end2-=n*o),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(t){for(var e,i,n=this._originalData.series,s=t.series,o=0,r=s.length;o<r;o++){i=s[o].data||s[o].eventList,e=n[o]?Math.floor(this._zoom.start/100*n[o].length):0;for(var a=0,l=i.length;a<l;a++)n[o]&&(n[o][a+e]=i[a])}},syncOption:function(t){this.silence(!0),this.option=t,this.option.dataZoom=this.reformOption(this.option.dataZoom),this.zoomOption=this.option.dataZoom,this.myChart.canvasSupported||(this.zoomOption.realtime=!1),this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this._backupData(),this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape(),this._syncData(),this.silence(!1)},silence:function(t){this._isSilence=t},getRealDataIndex:function(t,e){if(!this._originalData||0===this._zoom.start&&100==this._zoom.end)return e;var i=this._originalData.series;return i[t]?Math.floor(this._zoom.start/100*i[t].length)+e:-1},resize:function(){this.clear(),this._location=this._getLocation(),this._zoom=this._getZoom(),this.option.dataZoom.show&&this._buildShape()}},a.inherits(t,r),o("../component").define("dataZoom",t),t}),define("echarts/component/categoryAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(t){function e(t,e,i,n,s,o){if(n.data.length<1)console.error("option.data.length < 1.");else{for(var r in a.call(this,t,e,i,n,s),this.grid=this.component.grid,o)this[r]=o[r];this.refresh(n)}}var a=t("./base"),g=t("zrender/shape/Text"),v=t("zrender/shape/Line"),_=t("zrender/shape/Rectangle"),i=t("../config");i.categoryAxis={zlevel:0,z:0,show:!0,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var m=t("zrender/tool/util"),u=t("zrender/tool/area");return e.prototype={type:i.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(t){var e=this.getDataFromOption(this.option.data[t]),i=this.option.data[t].formatter||this.option.axisLabel.formatter;return i&&("function"==typeof i?e=i.call(this.myChart,e):"string"==typeof i&&(e=i.replace("{value}",e))),e},_getInterval:function(){var t=this.option.axisLabel.interval;if("auto"==t){var e=this.option.axisLabel.textStyle.fontSize,i=this.option.data,n=this.option.data.length;if(this.isHorizontal())if(3<n){var s,o,r=this.getGap(),a=!1,l=Math.floor(.5/r);for(l=l<1?1:l,t=Math.floor(15/r);!a&&t<n;){t+=l,a=!0,s=Math.floor(r*t);for(var h=Math.floor((n-1)/t)*t;0<=h;h-=t){if(0!==this.option.axisLabel.rotate)o=e;else if(i[h].textStyle)o=u.getTextWidth(this._getReformedLabel(h),this.getFont(m.merge(i[h].textStyle,this.option.axisLabel.textStyle)));else{var c=this._getReformedLabel(h)+"",d=(c.match(/\w/g)||"").length;o=d*e*2/3+(c.length-d)*e}if(s<o){a=!1;break}}}}else t=1;else if(3<n){r=this.getGap();for(t=Math.floor(11/r);r*t-6<e&&t<n;)t++}else t=1}else t="function"==typeof t?1:t-0+1;return t},_buildShape:function(){if(this._interval=this._getInterval(),this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var t=0,e=this.shapeList.length;t<e;t++)this.zr.addShape(this.shapeList[t])}},_buildAxisTick:function(){var t,e=this.option.data,i=this.option.data.length,n=this.option.axisTick,s=n.length,o=n.lineStyle.color,r=n.lineStyle.width,a="function"==typeof n.interval?n.interval:"auto"==n.interval&&"function"==typeof this.option.axisLabel.interval&&this.option.axisLabel.interval,l=a?1:"auto"==n.interval?this._interval:n.interval-0+1,h=n.onGap,c=h?this.getGap()/2:void 0===h&&this.option.boundaryGap?this.getGap()/2:0,d=0<c?-l:0;if(this.isHorizontal())for(var u,p="bottom"==this.option.position?n.inside?this.grid.getYend()-s-1:this.grid.getYend()+1:n.inside?this.grid.getY()+1:this.grid.getY()-s-1,f=d;f<i;f+=l)(!a||a(f,e[f]))&&(u=this.subPixelOptimize(this.getCoordByIndex(f)+(0<=f?c:0),r),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:u,yStart:p,xEnd:u,yEnd:p+s,strokeColor:o,lineWidth:r}},this.shapeList.push(new v(t)));else{var g,m="left"==this.option.position?n.inside?this.grid.getX()+1:this.grid.getX()-s-1:n.inside?this.grid.getXend()-s-1:this.grid.getXend()+1;for(f=d;f<i;f+=l)(!a||a(f,e[f]))&&(g=this.subPixelOptimize(this.getCoordByIndex(f)-(0<=f?c:0),r),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:m,yStart:g,xEnd:m+s,yEnd:g,strokeColor:o,lineWidth:r}},this.shapeList.push(new v(t)))}},_buildAxisLabel:function(){var t,e,i=this.option.data,n=this.option.data.length,s=this.option.axisLabel,o=s.rotate,r=s.margin,a=s.clickable,l=s.textStyle,h="function"==typeof s.interval&&s.interval;if(this.isHorizontal()){var c,d;d="bottom"==this.option.position?(c=this.grid.getYend()+r,"top"):(c=this.grid.getY()-r,"bottom");for(var u=0;u<n;u+=this._interval)h&&!h(u,i[u])||""===this._getReformedLabel(u)||(e=m.merge(i[u].textStyle||{},l),t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoordByIndex(u),y:c,color:e.color,text:this._getReformedLabel(u),textFont:this.getFont(e),textAlign:e.align||"center",textBaseline:e.baseline||d}},o&&(t.style.textAlign=0<o?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",t.rotation=[o*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new g(this._axisLabelClickable(a,t))))}else{var p,f;f="left"==this.option.position?(p=this.grid.getX()-r,"right"):(p=this.grid.getXend()+r,"left");for(u=0;u<n;u+=this._interval)h&&!h(u,i[u])||""===this._getReformedLabel(u)||(e=m.merge(i[u].textStyle||{},l),t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:p,y:this.getCoordByIndex(u),color:e.color,text:this._getReformedLabel(u),textFont:this.getFont(e),textAlign:e.align||f,textBaseline:e.baseline||0===u&&""!==this.option.name?"bottom":u==n-1&&""!==this.option.name?"top":"middle"}},o&&(t.rotation=[o*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new g(this._axisLabelClickable(a,t))))}},_buildSplitLine:function(){var t,e=this.option.data,i=this.option.data.length,n=this.option.splitLine,s=n.lineStyle.type,o=n.lineStyle.width,r=n.lineStyle.color,a=(r=r instanceof Array?r:[r]).length,l="function"==typeof this.option.axisLabel.interval&&this.option.axisLabel.interval,h=n.onGap,c=h?this.getGap()/2:void 0===h&&this.option.boundaryGap?this.getGap()/2:0;if(i-=h||void 0===h&&this.option.boundaryGap?1:0,this.isHorizontal())for(var d,u=this.grid.getY(),p=this.grid.getYend(),f=0;f<i;f+=this._interval)(!l||l(f,e[f]))&&(d=this.subPixelOptimize(this.getCoordByIndex(f)+c,o),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:d,yStart:u,xEnd:d,yEnd:p,strokeColor:r[f/this._interval%a],lineType:s,lineWidth:o}},this.shapeList.push(new v(t)));else{var g,m=this.grid.getX(),y=this.grid.getXend();for(f=0;f<i;f+=this._interval)(!l||l(f,e[f]))&&(g=this.subPixelOptimize(this.getCoordByIndex(f)-c,o),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:m,yStart:g,xEnd:y,yEnd:g,strokeColor:r[f/this._interval%a],lineType:s,lineWidth:o}},this.shapeList.push(new v(t)))}},_buildSplitArea:function(){var t,e=this.option.data,i=this.option.splitArea,n=i.areaStyle.color;if(n instanceof Array){var s=n.length,o=this.option.data.length,r="function"==typeof this.option.axisLabel.interval&&this.option.axisLabel.interval,a=i.onGap,l=a?this.getGap()/2:void 0===a&&this.option.boundaryGap?this.getGap()/2:0;if(this.isHorizontal())for(var h,c=this.grid.getY(),d=this.grid.getHeight(),u=this.grid.getX(),p=0;p<=o;p+=this._interval)r&&!r(p,e[p])&&p<o||(h=p<o?this.getCoordByIndex(p)+l:this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:u,y:c,width:h-u,height:d,color:n[p/this._interval%s]}},this.shapeList.push(new _(t)),u=h);else{var f,g=this.grid.getX(),m=this.grid.getWidth(),y=this.grid.getYend();for(p=0;p<=o;p+=this._interval)r&&!r(p,e[p])&&p<o||(f=p<o?this.getCoordByIndex(p)-l:this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:g,y:f,width:m,height:y-f,color:n[p/this._interval%s]}},this.shapeList.push(new _(t)),y=f)}}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:n}},this.shapeList.push(new _(t))},refresh:function(t){t&&(this.option=this.reformOption(t),this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)),this.clear(),this._buildShape()},getGap:function(){var t=this.option.data.length,e=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?e/t:e/(1<t?t-1:1)},getCoord:function(t){for(var e=this.option.data,i=e.length,n=this.getGap(),s=this.option.boundaryGap?n/2:0,o=0;o<i;o++){if(this.getDataFromOption(e[o])==t)return this.isHorizontal()?this.grid.getX()+s:this.grid.getYend()-s;s+=n}},getCoordByIndex:function(t){if(t<0)return this.isHorizontal()?this.grid.getX():this.grid.getYend();if(t>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();var e=this.getGap(),i=this.option.boundaryGap?e/2:0;return i+=t*e,this.isHorizontal()?this.grid.getX()+i:this.grid.getYend()-i},getNameByIndex:function(t){return this.getDataFromOption(this.option.data[t])},getIndexByName:function(t){for(var e=this.option.data,i=e.length,n=0;n<i;n++)if(this.getDataFromOption(e[n])==t)return n;return-1},getValueFromCoord:function(){return""},isMainAxis:function(t){return t%this._interval==0}},m.inherits(e,a),t("../component").define("categoryAxis",e),e}),define("echarts/component/valueAxis",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../component"],function(s){function t(t,e,i,n,s,o,r){if(r&&0!==r.length){for(var a in l.call(this,t,e,i,n,s),this.series=r,this.grid=this.component.grid,o)this[a]=o[a];this.refresh(n,r)}else console.err("option.series.length == 0.")}var l=s("./base"),u=s("zrender/shape/Text"),g=s("zrender/shape/Line"),f=s("zrender/shape/Rectangle"),p=s("../config");p.valueAxis={zlevel:0,z:0,show:!0,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var m=s("../util/date"),i=s("zrender/tool/util");return t.prototype={type:p.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){if(this._hasData=!1,this._calculateValue(),this._hasData&&this.option.show){this.option.splitArea.show&&this._buildSplitArea(),this.option.splitLine.show&&this._buildSplitLine(),this.option.axisLine.show&&this._buildAxisLine(),this.option.axisTick.show&&this._buildAxisTick(),this.option.axisLabel.show&&this._buildAxisLabel();for(var t=0,e=this.shapeList.length;t<e;t++)this.zr.addShape(this.shapeList[t])}},_buildAxisTick:function(){var t,e=this._valueList,i=this._valueList.length,n=this.option.axisTick,s=n.length,o=n.lineStyle.color,r=n.lineStyle.width;if(this.isHorizontal())for(var a,l="bottom"===this.option.position?n.inside?this.grid.getYend()-s-1:this.grid.getYend()+1:n.inside?this.grid.getY()+1:this.grid.getY()-s-1,h=0;h<i;h++)a=this.subPixelOptimize(this.getCoord(e[h]),r),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:a,yStart:l,xEnd:a,yEnd:l+s,strokeColor:o,lineWidth:r}},this.shapeList.push(new g(t));else{var c,d="left"===this.option.position?n.inside?this.grid.getX()+1:this.grid.getX()-s-1:n.inside?this.grid.getXend()-s-1:this.grid.getXend()+1;for(h=0;h<i;h++)c=this.subPixelOptimize(this.getCoord(e[h]),r),t={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:d,yStart:c,xEnd:d+s,yEnd:c,strokeColor:o,lineWidth:r}},this.shapeList.push(new g(t))}},_buildAxisLabel:function(){var t,e=this._valueList,i=this._valueList.length,n=this.option.axisLabel.rotate,s=this.option.axisLabel.margin,o=this.option.axisLabel.clickable,r=this.option.axisLabel.textStyle;if(this.isHorizontal()){var a,l;l="bottom"===this.option.position?(a=this.grid.getYend()+s,"top"):(a=this.grid.getY()-s,"bottom");for(var h=0;h<i;h++)t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:this.getCoord(e[h]),y:a,color:"function"==typeof r.color?r.color(e[h]):r.color,text:this._valueLabel[h],textFont:this.getFont(r),textAlign:r.align||"center",textBaseline:r.baseline||l}},n&&(t.style.textAlign=0<n?"bottom"===this.option.position?"right":"left":"bottom"===this.option.position?"left":"right",t.rotation=[n*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new u(this._axisLabelClickable(o,t)))}else{var c,d;d="left"===this.option.position?(c=this.grid.getX()-s,"right"):(c=this.grid.getXend()+s,"left");for(h=0;h<i;h++)t={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:!1,style:{x:c,y:this.getCoord(e[h]),color:"function"==typeof r.color?r.color(e[h]):r.color,text:this._valueLabel[h],textFont:this.getFont(r),textAlign:r.align||d,textBaseline:r.baseline||(0===h&&""!==this.option.name?"bottom":h===i-1&&""!==this.option.name?"top":"middle")}},n&&(t.rotation=[n*Math.PI/180,t.style.x,t.style.y]),this.shapeList.push(new u(this._axisLabelClickable(o,t)))}},_buildSplitLine:function(){var t,e=this._valueList,i=this._valueList.length,n=this.option.splitLine,s=n.lineStyle.type,o=n.lineStyle.width,r=n.lineStyle.color,a=(r=r instanceof Array?r:[r]).length;if(this.isHorizontal())for(var l,h=this.grid.getY(),c=this.grid.getYend(),d=0;d<i;d++)l=this.subPixelOptimize(this.getCoord(e[d]),o),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:l,yStart:h,xEnd:l,yEnd:c,strokeColor:r[d%a],lineType:s,lineWidth:o}},this.shapeList.push(new g(t));else{var u,p=this.grid.getX(),f=this.grid.getXend();for(d=0;d<i;d++)u=this.subPixelOptimize(this.getCoord(e[d]),o),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{xStart:p,yStart:u,xEnd:f,yEnd:u,strokeColor:r[d%a],lineType:s,lineWidth:o}},this.shapeList.push(new g(t))}},_buildSplitArea:function(){var t,e=this.option.splitArea.areaStyle.color;if(e instanceof Array){var i=e.length,n=this._valueList,s=this._valueList.length;if(this.isHorizontal())for(var o,r=this.grid.getY(),a=this.grid.getHeight(),l=this.grid.getX(),h=0;h<=s;h++)o=h<s?this.getCoord(n[h]):this.grid.getXend(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:l,y:r,width:o-l,height:a,color:e[h%i]}},this.shapeList.push(new f(t)),l=o;else{var c,d=this.grid.getX(),u=this.grid.getWidth(),p=this.grid.getYend();for(h=0;h<=s;h++)c=h<s?this.getCoord(n[h]):this.grid.getY(),t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:d,y:c,width:u,height:p-c,color:e[h%i]}},this.shapeList.push(new f(t)),p=c}}else t={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:e}},this.shapeList.push(new f(t))},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var t,e,i={},n=this.component.legend,s=0,o=this.series.length;s<o;s++)this.series[s].type!=p.CHART_TYPE_LINE&&this.series[s].type!=p.CHART_TYPE_BAR&&this.series[s].type!=p.CHART_TYPE_SCATTER&&this.series[s].type!=p.CHART_TYPE_K&&this.series[s].type!=p.CHART_TYPE_EVENTRIVER||n&&!n.isSelected(this.series[s].name)||(t=this.series[s].xAxisIndex||0,e=this.series[s].yAxisIndex||0,this.option.xAxisIndex!=t&&this.option.yAxisIndex!=e||this._calculSum(i,s));var r;for(var s in i){for(var a=0,l=(r=i[s]).length;a<l;a++)if(!isNaN(r[a])){this._hasData=!0,this._min=r[a],this._max=r[a];break}if(this._hasData)break}for(var s in i)for(a=0,l=(r=i[s]).length;a<l;a++)isNaN(r[a])||(this._min=Math.min(this._min,r[a]),this._max=Math.max(this._max,r[a]));var h=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(h*this.option.boundaryGap[0]):this.option.min-0,this._max=isNaN(this.option.max-0)?this._max+Math.abs(h*this.option.boundaryGap[1]):this.option.max-0,this._min===this._max&&(0===this._max?this._max=1:0<this._max?this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5:this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5),"time"!=this.option.type?this._reformValue(this.option.scale):this._reformTimeValue()}else this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,"time"!=this.option.type?this._customerValue():this._reformTimeValue()},_calculSum:function(t,e){var i,n,s=this.series[e].name||"kener";if(this.series[e].stack){var o="__Magic_Key_Positive__"+this.series[e].stack,r="__Magic_Key_Negative__"+this.series[e].stack;t[o]=t[o]||[],t[r]=t[r]||[],t[s]=t[s]||[];for(var a=0,l=(n=this.series[e].data).length;a<l;a++)"-"!==(i=this.getDataFromOption(n[a]))&&(0<=(i-=0)?null!=t[o][a]?t[o][a]+=i:t[o][a]=i:null!=t[r][a]?t[r][a]+=i:t[r][a]=i,this.option.scale&&t[s].push(i))}else if(t[s]=t[s]||[],this.series[e].type!=p.CHART_TYPE_EVENTRIVER)for(a=0,l=(n=this.series[e].data).length;a<l;a++)i=this.getDataFromOption(n[a]),this.series[e].type===p.CHART_TYPE_K?(t[s].push(i[0]),t[s].push(i[1]),t[s].push(i[2]),t[s].push(i[3])):i instanceof Array?(-1!=this.option.xAxisIndex&&t[s].push("time"!=this.option.type?i[0]:m.getNewDate(i[0])),-1!=this.option.yAxisIndex&&t[s].push("time"!=this.option.type?i[1]:m.getNewDate(i[1]))):t[s].push(i);else for(a=0,l=(n=this.series[e].data).length;a<l;a++)for(var h=n[a].evolution,c=0,d=h.length;c<d;c++)t[s].push(m.getNewDate(h[c].time))},_reformValue:function(t){var e=s("../util/smartSteps"),i=this.option.splitNumber;!t&&0<=this._min&&0<=this._max&&(this._min=0),!t&&this._min<=0&&this._max<=0&&(this._max=0);var n=e(this._min,this._max,i);i=null!=i?i:n.secs,this._min=n.min,this._max=n.max,this._valueList=n.pnts,this._reformLabelData()},_reformTimeValue:function(){var t,e=null!=this.option.splitNumber?this.option.splitNumber:5,i=m.getAutoFormatter(this._min,this._max,e),n=i.formatter,s=i.gapValue;switch(this._valueList=[m.getNewDate(this._min)],n){case"week":t=m.nextMonday(this._min);break;case"month":t=m.nextNthOnMonth(this._min,1);break;case"quarter":t=m.nextNthOnQuarterYear(this._min,1);break;case"half-year":t=m.nextNthOnHalfYear(this._min,1);break;case"year":t=m.nextNthOnYear(this._min,1);break;default:s<=72e5?t=(Math.floor(this._min/s)+1)*s:((t=m.getNewDate(this._min- -s)).setHours(6*Math.round(t.getHours()/6)),t.setMinutes(0),t.setSeconds(0))}for(t-this._min<s/2&&(t-=-s),i=m.getNewDate(t),e*=1.5;0<=e--&&(("month"==n||"quarter"==n||"half-year"==n||"year"==n)&&i.setDate(1),!(this._max-i<s/2));)this._valueList.push(i),i=m.getNewDate(i- -s);this._valueList.push(m.getNewDate(this._max)),this._reformLabelData(n)},_customerValue:function(){var t=s("../util/accMath"),e=null!=this.option.splitNumber?this.option.splitNumber:5,i=(this._max-this._min)/e;this._valueList=[];for(var n=0;n<=e;n++)this._valueList.push(t.accAdd(this._min,t.accMul(i,n)));this._reformLabelData()},_reformLabelData:function(t){this._valueLabel=[];var e=this.option.axisLabel.formatter;if(e)for(var i=0,n=this._valueList.length;i<n;i++)"function"==typeof e?this._valueLabel.push(t?e.call(this.myChart,this._valueList[i],t):e.call(this.myChart,this._valueList[i])):"string"==typeof e&&this._valueLabel.push(t?m.format(e,this._valueList[i]):e.replace("{value}",this._valueList[i]));else if(t)for(i=0,n=this._valueList.length;i<n;i++)this._valueLabel.push(m.format(t,this._valueList[i]));else for(i=0,n=this._valueList.length;i<n;i++)this._valueLabel.push(this.numAddCommas(this._valueList[i]))},getExtremum:function(){return this._calculateValue(),{min:this._min,max:this._max}},refresh:function(t,e){t&&(this.option=this.reformOption(t),this.option.axisLabel.textStyle=i.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=e),this.zr&&(this.clear(),this._buildShape())},getCoord:function(t){return t=(t=t<this._min?this._min:t)>this._max?this._max:t,this.isHorizontal()?this.grid.getX()+(t-this._min)/(this._max-this._min)*this.grid.getWidth():this.grid.getYend()-(t-this._min)/(this._max-this._min)*this.grid.getHeight()},getCoordSize:function(t){return Math.abs(this.isHorizontal()?t/(this._max-this._min)*this.grid.getWidth():t/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(t){return(this.isHorizontal()?(t=(t=t<this.grid.getX()?this.grid.getX():t)>this.grid.getXend()?this.grid.getXend():t,this._min+(t-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(t=(t=t<this.grid.getY()?this.grid.getY():t)>this.grid.getYend()?this.grid.getYend():t,this._max-(t-this.grid.getY())/this.grid.getHeight()*(this._max-this._min))).toFixed(2)-0},isMaindAxis:function(t){for(var e=0,i=this._valueList.length;e<i;e++)if(this._valueList[e]===t)return!0;return!1}},i.inherits(t,l),s("../component").define("valueAxis",t),t}),define("echarts/util/date",[],function(){function h(t){return t<10?"0"+t:t}function i(t,e,i){return(t=c(t)).setMonth(Math.ceil((t.getMonth()+1)/i)*i),t.setDate(e),t}function c(t){return t instanceof Date?t:new Date("string"==typeof t?t.replace(/-/g,"/"):t)}var d=[{formatter:"hh : mm : ss",value:1e3},{formatter:"hh : mm : ss",value:5e3},{formatter:"hh : mm : ss",value:1e4},{formatter:"hh : mm : ss",value:15e3},{formatter:"hh : mm : ss",value:3e4},{formatter:"hh : mm\nMM - dd",value:6e4},{formatter:"hh : mm\nMM - dd",value:3e5},{formatter:"hh : mm\nMM - dd",value:6e5},{formatter:"hh : mm\nMM - dd",value:9e5},{formatter:"hh : mm\nMM - dd",value:18e5},{formatter:"hh : mm\nMM - dd",value:36e5},{formatter:"hh : mm\nMM - dd",value:72e5},{formatter:"hh : mm\nMM - dd",value:216e5},{formatter:"hh : mm\nMM - dd",value:432e5},{formatter:"MM - dd\nyyyy",value:864e5},{formatter:"week",value:6048e5},{formatter:"month",value:26784e5},{formatter:"quarter",value:8208e6},{formatter:"half-year",value:16416e6},{formatter:"year",value:32832e6}];return{getAutoFormatter:function(t,e,i){i=1<i?i:2;for(var n,s,o,r,a=0,l=d.length;a<l;a++)if(n=d[a].value,s=Math.ceil(e/n)*n-Math.floor(t/n)*n,Math.round(s/n)<=1.2*i){o=d[a].formatter,r=d[a].value;break}return null==o&&(o="year",n=317088e5,s=Math.ceil(e/n)*n-Math.floor(t/n)*n,r=Math.round(s/(i-1)/n)*n),{formatter:o,gapValue:r}},getNewDate:c,format:function(t,e){("week"==t||"month"==t||"quarter"==t||"half-year"==t||"year"==t)&&(t="MM - dd\nyyyy");var i=c(e),n=i.getFullYear(),s=i.getMonth()+1,o=i.getDate(),r=i.getHours(),a=i.getMinutes(),l=i.getSeconds();return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("MM",h(s))).toLowerCase()).replace("yyyy",n)).replace("yy",n%100)).replace("dd",h(o))).replace("d",o)).replace("hh",h(r))).replace("h",r)).replace("mm",h(a))).replace("m",a)).replace("ss",h(l))).replace("s",l)},nextMonday:function(t){return(t=c(t)).setDate(t.getDate()+8-t.getDay()),t},nextNthPerNmonth:i,nextNthOnMonth:function(t,e){return i(t,e,1)},nextNthOnQuarterYear:function(t,e){return i(t,e,3)},nextNthOnHalfYear:function(t,e){return i(t,e,6)},nextNthOnYear:function(t,e){return i(t,e,12)}}}),define("echarts/util/smartSteps",[],function(){function p(t){return C.pow(10,t)}function h(t){return t===S(t)}function m(t,e,i,n){n=n||0;var s=y((e-t)/i,-1),o=y(t,-1,1),r=y(e,-1),a=C.min(s.e,o.e,r.e);0===o.c?a=C.min(s.e,r.e):0===r.c&&(a=C.min(s.e,o.e)),v(s,{c:0,e:a}),v(o,s,1),v(r,s),n+=a,t=o.c;for(var l=((e=r.c)-t)/i,h=p(n),c=0,d=[],u=i+1;u--;)d[u]=(t+l*u)*h;if(n<0){c=(+h).toFixed(15).split(".").pop().replace(/0+$/,"").length,l=+(l*h).toFixed(c),t=+(t*h).toFixed(c),e=+(e*h).toFixed(c);for(u=d.length;u--;)d[u]=d[u].toFixed(c),0==+d[u]&&(d[u]="0")}else t*=h,e*=h,l*=h;return g=_=b=0,{min:t,max:e,secs:i,step:l,fix:c,exp:n,pnts:d}}function y(t,e,i){(e=k(e%10)||2)<0&&(h(t)?e=(""+E(t)).replace(/0+$/,"").length||1:(e=(t=t.toFixed(15).replace(/0+$/,"")).replace(".","").replace(/^[-0]+/,"").length,t=+t));var n,s=S((n=t,C.log(E(n))/C.LN10))-e+1,o=+(t*p(-s)).toFixed(15)||0;return!(o=i?S(o):T(o))&&(s=0),(""+E(o)).length>e&&(s+=1,o/=10),{c:o,e:s}}function v(t,e,i){var n=e.e-t.e;n&&(t.e+=n,t.c*=p(-n),t.c=i?S(t.c):T(t.c))}function c(t,e,i){t.e<e.e?v(e,t,i):v(t,e,i)}function d(t,e){e=e||r;for(var i=(t=y(t)).c,n=0;i>e[n];)n++;if(!e[n])for(i/=10,t.e+=1,n=0;i>e[n];)n++;return t.c=e[n],t}function o(t,e,i){var n=i||+b.slice(-1),s=d((e-t)/n,_),o=y(e-t),r=y(t,-1,1),a=y(e,-1);if(v(o,s),v(r,s,1),v(a,s),i?function(t,e,i){for(var n,s,o=e.c,r=(e.c-t.c)/i-1;o>t.c;)r=(r=d(r+1,_)).c*p(r.e),n=r*i,s=T(e.c/r)*r,o=s-n;var a=t.c-o,l=s-e.c,h=a-l;return 1.1*r<h&&(h=k(h/r/2)*r,o+=h,s+=h),t.c=o,e.c=s,r}(r,a,n):n=function(t,e){for(var i,n,s,o,r=[],a=b.length;a--;)i=b[a],n=(n=d((e.c-t.c)/i,_)).c*p(n.e),s=S(t.c/n)*n,o=T(e.c/n)*n,r[a]={min:s,max:o,step:n,span:o-s};return r.sort(function(t,e){var i=t.span-e.span;return 0===i&&(i=t.step-e.step),i}),r=r[0],i=r.span/r.step,t.c=r.min,e.c=r.max,i<3?2*i:i}(r,a),h(t)&&h(e)&&0<=t*e){if(e-t<n)return u(t,e,n);n=function(t,e,i,n,s,o){var r=s.c-n.c,a=r/o*p(s.e);if(!h(a)&&(a=S(a),e-t>(r=a*o)&&(r=(a+=1)*o,!i&&e-t<=a*(o-1)&&(r=a*(o-=1))),e-t<=r)){var l=r-(e-t);n.c=k(t-l/2),s.c=k(e+l/2),n.e=0,s.e=0}return o}(t,e,i,r,a,n)}var l=f(t,e,r.c,a.c);return r.c=l[0],a.c=l[1],(x||w)&&function(t,e,i,n){if(x){var s=y(t,4,1);6<i.e-s.e&&(s={c:0,e:i.e}),c(i,s),c(n,s),n.c+=s.c-i.c,i.c=s.c}else if(w){var o=y(e,4);6<n.e-o.e&&(o={c:0,e:n.e}),c(i,o),c(n,o),i.c+=o.c-n.c,n.c=o.c}}(t,e,r,a),m(r.c,a.c,n,a.e)}function u(t,e,i){if(i=i||5,x)e=t+i;else if(w)t=e-i;else{var n=i-(e-t),s=f(t,e,k(t-n/2),k(e+n/2));t=s[0],e=s[1]}return m(t,e,i)}function f(t,e,i,n){return 0<=t&&i<0?(n-=i,i=0):e<=0&&0<n&&(i-=n,n=0),[i,n]}var g,_,b,x,w,r=[10,20,25,50],a=[4,5,6],C=Math,k=C.round,S=C.floor,T=C.ceil,E=C.abs;return function(t,e,i,n){_=(g=n||{}).steps||r,b=g.secs||a,i=k(+i||0)%99,t=+t||0,e=+e||0,x=w=0,"min"in g&&(t=+g.min||0,x=1),"max"in g&&(e=+g.max||0,w=1),e<t&&(e=[t,t=e][0]);var s=e-t;if(x&&w)return function(t,e,i){var n=i?[i]:b,s=e-t;if(0===s)return e=y(e,3),i=n[0],e.c=k(e.c+i/2),m(e.c-i,e.c,i,e.e);E(e/s)<1e-6&&(e=0),E(t/s)<1e-6&&(t=0);var o,r,a,l=[[5,10],[10,2],[50,10],[100,2]],h=[],c=[],d=y(e-t,3),u=y(t,-1,1),p=y(e,-1);v(u,d,1),v(p,d),s=p.c-u.c,d.c=s;for(var f=n.length;f--;){i=n[f],o=T(s/i),a=3*(3+(r=o*i-s)),a+=2*(i-n[0]+2),i%5==0&&(a-=10);for(var g=l.length;g--;)o%l[g][0]==0&&(a/=l[g][1]);c[f]=[i,o,r,a].join(),h[f]={secs:i,step:o,delta:r,score:a}}return h.sort(function(t,e){return t.score-e.score}),h=h[0],u.c=k(u.c-h.delta/2),p.c=k(p.c+h.delta/2),m(u.c,p.c,h.secs,d.e)}(t,e,i);if(s<(i||5)){if(h(t)&&h(e))return u(t,e,i);if(0===s)return function(t,e,i){i=i||5;var n=C.min(E(e/i),i)/2.1;return x?e=t+n:w?t=e-n:(t-=n,e+=n),o(t,e,i)}(t,e,i)}return o(t,e,i)}}),function o(r,a,l){function h(i,t){if(!a[i]){if(!r[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=a[i]={exports:{}};r[i][0].call(s.exports,function(t){var e=r[i][1][t];return h(e||t)},s,s.exports,o,r,a,l)}return a[i].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(_,e,t){!function(t,c){"use strict";var s=t.document,o=_("./src/utils/get-by-class"),r=_("./src/utils/extend"),d=_("./src/utils/index-of"),u=_("./src/utils/events"),p=_("./src/utils/to-string"),f=_("./src/utils/natural-sort"),g=_("./src/utils/classes"),m=_("./src/utils/get-attribute"),y=_("./src/utils/to-array"),v=function(t,e,i){var n,a=this,l=_("./src/item")(a),h=_("./src/add-async")(a);n={start:function(){a.listClass="list",a.searchClass="search",a.sortClass="sort",a.page=1e4,a.i=1,a.items=[],a.visibleItems=[],a.matchingItems=[],a.searched=!1,a.filtered=!1,a.searchColumns=c,a.handlers={updated:[]},a.plugins={},a.valueNames=[],a.utils={getByClass:o,extend:r,indexOf:d,events:u,toString:p,naturalSort:f,classes:g,getAttribute:m,toArray:y},a.utils.extend(a,e),a.listContainer="string"==typeof t?s.getElementById(t):t,a.listContainer&&(a.list=o(a.listContainer,a.listClass,!0),a.parse=_("./src/parse")(a),a.templater=_("./src/templater")(a),a.search=_("./src/search")(a),a.filter=_("./src/filter")(a),a.sort=_("./src/sort")(a),this.handlers(),this.items(),a.update(),this.plugins())},handlers:function(){for(var t in a.handlers)a[t]&&a.on(t,a[t])},items:function(){a.parse(a.list),i!==c&&a.add(i)},plugins:function(){for(var t=0;t<a.plugins.length;t++){var e=a.plugins[t];(a[e.name]=e).init(a,v)}}},this.reIndex=function(){a.items=[],a.visibleItems=[],a.matchingItems=[],a.searched=!1,a.filtered=!1,a.parse(a.list)},this.toJSON=function(){for(var t=[],e=0,i=a.items.length;e<i;e++)t.push(a.items[e].values());return t},this.add=function(t,e){if(0!==t.length){if(e)return void h(t,e);var i=[],n=!1;t[0]===c&&(t=[t]);for(var s=0,o=t.length;s<o;s++){var r;n=a.items.length>a.page,r=new l(t[s],c,n),a.items.push(r),i.push(r)}return a.update(),i}},this.show=function(t,e){return this.i=t,this.page=e,a.update(),a},this.remove=function(t,e,i){for(var n=0,s=0,o=a.items.length;s<o;s++)a.items[s].values()[t]==e&&(a.templater.remove(a.items[s],i),a.items.splice(s,1),o--,s--,n++);return a.update(),n},this.get=function(t,e){for(var i=[],n=0,s=a.items.length;n<s;n++){var o=a.items[n];o.values()[t]==e&&i.push(o)}return i},this.size=function(){return a.items.length},this.clear=function(){return a.templater.clear(),a.items=[],a},this.on=function(t,e){return a.handlers[t].push(e),a},this.off=function(t,e){var i=a.handlers[t],n=d(i,e);return-1<n&&i.splice(n,1),a},this.trigger=function(t){for(var e=a.handlers[t].length;e--;)a.handlers[t][e](a);return a},this.reset={filter:function(){for(var t=a.items,e=t.length;e--;)t[e].filtered=!1;return a},search:function(){for(var t=a.items,e=t.length;e--;)t[e].found=!1;return a}},this.update=function(){var t=a.items,e=t.length;a.visibleItems=[],a.matchingItems=[],a.templater.clear();for(var i=0;i<e;i++)t[i].matching()&&a.matchingItems.length+1>=a.i&&a.visibleItems.length<a.page?(t[i].show(),a.visibleItems.push(t[i]),a.matchingItems.push(t[i])):(t[i].matching()&&a.matchingItems.push(t[i]),t[i].hide());return a.trigger("updated"),a},n.start()};"function"==typeof define&&define.amd&&define(function(){return v}),e.exports=v,t.List=v}(window)},{"./src/add-async":2,"./src/filter":3,"./src/item":4,"./src/parse":5,"./src/search":6,"./src/sort":7,"./src/templater":8,"./src/utils/classes":9,"./src/utils/events":10,"./src/utils/extend":11,"./src/utils/get-attribute":12,"./src/utils/get-by-class":13,"./src/utils/index-of":14,"./src/utils/natural-sort":15,"./src/utils/to-array":16,"./src/utils/to-string":17}],2:[function(t,e,i){e.exports=function(s){var o=function(t,e,i){var n=t.splice(0,50);i=(i=i||[]).concat(s.add(n)),0<t.length?setTimeout(function(){o(t,e,i)},1):(s.update(),e(i))};return o}},{}],3:[function(t,e,i){e.exports=function(o){return o.handlers.filterStart=o.handlers.filterStart||[],o.handlers.filterComplete=o.handlers.filterComplete||[],function(t){if(o.trigger("filterStart"),o.i=1,o.reset.filter(),void 0===t)o.filtered=!1;else{o.filtered=!0;for(var e=o.items,i=0,n=e.length;i<n;i++){var s=e[i];t(s)?s.filtered=!0:s.filtered=!1}}return o.update(),o.trigger("filterComplete"),o.visibleItems}}},{}],4:[function(t,e,i){e.exports=function(o){return function(t,e,i){var s=this;this._values={},this.found=!1,this.filtered=!1;this.values=function(t,e){if(void 0===t)return s._values;for(var i in t)s._values[i]=t[i];!0!==e&&o.templater.set(s,s.values())},this.show=function(){o.templater.show(s)},this.hide=function(){o.templater.hide(s)},this.matching=function(){return o.filtered&&o.searched&&s.found&&s.filtered||o.filtered&&!o.searched&&s.filtered||!o.filtered&&o.searched&&s.found||!o.filtered&&!o.searched},this.visible=function(){return!(!s.elm||s.elm.parentNode!=o.list)},function(t,e,i){if(void 0===e)i?s.values(t,i):s.values(t);else{s.elm=e;var n=o.templater.get(s,t);s.values(n)}}(t,e,i)}}},{}],5:[function(t,e,i){e.exports=function(s){var o=t("./item")(s),n=function(t,e){for(var i=0,n=t.length;i<n;i++)s.items.push(new o(e,t[i]))},r=function(t,e){var i=t.splice(0,50);n(i,e),0<t.length?setTimeout(function(){r(t,e)},1):(s.update(),s.trigger("parseComplete"))};return s.handlers.parseComplete=s.handlers.parseComplete||[],function(){var t=function(t){for(var e=t.childNodes,i=[],n=0,s=e.length;n<s;n++)void 0===e[n].data&&i.push(e[n]);return i}(s.list),e=s.valueNames;s.indexAsync?r(t,e):n(t,e)}}},{"./item":4}],6:[function(t,e,i){e.exports=function(i){var n,s,o,e,r={resetList:function(){i.i=1,i.templater.clear(),e=void 0},setOptions:function(t){2==t.length&&t[1]instanceof Array?s=t[1]:2==t.length&&"function"==typeof t[1]?e=t[1]:3==t.length&&(s=t[1],e=t[2])},setColumns:function(){0!==i.items.length&&void 0===s&&(s=void 0===i.searchColumns?r.toArray(i.items[0].values()):i.searchColumns)},setSearchString:function(t){t=(t=i.utils.toString(t).toLowerCase()).replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),o=t},toArray:function(t){var e=[];for(var i in t)e.push(i);return e}},a={list:function(){for(var t=0,e=i.items.length;t<e;t++)a.item(i.items[t])},item:function(t){t.found=!1;for(var e=0,i=s.length;e<i;e++)if(a.values(t.values(),s[e]))return void(t.found=!0)},values:function(t,e){return!!(t.hasOwnProperty(e)&&(n=i.utils.toString(t[e]).toLowerCase(),""!==o&&-1<n.search(o)))},reset:function(){i.reset.search(),i.searched=!1}},l=function(t){return i.trigger("searchStart"),r.resetList(),r.setSearchString(t),r.setOptions(arguments),r.setColumns(),""===o?a.reset():(i.searched=!0,e?e(o,s):a.list()),i.update(),i.trigger("searchComplete"),i.visibleItems};return i.handlers.searchStart=i.handlers.searchStart||[],i.handlers.searchComplete=i.handlers.searchComplete||[],i.utils.events.bind(i.utils.getByClass(i.listContainer,i.searchClass),"keyup",function(t){var e=t.target||t.srcElement;""===e.value&&!i.searched||l(e.value)}),i.utils.events.bind(i.utils.getByClass(i.listContainer,i.searchClass),"input",function(t){""===(t.target||t.srcElement).value&&l("")}),l}},{}],7:[function(t,e,i){e.exports=function(o){o.sortFunction=o.sortFunction||function(t,e,i){return i.desc="desc"==i.order,o.utils.naturalSort(t.values()[i.valueName],e.values()[i.valueName],i)};var r={els:void 0,clear:function(){for(var t=0,e=r.els.length;t<e;t++)o.utils.classes(r.els[t]).remove("asc"),o.utils.classes(r.els[t]).remove("desc")},getOrder:function(t){var e=o.utils.getAttribute(t,"data-order");return"asc"==e||"desc"==e?e:o.utils.classes(t).has("desc")?"asc":o.utils.classes(t).has("asc")?"desc":"asc"},getInSensitive:function(t,e){var i=o.utils.getAttribute(t,"data-insensitive");e.insensitive="false"!==i},setOrder:function(t){for(var e=0,i=r.els.length;e<i;e++){var n=r.els[e];if(o.utils.getAttribute(n,"data-sort")===t.valueName){var s=o.utils.getAttribute(n,"data-order");"asc"==s||"desc"==s?s==t.order&&o.utils.classes(n).add(t.order):o.utils.classes(n).add(t.order)}}}},t=function(){o.trigger("sortStart");var n={},t=arguments[0].currentTarget||arguments[0].srcElement||void 0;t?(n.valueName=o.utils.getAttribute(t,"data-sort"),r.getInSensitive(t,n),n.order=r.getOrder(t)):((n=arguments[1]||n).valueName=arguments[0],n.order=n.order||"asc",n.insensitive=void 0===n.insensitive||n.insensitive),r.clear(),r.setOrder(n),n.sortFunction=n.sortFunction||o.sortFunction,o.items.sort(function(t,e){var i="desc"===n.order?-1:1;return n.sortFunction(t,e,n)*i}),o.update(),o.trigger("sortComplete")};return o.handlers.sortStart=o.handlers.sortStart||[],o.handlers.sortComplete=o.handlers.sortComplete||[],r.els=o.utils.getByClass(o.listContainer,o.sortClass),o.utils.events.bind(r.els,"click",t),o.on("searchStart",r.clear),o.on("filterStart",r.clear),t}},{}],8:[function(t,e,i){var n=function(l){var i,h=this;this.clearSourceItem=function(t,e){for(var i=0,n=e.length;i<n;i++){var s;if(e[i].data)for(var o=0,r=e[i].data.length;o<r;o++)t.setAttribute("data-"+e[i].data[o],"");else e[i].attr&&e[i].name?(s=l.utils.getByClass(t,e[i].name,!0))&&s.setAttribute(e[i].attr,""):(s=l.utils.getByClass(t,e[i],!0))&&(s.innerHTML="");s=void 0}return t},this.getItemSource=function(t){if(void 0===t){for(var e=l.list.childNodes,i=0,n=e.length;i<n;i++)if(void 0===e[i].data)return e[i].cloneNode(!0)}else{if(/^tr[\s>]/.exec(t)){var s=document.createElement("table");return s.innerHTML=t,s.firstChild}if(-1!==t.indexOf("<")){var o=document.createElement("div");return o.innerHTML=t,o.firstChild}var r=document.getElementById(l.item);if(r)return r}throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.")},this.get=function(t,e){h.create(t);for(var i={},n=0,s=e.length;n<s;n++){var o;if(e[n].data)for(var r=0,a=e[n].data.length;r<a;r++)i[e[n].data[r]]=l.utils.getAttribute(t.elm,"data-"+e[n].data[r]);else e[n].attr&&e[n].name?(o=l.utils.getByClass(t.elm,e[n].name,!0),i[e[n].name]=o?l.utils.getAttribute(o,e[n].attr):""):(o=l.utils.getByClass(t.elm,e[n],!0),i[e[n]]=o?o.innerHTML:"");o=void 0}return i},this.set=function(s,t){var e=function(t,e){var i,n=function(t){for(var e=0,i=l.valueNames.length;e<i;e++)if(l.valueNames[e].data){for(var n=l.valueNames[e].data,s=0,o=n.length;s<o;s++)if(n[s]===t)return{data:t}}else{if(l.valueNames[e].attr&&l.valueNames[e].name&&l.valueNames[e].name==t)return l.valueNames[e];if(l.valueNames[e]===t)return t}}(t);n&&(n.data?s.elm.setAttribute("data-"+n.data,e):n.attr&&n.name?(i=l.utils.getByClass(s.elm,n.name,!0))&&i.setAttribute(n.attr,e):(i=l.utils.getByClass(s.elm,n,!0))&&(i.innerHTML=e),i=void 0)};if(!h.create(s))for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])},this.create=function(t){if(void 0!==t.elm)return!1;var e=i.cloneNode(!0);return e.removeAttribute("id"),t.elm=e,h.set(t,t.values()),!0},this.remove=function(t){t.elm.parentNode===l.list&&l.list.removeChild(t.elm)},this.show=function(t){h.create(t),l.list.appendChild(t.elm)},this.hide=function(t){void 0!==t.elm&&t.elm.parentNode===l.list&&l.list.removeChild(t.elm)},this.clear=function(){if(l.list.hasChildNodes())for(;1<=l.list.childNodes.length;)l.list.removeChild(l.list.firstChild)},i=h.getItemSource(l.item),i=h.clearSourceItem(i,l.valueNames)};e.exports=function(t){return new n(t)}},{}],9:[function(t,e,i){function n(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var s=t("./index-of"),o=/\s+/,r=Object.prototype.toString;e.exports=function(t){return new n(t)},n.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~s(e,t)||e.push(t),this.el.className=e.join(" "),this},n.prototype.remove=function(t){if("[object RegExp]"==r.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),i=s(e,t);return~i&&e.splice(i,1),this.el.className=e.join(" "),this},n.prototype.removeMatching=function(t){for(var e=this.array(),i=0;i<e.length;i++)t.test(e[i])&&this.remove(e[i]);return this},n.prototype.toggle=function(t,e){return this.list?void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t):void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this},n.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===t[0]&&t.shift(),t},n.prototype.has=n.prototype.contains=function(t){return this.list?this.list.contains(t):!!~s(this.array(),t)}},{"./index-of":14}],10:[function(t,e,i){var o=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",a="addEventListener"!==o?"on":"",l=t("./to-array");i.bind=function(t,e,i,n){t=l(t);for(var s=0;s<t.length;s++)t[s][o](a+e,i,n||!1)},i.unbind=function(t,e,i,n){t=l(t);for(var s=0;s<t.length;s++)t[s][r](a+e,i,n||!1)}},{"./to-array":16}],11:[function(t,e,i){e.exports=function(t){for(var e,i=Array.prototype.slice.call(arguments,1),n=0;e=i[n];n++)if(e)for(var s in e)t[s]=e[s];return t}},{}],12:[function(t,e,i){e.exports=function(t,e){var i=t.getAttribute&&t.getAttribute(e)||null;if(!i)for(var n=t.attributes.length,s=0;s<n;s++)void 0!==e[s]&&e[s].nodeName===e&&(i=e[s].nodeValue);return i}},{}],13:[function(t,e,i){e.exports=document.getElementsByClassName?function(t,e,i){return i?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:document.querySelector?function(t,e,i){return e="."+e,i?t.querySelector(e):t.querySelectorAll(e)}:function(t,e,i){var n=[];null===t&&(t=document);for(var s=t.getElementsByTagName("*"),o=s.length,r=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0,l=0;a<o;a++)if(r.test(s[a].className)){if(i)return s[a];n[l]=s[a],l++}return n}},{}],14:[function(t,e,i){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},{}],15:[function(t,e,i){e.exports=function(t,e,i){var n,s,o=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,r=/^\s+|\s+$/g,a=/\s+/g,l=/^0x[0-9a-f]+$/i,h=/^0/,c=i||{},d=function(t){return c.insensitive&&(""+t).toLowerCase()||""+t},u=d(t)||"",p=d(e)||"",f=u.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(u.match(l),16)||1!==f.length&&Date.parse(u),y=parseInt(p.match(l),16)||m&&p.match(/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/)&&Date.parse(p)||null,v=function(t,e){return(!t.match(h)||1==e)&&parseFloat(t)||t.replace(a," ").replace(r,"")||0};if(y){if(m<y)return-1;if(y<m)return 1}for(var _=0,b=f.length,x=g.length,w=Math.max(b,x);_<w;_++){if(n=v(f[_],b),s=v(g[_],x),isNaN(n)!==isNaN(s))return isNaN(n)?1:-1;if(typeof n!=typeof s&&(n+="",s+=""),n<s)return-1;if(s<n)return 1}return 0}},{}],16:[function(t,e,i){e.exports=function(t){if(void 0===t)return[];if(null===t)return[null];if(t===window)return[window];if("string"==typeof t)return[t];if(e=t,"[object Array]"===Object.prototype.toString.call(e))return t;var e;if("number"!=typeof t.length)return[t];if("function"==typeof t&&t instanceof Function)return[t];for(var i=[],n=0;n<t.length;n++)(Object.prototype.hasOwnProperty.call(t,n)||n in t)&&i.push(t[n]);return i.length?i:[]}},{}],17:[function(t,e,i){e.exports=function(t){return(t=null===(t=void 0===t?"":t)?"":t).toString()}},{}]},{},[1]);var App=function(){var h=!1,e="",c=function(){jQuery.browser.msie&&8==jQuery.browser.version.substr(0,1)&&(h=!0,$(".visible-ie8").show()),jQuery.browser.msie&&9==jQuery.browser.version.substr(0,1)&&!0,!!navigator.userAgent.match(/MSIE 10/)&&jQuery("html").addClass("ie10");var t=function(){App.isPage("index")&&(d(),jQuery(".vmaps").each(function(){var t=jQuery(this);t.width(t.parent().width())})),App.isPage("charts")&&f(),App.isPage("maps_vector")&&jQuery(".vmaps").each(function(){var t=jQuery(this);t.width(t.parent().width())}),App.isPage("calendar")&&u(),$(window).width()<900&&($.cookie("sidebar-closed",null),$(".page-container").removeClass("sidebar-closed")),$(window).width()<=1280&&($(".responsive").each(function(){var t=$(this).attr("data-tablet"),e=$(this).attr("data-desktop");t&&($(this).removeClass(e),$(this).addClass(t))}),y()),1280<$(window).width()&&($(".responsive").each(function(){var t=$(this).attr("data-tablet"),e=$(this).attr("data-desktop");t&&($(this).removeClass(t),$(this).addClass(e))}),y())};$(window).setBreakpoints({breakpoints:[320,480,768,900,1024,1280]}),$(window).bind("exitBreakpoint320",function(){t()}),$(window).bind("enterBreakpoint320",function(){t()}),$(window).bind("exitBreakpoint480",function(){t()}),$(window).bind("enterBreakpoint480",function(){t()}),$(window).bind("exitBreakpoint768",function(){t()}),$(window).bind("enterBreakpoint768",function(){t()}),$(window).bind("exitBreakpoint900",function(){t()}),$(window).bind("enterBreakpoint900",function(){t()}),$(window).bind("exitBreakpoint1024",function(){t()}),$(window).bind("enterBreakpoint1024",function(){t()}),$(window).bind("exitBreakpoint1280",function(){t()}),$(window).bind("enterBreakpoint1280",function(){t()})},d=function(){if(jQuery().fullCalendar){var t=new Date,e=t.getDate(),i=t.getMonth(),n=t.getFullYear(),s={};s=$("#calendar").width()<=500?($("#calendar").addClass("mobile"),{left:"title, prev, next",center:"",right:"today,month,agendaWeek,agendaDay"}):($("#calendar").removeClass("mobile"),{left:"title",center:"",right:"prev,next,today,month,agendaWeek,agendaDay"}),$("#calendar").html(""),$("#calendar").fullCalendar({disableDragging:!0,header:s,editable:!0,events:[{title:"All Day Event",start:new Date(n,i,1)},{title:"Long Event",start:new Date(n,i,e-5),end:new Date(n,i,e-2)},{title:"Repeating Event",start:new Date(n,i,e-3,16,0),allDay:!1},{title:"Repeating Event",start:new Date(n,i,e+4,16,0),allDay:!1},{title:"Meeting",start:new Date(n,i,e,10,30),allDay:!1},{title:"Lunch",start:new Date(n,i,e,12,0),end:new Date(n,i,e,14,0),allDay:!1},{title:"Birthday Party",start:new Date(n,i,e+1,19,0),end:new Date(n,i,e+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(n,i,28),end:new Date(n,i,29),url:"http://google.com/"}]})}},u=function(){if(jQuery().fullCalendar){var t=new Date,e=t.getDate(),i=t.getMonth(),n=t.getFullYear(),s={};s=$("#calendar").parents(".portlet").width()<=720?($("#calendar").addClass("mobile"),{left:"title, prev,next",center:"",right:"today,month,agendaWeek,agendaDay"}):($("#calendar").removeClass("mobile"),{left:"title",center:"",right:"prev,next,today,month,agendaWeek,agendaDay"});var o=function(t){var e={title:$.trim(t.text())};t.data("eventObject",e),t.draggable({zIndex:999,revert:!0,revertDuration:0})},r=function(t){t=0==t.length?"Untitled Event":t;var e=$('<div class="external-event label">'+t+"</div>");jQuery("#event_box").append(e),o(e)};$("#external-events div.external-event").each(function(){o($(this))}),$("#event_add").unbind("click").click(function(){var t=$("#event_title").val();r(t)}),$("#event_box").html(""),r("My Event 1"),r("My Event 2"),r("My Event 3"),r("My Event 4"),r("My Event 5"),r("My Event 6"),$("#calendar").html(""),$("#calendar").fullCalendar({header:s,editable:!0,droppable:!0,drop:function(t,e){var i=$(this).data("eventObject"),n=$.extend({},i);n.start=t,n.allDay=e,n.className=$(this).attr("data-class"),$("#calendar").fullCalendar("renderEvent",n,!0),$("#drop-remove").is(":checked")&&$(this).remove()},events:[{title:"All Day Event",start:new Date(n,i,1)},{title:"Long Event",start:new Date(n,i,e-5),end:new Date(n,i,e-2)},{id:999,title:"Repeating Event",start:new Date(n,i,e-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(n,i,e+4,16,0),allDay:!1},{title:"Meeting",start:new Date(n,i,e,10,30),allDay:!1},{title:"Lunch",start:new Date(n,i,e,12,0),end:new Date(n,i,e,14,0),allDay:!1},{title:"Birthday Party",start:new Date(n,i,e+1,19,0),end:new Date(n,i,e+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(n,i,28),end:new Date(n,i,29),url:"http://google.com/"}]})}},p=function(){if(jQuery.plot){var e,i,n=[],s=250;!function(){for(var t=[],e=0;e<2*Math.PI;e+=.25)t.push([e,Math.sin(e)]);var i=[];for(e=0;e<2*Math.PI;e+=.25)i.push([e,Math.cos(e)]);var n=[];for(e=0;e<2*Math.PI;e+=.1)n.push([e,Math.tan(e)]);$.plot($("#chart_1"),[{label:"sin(x)",data:t},{label:"cos(x)",data:i},{label:"tan(x)",data:n}],{series:{lines:{show:!0},points:{show:!0}},xaxis:{ticks:[0,[Math.PI/2,"/2"],[Math.PI,""],[3*Math.PI/2,"3/2"],[2*Math.PI,"2"]]},yaxis:{ticks:10,min:-2,max:2},grid:{backgroundColor:{colors:["#fff","#eee"]}}})}(),function(){function t(){return Math.floor(21*Math.random())+20}var e=[[1,t()],[2,t()],[3,2+t()],[4,3+t()],[5,5+t()],[6,10+t()],[7,15+t()],[8,20+t()],[9,25+t()],[10,30+t()],[11,35+t()],[12,25+t()],[13,15+t()],[14,20+t()],[15,45+t()],[16,50+t()],[17,65+t()],[18,70+t()],[19,85+t()],[20,80+t()],[21,75+t()],[22,80+t()],[23,75+t()],[24,70+t()],[25,65+t()],[26,75+t()],[27,80+t()],[28,85+t()],[29,90+t()],[30,95+t()]],i=[[1,t()-5],[2,t()-5],[3,t()-5],[4,6+t()],[5,5+t()],[6,20+t()],[7,25+t()],[8,36+t()],[9,26+t()],[10,38+t()],[11,39+t()],[12,50+t()],[13,51+t()],[14,12+t()],[15,13+t()],[16,14+t()],[17,15+t()],[18,15+t()],[19,16+t()],[20,17+t()],[21,18+t()],[22,19+t()],[23,20+t()],[24,21+t()],[25,14+t()],[26,24+t()],[27,25+t()],[28,26+t()],[29,27+t()],[30,31+t()]];$.plot($("#chart_2"),[{data:e,label:"Unique Visits"},{data:i,label:"Page Views"}],{series:{lines:{show:!0,lineWidth:2,fill:!0,fillColor:{colors:[{opacity:.05},{opacity:.01}]}},points:{show:!0},shadowSize:2},grid:{hoverable:!0,clickable:!0,tickColor:"#eee",borderWidth:0},colors:["#d12610","#37b7f3","#52e136"],xaxis:{ticks:11,tickDecimals:0},yaxis:{ticks:11,tickDecimals:0}});var l=null;$("#chart_2").bind("plothover",function(t,e,i){if($("#x").text(e.x.toFixed(2)),$("#y").text(e.y.toFixed(2)),i){if(l!=i.dataIndex){l=i.dataIndex,$("#tooltip").remove();var n=i.datapoint[0].toFixed(2),s=i.datapoint[1].toFixed(2);o=i.pageX,r=i.pageY,a=i.series.label+" of "+n+" = "+s,$('<div id="tooltip">'+a+"</div>").css({position:"absolute",display:"none",top:r+5,left:o+15,border:"1px solid #333",padding:"4px",color:"#fff","border-radius":"3px","background-color":"#333",opacity:.8}).appendTo("body").fadeIn(200)}}else $("#tooltip").remove(),l=null;var o,r,a})}(),function(){for(var t=[],e=[],i=0;i<14;i+=.1)t.push([i,Math.sin(i)]),e.push([i,Math.cos(i)]);plot=$.plot($("#chart_3"),[{data:t,label:"sin(x) = -0.00"},{data:e,label:"cos(x) = -0.00"}],{series:{lines:{show:!0}},crosshair:{mode:"x"},grid:{hoverable:!0,autoHighlight:!1},yaxis:{min:-1.2,max:1.2}});var h=$("#chart_3 .legendLabel");h.each(function(){$(this).css("width",$(this).width())});var c=null,d=null;function n(){c=null;var t=d,e=plot.getAxes();if(!(t.x<e.xaxis.min||t.x>e.xaxis.max||t.y<e.yaxis.min||t.y>e.yaxis.max)){var i,n,s=plot.getData();for(i=0;i<s.length;++i){var o=s[i];for(n=0;n<o.data.length&&!(o.data[n][0]>t.x);++n);var r,a=o.data[n-1],l=o.data[n];r=null==a?l[1]:null==l?a[1]:a[1]+(l[1]-a[1])*(t.x-a[0])/(l[0]-a[0]),h.eq(i).text(o.label.replace(/=.*/,"= "+r.toFixed(2)))}}}$("#chart_3").bind("plothover",function(t,e,i){d=e,c||(c=setTimeout(n,50))})}(),e=30,i=$.plot($("#chart_4"),[o()],{series:{shadowSize:1},lines:{show:!0,lineWidth:.5,fill:!0,fillColor:{colors:[{opacity:.1},{opacity:1}]}},yaxis:{min:0,max:100,tickFormatter:function(t){return t+"%"}},xaxis:{show:!1},colors:["#6ef146"],grid:{tickColor:"#a8a3a3",borderWidth:0}}),function t(){i.setData([o()]),i.draw(),setTimeout(t,e)}(),function(){for(var t=[],e=0;e<=10;e+=1)t.push([e,parseInt(30*Math.random())]);var i=[];for(e=0;e<=10;e+=1)i.push([e,parseInt(30*Math.random())]);var n=[];for(e=0;e<=10;e+=1)n.push([e,parseInt(30*Math.random())]);var s=0,o=!0,r=!1,a=!1;function l(){$.plot($("#chart_5"),[t,i,n],{series:{stack:s,lines:{show:r,fill:!0,steps:a},bars:{show:o,barWidth:.6}}})}$(".stackControls input").click(function(t){t.preventDefault(),s="With stacking"==$(this).val()||null,l()}),$(".graphControls input").click(function(t){t.preventDefault(),o=-1!=$(this).val().indexOf("Bars"),r=-1!=$(this).val().indexOf("Lines"),a=-1!=$(this).val().indexOf("steps"),l()}),l()}()}function o(){for(0<n.length&&(n=n.slice(1));n.length<s;){var t=(0<n.length?n[n.length-1]:50)+10*Math.random()-5;t<0&&(t=0),100<t&&(t=100),n.push(t)}for(var e=[],i=0;i<n.length;++i)e.push([i,n[i]]);return e}},f=function(){for(var t=[],e=Math.floor(10*Math.random())+2,i=0;i<e;i++)t[i]={label:"Series"+(i+1),data:Math.floor(100*(Math.random()-1))+1};$.plot($("#graph_1"),t,{series:{pie:{show:!0,radius:1,label:{show:!0,radius:1,formatter:function(t,e){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+t+"<br/>"+Math.round(e.percent)+"%</div>"},background:{opacity:.8}}}},legend:{show:!1}}),$.plot($("#graph_2"),t,{series:{pie:{show:!0,radius:1,label:{show:!0,radius:.75,formatter:function(t,e){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+t+"<br/>"+Math.round(e.percent)+"%</div>"},background:{opacity:.5}}}},legend:{show:!1}}),$.plot($("#graph_3"),t,{series:{pie:{show:!0}},grid:{hoverable:!0,clickable:!0}}),$("#graph_3").bind("plothover",function(t,e,i){if(!i)return;percent=parseFloat(i.series.percent).toFixed(2),$("#hover").html('<span style="font-weight: bold; color: '+i.series.color+'">'+i.series.label+" ("+percent+"%)</span>")}),$("#graph_3").bind("plotclick",function(t,e,i){if(!i)return;percent=parseFloat(i.series.percent).toFixed(2),alert(i.series.label+": "+percent+"%")}),$.plot($("#graph_4"),t,{series:{pie:{innerRadius:.5,show:!0}}})},g=function(){jQuery.fancybox&&0<jQuery(".fancybox-button").size()&&jQuery(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},m=function(){jQuery.browser.msie&&jQuery.browser.version.substr(0,1)<=9&&jQuery("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var t=jQuery(this);jQuery(t).addClass("placeholder").val(t.attr("placeholder")),jQuery(t).focus(function(){t.val()==t.attr("placeholder")&&t.val("")}),jQuery(t).blur(function(){""!=t.val()&&t.val()!=t.attr("placeholder")||t.val(t.attr("placeholder"))})})},y=function(){App.isTouchDevice()?jQuery(".tooltips:not(.no-tooltip-on-touch-device)").tooltip():jQuery(".tooltips").tooltip()},v=function(){if(jQuery().uniform){var t=$("input[type=checkbox]:not(.toggle), input[type=radio]:not(.toggle, .star)");t&&t.uniform()}},_=function(){function o(t,e){for(var i=t.fnGetData(e),n=0,s=$(">td",e).length;n<s;n++)t.fnUpdate(i[n],e,n,!1);t.fnDraw()}function r(t,e){var i=t.fnGetData(e),n=$(">td",e);n[0].innerHTML='<input type="text" class="m-wrap small" value="'+i[0]+'">',n[1].innerHTML='<input type="text" class="m-wrap small" value="'+i[1]+'">',n[2].innerHTML='<input type="text" class="m-wrap small" value="'+i[2]+'">',n[3].innerHTML='<input type="text" class="m-wrap small" value="'+i[3]+'">',n[4].innerHTML='<a class="edit" href="">Save</a>',n[5].innerHTML='<a class="cancel" href="">Cancel</a>'}var a=$("#sample_editable_1").dataTable();jQuery("#sample_editable_1_wrapper .dataTables_filter input").addClass("m-wrap medium"),jQuery("#sample_editable_1_wrapper .dataTables_length select").addClass("m-wrap xsmall");var l=null;$("#sample_editable_1_new").click(function(t){t.preventDefault();var e=a.fnAddData(["","","","",'<a class="edit" href="">Edit</a>','<a class="cancel" data-mode="new" href="">Cancel</a>']),i=a.fnGetNodes(e[0]);r(a,i),l=i}),$("#sample_editable_1 a.delete").live("click",function(t){if(t.preventDefault(),0!=confirm("Are you sure to delete this row ?")){var e=$(this).parents("tr")[0];a.fnDeleteRow(e),alert("Deleted! Do not forget to do some ajax to sync with backend :)")}}),$("#sample_editable_1 a.cancel").live("click",function(t){if(t.preventDefault(),"new"==$(this).attr("data-mode")){var e=$(this).parents("tr")[0];a.fnDeleteRow(e)}else o(a,l),l=null}),$("#sample_editable_1 a.edit").live("click",function(t){t.preventDefault();var e,i,n,s=$(this).parents("tr")[0];null!==l&&l!=s?(o(a,l),r(a,s),l=s):l==s&&"Save"==this.innerHTML?(e=a,i=l,n=$("input",i),e.fnUpdate(n[0].value,i,0,!1),e.fnUpdate(n[1].value,i,1,!1),e.fnUpdate(n[2].value,i,2,!1),e.fnUpdate(n[3].value,i,3,!1),e.fnUpdate('<a class="edit" href="">Edit</a>',i,4,!1),e.fnUpdate('<a class="delete" href="">Delete</a>',i,5,!1),e.fnDraw(),l=null,alert("Updated! Do not forget to do some ajax to sync with backend :)")):(r(a,s),l=s)})};return{init:function(){var i,n,t,s,e,o,r,a,l;c(),v(),App.isPage("index")&&(!function(){if(jQuery.plot){var n=[],s=250,t=[[1,c()],[2,c()],[3,2+c()],[4,3+c()],[5,5+c()],[6,10+c()],[7,15+c()],[8,20+c()],[9,25+c()],[10,30+c()],[11,35+c()],[12,25+c()],[13,15+c()],[14,20+c()],[15,45+c()],[16,50+c()],[17,65+c()],[18,70+c()],[19,85+c()],[20,80+c()],[21,75+c()],[22,80+c()],[23,75+c()],[24,70+c()],[25,65+c()],[26,75+c()],[27,80+c()],[28,85+c()],[29,90+c()],[30,95+c()]],e=[[1,c()-5],[2,c()-5],[3,c()-5],[4,6+c()],[5,5+c()],[6,20+c()],[7,25+c()],[8,36+c()],[9,26+c()],[10,38+c()],[11,39+c()],[12,50+c()],[13,51+c()],[14,12+c()],[15,13+c()],[16,14+c()],[17,15+c()],[18,15+c()],[19,16+c()],[20,17+c()],[21,18+c()],[22,19+c()],[23,20+c()],[24,21+c()],[25,14+c()],[26,24+c()],[27,25+c()],[28,26+c()],[29,27+c()],[30,31+c()]];$("#site_statistics_loading").hide(),$("#site_statistics_content").show();var i=$.plot($("#site_statistics"),[{data:t,label:"Unique Visits"},{data:e,label:"Page Views"}],{series:{lines:{show:!0,lineWidth:2,fill:!0,fillColor:{colors:[{opacity:.05},{opacity:.01}]}},points:{show:!0},shadowSize:2},grid:{hoverable:!0,clickable:!0,tickColor:"#eee",borderWidth:0},colors:["#d12610","#37b7f3","#52e136"],xaxis:{ticks:11,tickDecimals:0},yaxis:{ticks:11,tickDecimals:0}}),o=null;$("#site_statistics").bind("plothover",function(t,e,i){$("#x").text(e.x.toFixed(2)),$("#y").text(e.y.toFixed(2)),i?o!=i.dataIndex&&(o=i.dataIndex,$("#tooltip").remove(),i.datapoint[0].toFixed(2),i.datapoint[1].toFixed(2),h("24 Jan 2013",i.pageX,i.pageY,i.series.label)):($("#tooltip").remove(),o=null)}),$("#load_statistics_loading").hide(),$("#load_statistics_content").show();var r=30;i=$.plot($("#load_statistics"),[l()],{series:{shadowSize:1},lines:{show:!0,lineWidth:.2,fill:!0,fillColor:{colors:[{opacity:.1},{opacity:1}]}},yaxis:{min:0,max:100,tickFormatter:function(t){return t+"%"}},xaxis:{show:!1},colors:["#e14e3d"],grid:{tickColor:"#a8a3a3",borderWidth:0}}),function t(){i.setData([l()]),i.draw(),setTimeout(t,r)}();var a=null;$("#site_activities_loading").hide(),$("#site_activities_content").show(),$.plot($("#site_activities"),[{data:[[1,10],[2,9],[3,8],[4,6],[5,5],[6,3],[7,9],[8,10],[9,12],[10,14],[11,15],[12,13],[13,11],[14,10],[15,9],[16,8],[17,12],[18,14],[19,16],[20,19],[21,20],[22,20],[23,19],[24,17],[25,15],[25,14],[26,12],[27,10],[28,8],[29,10],[30,12],[31,10],[32,9],[33,8],[34,6],[35,5],[36,3],[37,9],[38,10],[39,12],[40,14],[41,15],[42,13],[43,11],[44,10],[45,9],[46,8],[47,12],[48,14],[49,16],[50,12],[51,10]],color:"rgba(107,207,123, 0.9)",shadowSize:0,bars:{show:!0,lineWidth:0,fill:!0,fillColor:{colors:[{opacity:1},{opacity:1}]}}}],{series:{bars:{show:!0,barWidth:.9}},grid:{show:!1,hoverable:!0,clickable:!1,autoHighlight:!0,borderWidth:0},yaxis:{min:0,max:20}}),$("#site_activities").bind("plothover",function(t,e,i){$("#x").text(e.x.toFixed(2)),$("#y").text(e.y.toFixed(2)),i&&a!=i.dataIndex&&(a=i.dataIndex,$("#tooltip").remove(),i.datapoint[0].toFixed(2),i.datapoint[1].toFixed(2),h("24 Feb 2013",i.pageX,i.pageY))}),$("#site_activities, #load_statistics").bind("mouseleave",function(){$("#tooltip").remove()})}function l(){for(0<n.length&&(n=n.slice(1));n.length<s;){var t=(0<n.length?n[n.length-1]:50)+10*Math.random()-5;t<0&&(t=0),100<t&&(t=100),n.push(t)}for(var e=[],i=0;i<n.length;++i)e.push([i,n[i]]);return e}function h(t,e,i,n){$('<div id="tooltip" class="chart-tooltip"><div class="date">'+t+'</div><div class="label label-success">CTR: '+e/10+'%</div><div class="label label-important">Imp: '+12*e+"</div></div>").css({position:"absolute",display:"none",top:i-100,width:75,left:e-40,border:"0px solid #ccc",padding:"2px 6px","background-color":"#fff"}).appendTo("body").fadeIn(200)}function c(){return Math.floor(31*Math.random())+10}}(),d(),i=$("#chats"),n=$(".chats",i),t=$(".chat-form",i),s=$("input",t),e=$(".btn",t),o=function(){var t=s.val();if(0!=t.length){var e="";e+='<li class="out">',e+='<img class="avatar" alt="" src="assets/img/avatar1.jpg"/>',e+='<div class="message">',e+='<span class="arrow"></span>',e+='<a href="#" class="name">Bob Nilson</a>&nbsp;',e+='<span class="datetime">at '+(new Date).toString("MMM dd, yyyy HH:MM")+"</span>",e+='<span class="body">',e+=t,e+="</span>",e+="</div>",e+="</li>",n.append(e),s.val(""),$(".scroller",i).slimScroll({scrollTo:n.height()})}},e.click(o),s.keypress(function(t){if(13==t.which)return o(),!1})),App.isPage("grids")&&jQuery().sortable&&($("#sortable_portlets").sortable({connectWith:".portlet",items:".portlet",opacity:.8,coneHelperSize:!0,placeholder:"sortable-box-placeholder round-all",forcePlaceholderSize:!0,tolerance:"pointer"}),$(".column").disableSelection()),App.isPage("calendar")&&u(),App.isPage("maps_vector")&&handleAllJQVMAP(),App.isPage("charts")&&(p(),f()),App.isPage("sliders")&&($(".slider-basic").slider(),$("#slider-snap-inc").slider({value:100,min:0,max:1e3,step:100,slide:function(t,e){$("#slider-snap-inc-amount").text("$"+e.value)}}),$("#slider-snap-inc-amount").text("$"+$("#slider-snap-inc").slider("value")),$("#slider-range").slider({range:!0,min:0,max:500,values:[75,300],slide:function(t,e){$("#slider-range-amount").text("$"+e.values[0]+" - $"+e.values[1])}}),$("#slider-range-amount").text("$"+$("#slider-range").slider("values",0)+" - $"+$("#slider-range").slider("values",1)),$("#slider-range-max").slider({range:"max",min:1,max:10,value:2,slide:function(t,e){$("#slider-range-max-amount").text(e.value)}}),$("#slider-range-max-amount").text($("#slider-range-max").slider("value")),$("#slider-range-min").slider({range:"min",value:37,min:1,max:700,slide:function(t,e){$("#slider-range-min-amount").text("$"+e.value)}}),$("#slider-range-min-amount").text("$"+$("#slider-range-min").slider("value")),$("#slider-eq > span").each(function(){var t=parseInt($(this).text(),10);$(this).empty().slider({value:t,range:"min",animate:!0,orientation:"vertical"})}),$("#slider-vertical").slider({orientation:"vertical",range:"min",min:0,max:100,value:60,slide:function(t,e){$("#slider-vertical-amount").text(e.value)}}),$("#slider-vertical-amount").text($("#slider-vertical").slider("value")),$("#slider-range-vertical").slider({orientation:"vertical",range:!0,values:[17,67],slide:function(t,e){$("#slider-range-vertical-amount").text("$"+e.values[0]+" - $"+e.values[1])}}),$("#slider-range-vertical-amount").text("$"+$("#slider-range-vertical").slider("values",0)+" - $"+$("#slider-range-vertical").slider("values",1)),jQuery().knob&&!h&&($(".knob").knob({dynamicDraw:!0,thickness:.2,tickColorizeValues:!0,skin:"tron"}),0<$(".knobify").size()&&$(".knobify").knob({readOnly:!0,skin:"tron",width:100,height:100,dynamicDraw:!0,thickness:.2,tickColorizeValues:!0,skin:"tron",draw:function(){if("tron"==this.$.data("skin")){var t,e=this.angle(this.cv),i=this.startAngle,n=this.startAngle,s=n+e;return this.g.lineWidth=this.lineWidth,this.o.cursor&&(n=s-.3)&&(s+=.3),this.o.displayPrevious&&(t=this.startAngle+this.angle(this.v),this.o.cursor&&(i=t-.3)&&(t+=.3),this.g.beginPath(),this.g.strokeStyle=this.pColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,i,t,!1),this.g.stroke()),this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth,n,s,!1),this.g.stroke(),this.g.lineWidth=2,this.g.beginPath(),this.g.strokeStyle=this.o.fgColor,this.g.arc(this.xy,this.xy,this.radius-this.lineWidth+1+2*this.lineWidth/3,0,2*Math.PI,!1),this.g.stroke(),!1}}}))),App.isPage("table_editable")&&_(),App.isPage("table_managed")&&jQuery().dataTable&&($("#sample_1").dataTable({aLengthMenu:[[10,25,50,-1],[5,15,20,"All"]],iDisplayLength:5,sDom:"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ records per page",oPaginate:{sPrevious:"Prev",sNext:"Next"}},aoColumnDefs:[{bSortable:!1,aTargets:[0]}]}),jQuery("#sample_1 .group-checkable").change(function(){var t=jQuery(this).attr("data-set"),e=jQuery(this).is(":checked");jQuery(t).each(function(){e?$(this).attr("checked",!0):$(this).attr("checked",!1)}),jQuery.uniform.update(t)}),jQuery("#sample_1_wrapper .dataTables_filter input").addClass("m-wrap medium"),jQuery("#sample_1_wrapper .dataTables_length select").addClass("m-wrap xsmall"),$("#sample_2").dataTable({sDom:"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ per page",oPaginate:{sPrevious:"Prev",sNext:"Next"}},aoColumnDefs:[{bSortable:!1,aTargets:[0]}]}),jQuery("#sample_2 .group-checkable").change(function(){var t=jQuery(this).attr("data-set"),e=jQuery(this).is(":checked");jQuery(t).each(function(){e?$(this).attr("checked",!0):$(this).attr("checked",!1)}),jQuery.uniform.update(t)}),jQuery("#sample_2_wrapper .dataTables_filter input").addClass("m-wrap small"),jQuery("#sample_2_wrapper .dataTables_length select").addClass("m-wrap xsmall"),$("#sample_3").dataTable({sDom:"<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ per page",oPaginate:{sPrevious:"Prev",sNext:"Next"}},aoColumnDefs:[{bSortable:!1,aTargets:[0]}]}),jQuery("#sample_3 .group-checkable").change(function(){var t=jQuery(this).attr("data-set"),e=jQuery(this).is(":checked");jQuery(t).each(function(){e?$(this).attr("checked",!0):$(this).attr("checked",!1)}),jQuery.uniform.update(t)}),jQuery("#sample_3_wrapper .dataTables_filter input").addClass("m-wrap small"),jQuery("#sample_3_wrapper .dataTables_length select").addClass("m-wrap xsmall")),App.isPage("ui_nestable")&&(r=function(t){var e=t.length?t:$(t.target),i=e.data("output");window.JSON?i.val(window.JSON.stringify(e.nestable("serialize"))):i.val("JSON browser support required for this demo.")},$("#nestable_list_1").nestable({group:1}).on("change",r),$("#nestable_list_2").nestable({group:1}).on("change",r),r($("#nestable_list_1").data("output",$("#nestable_list_1_output"))),r($("#nestable_list_2").data("output",$("#nestable_list_2_output"))),$("#nestable_list_menu").on("click",function(t){var e=$(t.target).data("action");"expand-all"===e&&$(".dd").nestable("expandAll"),"collapse-all"===e&&$(".dd").nestable("collapseAll")}),$("#nestable_list_3").nestable()),App.isPage("form_validation")&&function(){var t=$("#form_sample_1"),i=$(".alert-error",t),n=$(".alert-success",t);t.validate({errorElement:"span",errorClass:"help-inline",focusInvalid:!1,ignore:"",rules:{name:{minlength:2,required:!0},email:{required:!0,email:!0},url:{required:!0,url:!0},number:{required:!0,number:!0},digits:{required:!0,digits:!0},creditcard:{required:!0,creditcard:!0},occupation:{minlength:5},category:{required:!0}},invalidHandler:function(t,e){n.hide(),i.show(),App.scrollTo(i,-200)},highlight:function(t){$(t).closest(".help-inline").removeClass("ok"),$(t).closest(".control-group").removeClass("success").addClass("error")},unhighlight:function(t){$(t).closest(".control-group").removeClass("error")},success:function(t){t.addClass("valid").addClass("help-inline ok").closest(".control-group").removeClass("error").addClass("success")},submitHandler:function(t){n.show(),i.hide()}});var e=$("#form_sample_2"),s=$(".alert-error",e),o=$(".alert-success",e);e.validate({errorElement:"span",errorClass:"help-inline",focusInvalid:!1,ignore:"",rules:{name:{minlength:2,required:!0},email:{required:!0,email:!0},category:{required:!0},education:{required:!0},occupation:{minlength:5},membership:{required:!0},service:{required:!0,minlength:2}},messages:{membership:{required:"Please select a Membership type"},service:{required:"Please select  at least 2 types of Service",minlength:jQuery.format("Please select  at least {0} types of Service")}},errorPlacement:function(t,e){"education"==e.attr("name")?t.insertAfter("#form_2_education_chzn"):"membership"==e.attr("name")?t.addClass("no-left-padding").insertAfter("#form_2_membership_error"):"service"==e.attr("name")?t.addClass("no-left-padding").insertAfter("#form_2_service_error"):t.insertAfter(e)},invalidHandler:function(t,e){o.hide(),s.show(),App.scrollTo(s,-200)},highlight:function(t){$(t).closest(".help-inline").removeClass("ok"),$(t).closest(".control-group").removeClass("success").addClass("error")},unhighlight:function(t){$(t).closest(".control-group").removeClass("error")},success:function(t){"service"==t.attr("for")||"membership"==t.attr("for")?(t.closest(".control-group").removeClass("error").addClass("success"),t.remove()):t.addClass("valid").addClass("help-inline ok").closest(".control-group").removeClass("error").addClass("success")},submitHandler:function(t){o.show(),s.hide()}}),$(".chosen, .chosen-with-diselect",e).change(function(){e.validate().element($(this))})}(),App.isPage("ui_tree")&&($("#tree_1_collapse").click(function(){$(".tree-toggle",$("#tree_1 > li > ul")).addClass("closed"),$(".branch",$("#tree_1 > li > ul")).removeClass("in")}),$("#tree_1_expand").click(function(){$(".tree-toggle",$("#tree_1 > li > ul")).removeClass("closed"),$(".branch",$("#tree_1 > li > ul")).addClass("in")}),$("#tree_2_collapse").click(function(){$(".tree-toggle",$("#tree_2 > li > ul")).addClass("closed"),$(".branch",$("#tree_2 > li > ul")).removeClass("in")}),$("#tree_2_expand").click(function(){$(".tree-toggle",$("#tree_2 > li > ul")).each(function(){$(this).click()}),$(".branch",$("#tree_2 > li > ul")).addClass("in")}),$("#tree_1").on("nodeselect.tree.data-api","[data-role=leaf]",function(t){var e="";e+="Node nodeselect event fired:\n",e+="Node Type: leaf\n",e+="Value: "+(t.node.value?t.node.value:t.node.el.text())+"\n",e+="Parentage: "+t.node.parentage.join("/"),alert(e)}),$("#tree_1").on("nodeselect.tree.data-api","[role=branch]",function(t){t.node.value?t.node.value:t.node.el.text(),t.node.parentage.join("/"),alert("Node nodeselect event fired:\n")}),$("#tree_1").on("openbranch.tree","[data-toggle=branch]",function(t){var e="Node openbranch event fired:\nNode Type: branch\nValue: "+(t.node.value?t.node.value:t.node.el.text())+"\nParentage: "+t.node.parentage.join("/")+"\n";alert(e)}),$("#tree_1").on("closebranch.tree","[data-toggle=branch]",function(t){var e="Node closebranch event fired:\nNode Type: branch\nValue: "+(t.node.value?t.node.value:t.node.el.text())+"\nParentage: "+t.node.parentage.join("/")+"\n";alert(e)})),jQuery().chosen&&($(".chosen").chosen(),$(".chosen-30").chosen({width:"30%"}),$(".chosen-with-diselect").chosen({allow_single_deselect:!0})),$(".scroller").each(function(){$(this).slimScroll({size:"7px",color:"#a1b2bd",height:$(this).attr("data-height"),alwaysVisible:"1"==$(this).attr("data-always-visible"),railVisible:"1"==$(this).attr("data-rail-visible"),disableFadeOut:!0})}),jQuery().tagsInput&&($("#tags_1").tagsInput({width:"auto",onAddTag:function(){alert(1)}}),$("#tags_2").tagsInput({width:240})),jQuery().datepicker&&$(".date-picker").datepicker({autoclose:!0}),jQuery().timepicker&&($(".timepicker-default").timepicker(),$(".timepicker-24").timepicker({minuteStep:1,showSeconds:!0,showMeridian:!1})),jQuery().daterangepicker&&($(".date-range").daterangepicker(),$("#dashboard-report-range").daterangepicker({ranges:{Today:["today","today"],Yesterday:["yesterday","yesterday"],"Last 7 Days":[Date.today().add({days:-6}),"today"],"Last 30 Days":[Date.today().add({days:-29}),"today"],"This Month":[Date.today().moveToFirstDayOfMonth(),Date.today().moveToLastDayOfMonth()],"Last Month":[Date.today().moveToFirstDayOfMonth().add({months:-1}),Date.today().moveToFirstDayOfMonth().add({days:-1})]},opens:"left",format:"MM/dd/yyyy",separator:" to ",startDate:Date.today().add({days:-29}),endDate:Date.today(),minDate:"01/01/2012",maxDate:"12/31/2014",locale:{applyLabel:"Submit",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom Range",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1},showWeekNumbers:!0,buttonClasses:["btn-danger"]},function(t,e){App.blockUI(jQuery("#dashboard")),setTimeout(function(){App.unblockUI(jQuery("#dashboard")),$.gritter.add({title:"Dashboard",text:"Dashboard date range updated."}),App.scrollTo()},1e3),$("#dashboard-report-range span").html(t.toString("MMMM d, yyyy")+" - "+e.toString("MMMM d, yyyy"))}),$("#dashboard-report-range").show(),$("#dashboard-report-range span").html(Date.today().add({days:-29}).toString("MMMM d, yyyy")+" - "+Date.today().toString("MMMM d, yyyy")),$("#form-date-range").daterangepicker({ranges:{Today:["today","today"],Yesterday:["yesterday","yesterday"],"Last 7 Days":[Date.today().add({days:-6}),"today"],"Last 30 Days":[Date.today().add({days:-29}),"today"],"This Month":[Date.today().moveToFirstDayOfMonth(),Date.today().moveToLastDayOfMonth()],"Last Month":[Date.today().moveToFirstDayOfMonth().add({months:-1}),Date.today().moveToFirstDayOfMonth().add({days:-1})]},opens:"right",format:"MM/dd/yyyy",separator:" to ",startDate:Date.today().add({days:-29}),endDate:Date.today(),minDate:"01/01/2012",maxDate:"12/31/2014",locale:{applyLabel:"Submit",fromLabel:"From",toLabel:"To",customRangeLabel:"Custom Range",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDay:1},showWeekNumbers:!0,buttonClasses:["btn-danger"]},function(t,e){$("#form-date-range span").html(t.toString("MMMM d, yyyy")+" - "+e.toString("MMMM d, yyyy"))}),$("#form-date-range span").html(Date.today().add({days:-29}).toString("MMMM d, yyyy")+" - "+Date.today().toString("MMMM d, yyyy")),jQuery().datepicker&&jQuery().timepicker),jQuery().clockface&&($("#clockface_1").clockface(),$("#clockface_2").clockface({format:"HH:mm",trigger:"manual"}),$("#clockface_2_toggle-btn").click(function(t){t.stopPropagation(),$("#clockface_2").clockface("toggle")}),$("#clockface_3").clockface({format:"H:mm"}).clockface("show","14:30")),jQuery().colorpicker&&($(".colorpicker-default").colorpicker({format:"hex"}),$(".colorpicker-rgba").colorpicker()),jQuery(".portlet .tools a.remove").click(function(){var t=jQuery(this).parents(".portlet");t.next().hasClass("portlet")||t.prev().hasClass("portlet")?jQuery(this).parents(".portlet").remove():jQuery(this).parents(".portlet").parent().remove()}),jQuery(".portlet .tools a.reload").click(function(){var t=jQuery(this).parents(".portlet");App.blockUI(t),window.setTimeout(function(){App.unblockUI(t)},1e3)}),jQuery(".portlet .tools .collapse, .portlet .tools .expand").click(function(){var t=jQuery(this).parents(".portlet").children(".portlet-body");jQuery(this).hasClass("collapse")?(jQuery(this).removeClass("collapse").addClass("expand"),t.slideUp(200)):(jQuery(this).removeClass("expand").addClass("collapse"),t.slideDown(200))}),jQuery().pulsate&&1!=h&&jQuery().pulsate&&(jQuery("#pulsate-regular").pulsate({color:"#bf1c56"}),jQuery("#pulsate-once").click(function(){$(this).pulsate({color:"#399bc3",repeat:!1})}),jQuery("#pulsate-hover").pulsate({color:"#5ebf5e",repeat:!1,onHover:!0}),jQuery("#pulsate-crazy").click(function(){$(this).pulsate({color:"#fdbe41",reach:50,repeat:10,speed:100,glow:!0})})),jQuery.gritter&&($("#gritter-sticky").click(function(){return $.gritter.add({title:"This is a sticky notice!",text:'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus eget tincidunt velit. Cum sociis natoque penatibus et <a href="#" style="color:#ccc">magnis dis parturient</a> montes, nascetur ridiculus mus.',image:"./assets/img/avatar1.jpg",sticky:!0,time:"",class_name:"my-sticky-class"}),!1}),$("#gritter-regular").click(function(){return $.gritter.add({title:"This is a regular notice!",text:'This will fade out after a certain amount of time. Vivamus eget tincidunt velit. Cum sociis natoque penatibus et <a href="#" style="color:#ccc">magnis dis parturient</a> montes, nascetur ridiculus mus.',image:"./assets/img/avatar1.jpg",sticky:!1,time:""}),!1}),$("#gritter-max").click(function(){return $.gritter.add({title:"This is a notice with a max of 3 on screen at one time!",text:'This will fade out after a certain amount of time. Vivamus eget tincidunt velit. Cum sociis natoque penatibus et <a href="#" style="color:#ccc">magnis dis parturient</a> montes, nascetur ridiculus mus.',image:"./assets/img/avatar1.jpg",sticky:!1,before_open:function(){if(3==$(".gritter-item-wrapper").length)return!1}}),!1}),$("#gritter-without-image").click(function(){return $.gritter.add({title:"This is a notice without an image!",text:'This will fade out after a certain amount of time. Vivamus eget tincidunt velit. Cum sociis natoque penatibus et <a href="#" style="color:#ccc">magnis dis parturient</a> montes, nascetur ridiculus mus.'}),!1}),$("#gritter-light").click(function(){return $.gritter.add({title:"This is a light notification",text:'Just add a "gritter-light" class_name to your $.gritter.add or globally to $.gritter.options.class_name',class_name:"gritter-light"}),!1}),$("#gritter-remove-all").click(function(){return $.gritter.removeAll(),!1})),y(),jQuery(".popovers").popover(),jQuery().toggleButtons&&($(".basic-toggle-button").toggleButtons(),$(".text-toggle-button").toggleButtons({width:200,label:{enabled:"Lorem Ipsum",disabled:"Dolor Sit"}}),$(".danger-toggle-button").toggleButtons({style:{enabled:"danger",disabled:"info"}}),$(".info-toggle-button").toggleButtons({style:{enabled:"info",disabled:""}}),$(".success-toggle-button").toggleButtons({style:{enabled:"success",disabled:"info"}}),$(".warning-toggle-button").toggleButtons({style:{enabled:"warning",disabled:"info"}}),$(".height-toggle-button").toggleButtons({height:100,font:{"line-height":"100px","font-size":"20px","font-style":"italic"}})),jQuery().wysihtml5&&0<$(".wysihtml5").size()&&$(".wysihtml5").wysihtml5(),g(),function(){var e=$(".color-panel");$(".icon-color",e).click(function(){$(".color-mode").show(),$(".icon-color-close").show()}),$(".icon-color-close",e).click(function(){$(".color-mode").hide(),$(".icon-color-close").hide()}),$("li",e).click(function(){var t=$(this).attr("data-style");i(t),$(".inline li",e).removeClass("current"),$(this).addClass("current")}),$("input",e).change(function(){t()});var i=function(t){$("#style_color").attr("href","assets/css/style_"+t+".css")},t=function(){$("input.header",e).is(":checked")?($("body").addClass("fixed-top"),$(".header").addClass("navbar-fixed-top")):($("body").removeClass("fixed-top"),$(".header").removeClass("navbar-fixed-top"))}}(),jQuery(".page-sidebar .has-sub > a").click(function(){var t=function(){var t=$(".page-content"),e=$(".page-sidebar");t.attr("data-height")||t.attr("data-height",t.height()),e.height()>t.height()?t.css("min-height",e.height()+20):t.css("min-height",t.attr("data-height"))},e=jQuery(".has-sub.open",$(".page-sidebar"));e.size(),e.removeClass("open"),jQuery(".arrow",e).removeClass("open"),jQuery(".sub",e).slideUp(200);var i=jQuery(this).next();i.is(":visible")?(jQuery(".arrow",jQuery(this)).removeClass("open"),jQuery(this).parent().removeClass("open"),i.slideUp(200,function(){t()})):(jQuery(".arrow",jQuery(this)).addClass("open"),jQuery(this).parent().addClass("open"),i.slideDown(200,function(){t()}))}),a=$(".page-container"),1==$.cookie("sidebar-closed")&&a.addClass("sidebar-closed"),$(".page-sidebar .sidebar-toggler").click(function(){$(".sidebar-search").removeClass("open");var t=$(".page-container");!0===t.hasClass("sidebar-closed")?(t.removeClass("sidebar-closed"),$.cookie("sidebar-closed",null)):(t.addClass("sidebar-closed"),$.cookie("sidebar-closed",1)),App.isPage("charts")&&setTimeout(function(){f()},100)}),$(".sidebar-search .remove").click(function(){$(".sidebar-search").removeClass("open")}),$(".sidebar-search input").keypress(function(t){if(13==t.which)return!(window.location.href="extra_search.html")}),$(".sidebar-search .submit").click(function(){$(".page-container").hasClass("sidebar-closed")&&0==$(".sidebar-search").hasClass("open")?$(".sidebar-search").addClass("open"):window.location.href="extra_search.html"}),m(),jQuery(".footer .go-top").click(function(){App.scrollTo()}),$(".accordion").collapse().height("auto"),jQuery(".accordion.scrollable .accordion-toggle").click(function(){l=jQuery(this)}),jQuery(".accordion.scrollable").on("shown",function(){jQuery("html,body").animate({scrollTop:l.offset().top-150},"slow")}),jQuery().bootstrapWizard&&($("#form_wizard_1").bootstrapWizard({nextSelector:".button-next",previousSelector:".button-previous",onTabClick:function(t,e,i){return alert("on tab click disabled"),!1},onNext:function(t,e,i){var n=e.find("li").length,s=i+1;$(".step-title",$("#form_wizard_1")).text("Step "+(i+1)+" of "+n),jQuery("li",$("#form_wizard_1")).removeClass("done");for(var o=e.find("li"),r=0;r<i;r++)jQuery(o[r]).addClass("done");1==s?$("#form_wizard_1").find(".button-previous").hide():$("#form_wizard_1").find(".button-previous").show(),n<=s?($("#form_wizard_1").find(".button-next").hide(),$("#form_wizard_1").find(".button-submit").show()):($("#form_wizard_1").find(".button-next").show(),$("#form_wizard_1").find(".button-submit").hide()),App.scrollTo($(".page-title"))},onPrevious:function(t,e,i){var n=e.find("li").length,s=i+1;$(".step-title",$("#form_wizard_1")).text("Step "+(i+1)+" of "+n),jQuery("li",$("#form_wizard_1")).removeClass("done");for(var o=e.find("li"),r=0;r<i;r++)jQuery(o[r]).addClass("done");1==s?$("#form_wizard_1").find(".button-previous").hide():$("#form_wizard_1").find(".button-previous").show(),n<=s?($("#form_wizard_1").find(".button-next").hide(),$("#form_wizard_1").find(".button-submit").show()):($("#form_wizard_1").find(".button-next").show(),$("#form_wizard_1").find(".button-submit").hide()),App.scrollTo($(".page-title"))},onTabShow:function(t,e,i){var n=(i+1)/e.find("li").length*100;$("#form_wizard_1").find(".bar").css({width:n+"%"})}}),$("#form_wizard_1").find(".button-previous").hide(),$("#form_wizard_1 .button-submit").click(function(){alert("Finished! Hope you like it :)")}).hide())},initLogin:function(){$(".login-form").validate({errorElement:"label",errorClass:"help-inline",focusInvalid:!1,rules:{username:{required:!0},password:{required:!0},remember:{required:!1}},messages:{username:{required:"Username is required."},password:{required:"Password is required."}},invalidHandler:function(t,e){$(".alert-error",$(".login-form")).show()},highlight:function(t){$(t).closest(".control-group").addClass("error")},success:function(t){t.closest(".control-group").removeClass("error"),t.remove()},errorPlacement:function(t,e){t.addClass("help-small no-left-padding").insertAfter(e.closest(".input-icon"))},submitHandler:function(t){window.location.href="index.html"}}),$(".login-form input").keypress(function(t){if(13==t.which)return $(".login-form").validate().form()&&(window.location.href="index.html"),!1}),$(".forget-form").validate({errorElement:"label",errorClass:"help-inline",focusInvalid:!1,ignore:"",rules:{email:{required:!0,email:!0}},messages:{email:{required:"Email is required."}},invalidHandler:function(t,e){},highlight:function(t){$(t).closest(".control-group").addClass("error")},success:function(t){t.closest(".control-group").removeClass("error"),t.remove()},errorPlacement:function(t,e){t.addClass("help-small no-left-padding").insertAfter(e.closest(".input-icon"))},submitHandler:function(t){window.location.href="index.html"}}),$(".forget-form input").keypress(function(t){if(13==t.which)return $(".forget-form").validate().form()&&(window.location.href="index.html"),!1}),jQuery("#forget-password").click(function(){jQuery(".login-form").hide(),jQuery(".forget-form").show()}),jQuery("#back-btn").click(function(){jQuery(".login-form").show(),jQuery(".forget-form").hide()}),$(".register-form").validate({errorElement:"label",errorClass:"help-inline",focusInvalid:!1,ignore:"",rules:{username:{required:!0},password:{required:!0},rpassword:{equalTo:"#register_password"},email:{required:!0,email:!0},tnc:{required:!0}},messages:{tnc:{required:"Please accept TNC first."}},invalidHandler:function(t,e){},highlight:function(t){$(t).closest(".control-group").addClass("error")},success:function(t){t.closest(".control-group").removeClass("error"),t.remove()},errorPlacement:function(t,e){"tnc"==e.attr("name")?t.addClass("help-small no-left-padding").insertAfter($("#register_tnc_error")):t.addClass("help-small no-left-padding").insertAfter(e.closest(".input-icon"))},submitHandler:function(t){window.location.href="index.html"}}),jQuery("#register-btn").click(function(){jQuery(".login-form").hide(),jQuery(".register-form").show()}),jQuery("#register-back-btn").click(function(){jQuery(".login-form").show(),jQuery(".register-form").hide()}),v(),m()},pulsate:function(t,e){var i=jQuery.extend(e,{color:"#d12610",reach:15,speed:300,pause:0,glow:!1,repeat:1,onHover:!1});jQuery(t).pulsate(i)},scrollTo:function(t,e){pos=t?t.offset().top:0,jQuery("html,body").animate({scrollTop:pos+(e||0)},"slow")},blockUI:function(t,e){lastBlockedUI=t,jQuery(t).block({message:'<img src="../../../themes/metronic/assets/img/loading.gif" align="absmiddle">',css:{border:"none",padding:"2px",backgroundColor:"none"},overlayCSS:{backgroundColor:"#000",opacity:.05,cursor:"wait"}})},unblockUI:function(t){jQuery(t).unblock({onUnblock:function(){jQuery(t).removeAttr("style")}})},initFancybox:function(){g()},initUniform:function(t){jQuery(t).each(function(){0==$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())})},initChosenSelect:function(t){$(t).chosen({allow_single_deselect:!0})},getActualVal:function(t){return(t=jQuery(t)).val()===t.attr("placeholder")?"":t.val()},setPage:function(t){e=t},isPage:function(t){return e==t},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}}}();!function(w){jQuery.fn.extend({slimScroll:function(b){var x=w.extend({wheelStep:20,width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:"0.2",railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,scroll:0,touchScrollStep:200},b);return this.each(function(){function i(t,e,i){var n=t,s=f.outerHeight()-m.outerHeight();e&&(n=parseInt(m.css("top"))+t*parseInt(x.wheelStep)/100*m.outerHeight(),n=Math.min(Math.max(n,0),s),m.css({top:n+"px"})),n=(c=parseInt(m.css("top"))/(f.outerHeight()-m.outerHeight()))*(f[0].scrollHeight-f.outerHeight()),i&&(t=(n=t)/f[0].scrollHeight*f.outerHeight(),t=Math.min(Math.max(t,0),s),m.css({top:t+"px"})),f.scrollTop(n),o(),r()}function t(){h=Math.max(f.outerHeight()/f[0].scrollHeight*f.outerHeight(),u),m.css({height:h+"px"})}function o(){t(),clearTimeout(a),c==~~c&&(p=x.allowPageScroll,d!=c&&f.trigger("slimscroll",0==~~c?"top":"bottom")),d=c,h>=f.outerHeight()?p=!0:(m.stop(!0,!0).fadeIn("fast"),x.railVisible&&y.stop(!0,!0).fadeIn("fast"))}function r(){x.alwaysVisible||(a=setTimeout(function(){x.disableFadeOut&&n||e||s||(m.fadeOut("slow"),y.fadeOut("slow"))},1e3))}var n,e,s,a,l,h,c,d,u=30,p=!1,f=w(this);if(f.parent().hasClass("slimScrollDiv")){var g=f.scrollTop(),m=f.parent().find(".slimScrollBar"),y=f.parent().find(".slimScrollRail");t(),b&&("scrollTo"in b?g=parseInt(x.scrollTo):"scrollBy"in b&&(g+=parseInt(x.scrollBy)),i(g,!1,!0))}else{x.height="auto"==x.height?f.parent().innerHeight():x.height,g=w("<div></div>").addClass(x.wrapperClass).css({position:"relative",overflow:"hidden",width:x.width,height:x.height}),f.css({overflow:"hidden",width:x.width,height:x.height});y=w("<div></div>").addClass(x.railClass).css({width:x.size,height:"100%",position:"absolute",top:0,display:x.alwaysVisible&&x.railVisible?"block":"none","border-radius":x.size,background:x.railColor,opacity:x.railOpacity,zIndex:90}),m=w("<div></div>").addClass(x.barClass).css({background:x.color,width:x.size,position:"absolute",top:0,opacity:x.opacity,display:x.alwaysVisible?"block":"none","border-radius":x.size,BorderRadius:x.size,MozBorderRadius:x.size,WebkitBorderRadius:x.size,zIndex:99});var v="right"==x.position?{right:x.distance}:{left:x.distance};y.css(v),m.css(v),f.wrap(g),f.parent().append(m),f.parent().append(y),m.draggable({axis:"y",containment:"parent",start:function(){s=!0},stop:function(){s=!1,r()},drag:function(){i(0,w(this).position().top,!1)}}),y.hover(function(){o()},function(){r()}),m.hover(function(){e=!0},function(){e=!1}),f.hover(function(){n=!0,o(),r()},function(){n=!1,r()}),f.bind("touchstart",function(t){t.originalEvent.touches.length&&(l=t.originalEvent.touches[0].pageY)}),f.bind("touchmove",function(t){t.originalEvent.preventDefault(),t.originalEvent.touches.length&&i((l-t.originalEvent.touches[0].pageY)/x.touchScrollStep,!0)});var _=function(t){if(n){var e=0;(t=t||window.event).wheelDelta&&(e=-t.wheelDelta/120),t.detail&&(e=t.detail/3),i(e,!0),t.preventDefault&&!p&&t.preventDefault(),p||(t.returnValue=!1)}};!function(){window.addEventListener?(this.addEventListener("DOMMouseScroll",_,!1),this.addEventListener("mousewheel",_,!1)):document.attachEvent("onmousewheel",_)}(),t(),"bottom"==x.start?(m.css({top:f.outerHeight()-m.outerHeight()}),i(0,!0)):"object"==typeof x.start&&(i(w(x.start).position().top,null,!0),x.alwaysVisible||m.hide())}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(e){"use strict";e(function(){var t;e.support.transition=(t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}())&&{end:t}})}(window.jQuery),function(o){"use strict";var e='[data-dismiss="alert"]',n=function(t){o(t).on("click",e,this.close)};n.prototype.close=function(t){function e(){i.trigger("closed").remove()}var i,n=o(this),s=n.attr("data-target");s||(s=(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"")),i=o(s),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=o.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),o.support.transition&&i.hasClass("fade")?i.on(o.support.transition.end,e):e())};var t=o.fn.alert;o.fn.alert=function(i){return this.each(function(){var t=o(this),e=t.data("alert");e||t.data("alert",e=new n(this)),"string"==typeof i&&e[i].call(t)})},o.fn.alert.Constructor=n,o.fn.alert.noConflict=function(){return o.fn.alert=t,this},o(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),function(s){"use strict";var o=function(t,e){this.$element=s(t),this.options=s.extend({},s.fn.button.defaults,e)};o.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),s=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[s]()),i[s](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},o.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var t=s.fn.button;s.fn.button=function(n){return this.each(function(){var t=s(this),e=t.data("button"),i="object"==typeof n&&n;e||t.data("button",e=new o(this,i)),"toggle"==n?e.toggle():n&&e.setState(n)})},s.fn.button.defaults={loadingText:"loading..."},s.fn.button.Constructor=o,s.fn.button.noConflict=function(){return s.fn.button=t,this},s(document).on("click.button.data-api","[data-toggle^=button]",function(t){var e=s(t.target);e.hasClass("btn")||(e=e.closest(".btn")),e.button("toggle")})}(window.jQuery),function(h){"use strict";var o=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,"hover"==this.options.pause&&this.$element.on("mouseenter",h.proxy(this.pause,this)).on("mouseleave",h.proxy(this.cycle,this))};o.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var e=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",function(){i.to(t)}):e==t?this.pause().cycle():this.slide(e<t?"next":"prev",h(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition.end&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(t,e){var i,n=this.$element.find(".item.active"),s=e||n[t](),o=this.interval,r="next"==t?"left":"right",a="next"==t?"first":"last",l=this;if(this.sliding=!0,o&&this.pause(),s=s.length?s:this.$element.find(".item")[a](),i=h.Event("slide",{relatedTarget:s[0],direction:r}),!s.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=h(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),h.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;s.addClass(t),s[0].offsetWidth,n.addClass(r),s.addClass(r),this.$element.one(h.support.transition.end,function(){s.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var t=h.fn.carousel;h.fn.carousel=function(s){return this.each(function(){var t=h(this),e=t.data("carousel"),i=h.extend({},h.fn.carousel.defaults,"object"==typeof s&&s),n="string"==typeof s?s:i.slide;e||t.data("carousel",e=new o(this,i)),"number"==typeof s?e.to(s):n?e[n]():i.interval&&e.pause().cycle()})},h.fn.carousel.defaults={interval:5e3,pause:"hover"},h.fn.carousel.Constructor=o,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this},h(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var e,i,n=h(this),s=h(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),o=h.extend({},s.data(),n.data());s.carousel(o),(i=n.attr("data-slide-to"))&&s.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),function(o){"use strict";var s=function(t,e){this.$element=o(t),this.options=o.extend({},o.fn.collapse.defaults,e),this.options.parent&&(this.$parent=o(this.options.parent)),this.options.toggle&&this.toggle()};s.prototype={constructor:s,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var t,e,i,n;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),e=o.camelCase(["scroll",t].join("-")),(i=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&i.length){if((n=i.data("collapse"))&&n.transitioning)return;i.collapse("hide"),n||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",o.Event("show"),"shown"),o.support.transition&&this.$element[t](this.$element[0][e])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",o.Event("hide"),"hidden"),this.$element[t](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(t,e,i){var n=this,s=function(){"show"==e.type&&n.reset(),n.transitioning=0,n.$element.trigger(i)};this.$element.trigger(e),e.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),o.support.transition&&this.$element.hasClass("collapse")?this.$element.one(o.support.transition.end,s):s())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var t=o.fn.collapse;o.fn.collapse=function(n){return this.each(function(){var t=o(this),e=t.data("collapse"),i=o.extend({},o.fn.collapse.defaults,t.data(),"object"==typeof n&&n);e||t.data("collapse",e=new s(this,i)),"string"==typeof n&&e[n]()})},o.fn.collapse.defaults={toggle:!0},o.fn.collapse.Constructor=s,o.fn.collapse.noConflict=function(){return o.fn.collapse=t,this},o(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var e,i=o(this),n=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),s=o(n).data("collapse")?"toggle":i.data();i[o(n).hasClass("in")?"addClass":"removeClass"]("collapsed"),o(n).collapse(s)})}(window.jQuery),function(r){"use strict";function s(){r(l).each(function(){a(r(this)).removeClass("open")})}function a(t){var e,i=t.attr("data-target");return i||(i=(i=t.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),(e=i&&r(i))&&e.length||(e=t.parent()),e}var l="[data-toggle=dropdown]",n=function(t){var e=r(t).on("click.dropdown.data-api",this.toggle);r("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var e,i,n=r(this);if(!n.is(".disabled, :disabled"))return i=(e=a(n)).hasClass("open"),s(),i||e.toggleClass("open"),n.focus(),!1},keydown:function(t){var e,i,n,s,o;if(/(38|40|27)/.test(t.keyCode)&&(e=r(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(!(s=(n=a(e)).hasClass("open"))||s&&27==t.keyCode)return 27==t.which&&n.find(l).focus(),e.click();(i=r("[role=menu] li:not(.divider):visible a",n)).length&&(o=i.index(i.filter(":focus")),38==t.keyCode&&0<o&&o--,40==t.keyCode&&o<i.length-1&&o++,~o||(o=0),i.eq(o).focus())}}};var t=r.fn.dropdown;r.fn.dropdown=function(i){return this.each(function(){var t=r(this),e=t.data("dropdown");e||t.data("dropdown",e=new n(this)),"string"==typeof i&&e[i].call(t)})},r.fn.dropdown.Constructor=n,r.fn.dropdown.noConflict=function(){return r.fn.dropdown=t,this},r(document).on("click.dropdown.data-api",s).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",l,n.prototype.toggle).on("keydown.dropdown.data-api",l+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(o){"use strict";var s=function(t,e){this.options=e,this.$element=o(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",o.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};s.prototype={constructor:s,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,t=o.Event("show");this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var t=o.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),t&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),t?e.$element.one(o.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=o.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),o(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),o.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;o(document).on("focusin.modal",function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,e=setTimeout(function(){t.$element.off(o.support.transition.end),t.hideModal()},500);this.$element.one(o.support.transition.end,function(){clearTimeout(e),t.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&e;if(this.$backdrop=o('<div class="modal-backdrop '+e+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?o.proxy(this.$element[0].focus,this.$element[0]):o.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(o.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(o.support.transition.end,t):t()):t&&t()}};var t=o.fn.modal;o.fn.modal=function(n){return this.each(function(){var t=o(this),e=t.data("modal"),i=o.extend({},o.fn.modal.defaults,t.data(),"object"==typeof n&&n);e||t.data("modal",e=new s(this,i)),"string"==typeof n?e[n]():i.show&&e.show()})},o.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=t,this},o(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),i=e.attr("href"),n=o(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),s=n.data("modal")?"toggle":o.extend({remote:!/#/.test(i)&&i},n.data(),e.data());t.preventDefault(),n.modal(s).one("hide",function(){e.focus()})})}(window.jQuery),function(l){"use strict";var s=function(t,e){this.init("tooltip",t,e)};s.prototype={constructor:s,init:function(t,e,i){var n,s,o,r,a;for(this.type=t,this.$element=l(e),this.options=this.getOptions(i),this.enabled=!0,a=(o=this.options.trigger.split(" ")).length;a--;)"click"==(r=o[a])?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=r&&(n="hover"==r?"mouseenter":"focus",s="hover"==r?"mouseleave":"blur",this.$element.on(n+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,l.proxy(this.leave,this)));this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return(t=l.extend({},l.fn[this.type].defaults,this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var e,i=l.fn[this.type].defaults,n={};if(this._options&&l.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)},this),!(e=l(t.currentTarget)[this.type](n).data(this.type)).options.delay||!e.options.delay.show)return e.show();clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)},leave:function(t){var e=l(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!e.options.delay||!e.options.delay.hide)return e.hide();e.hoverState="out",this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)},show:function(){var t,e,i,n,s,o,r=l.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(r),r.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),e=this.getPosition(),i=t[0].offsetWidth,n=t[0].offsetHeight,s){case"bottom":o={top:e.top+e.height,left:e.left+e.width/2-i/2};break;case"top":o={top:e.top-n,left:e.left+e.width/2-i/2};break;case"left":o={top:e.top+e.height/2-n/2,left:e.left-i};break;case"right":o={top:e.top+e.height/2-n/2,left:e.left+e.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,n,s,o,r=this.tip(),a=r[0].offsetWidth,l=r[0].offsetHeight;r.offset(t).addClass(e).addClass("in"),i=r[0].offsetWidth,n=r[0].offsetHeight,"top"==e&&n!=l&&(t.top=t.top+l-n,o=!0),"bottom"==e||"top"==e?(s=0,t.left<0&&(s=-2*t.left,t.left=0,r.offset(t),i=r[0].offsetWidth,n=r[0].offsetHeight),this.replaceArrow(s-a+i,i,"left")):this.replaceArrow(n-l,n,"top"),o&&r.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var t,e=this.tip(),i=l.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return e.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?(t=setTimeout(function(){e.off(l.support.transition.end).detach()},500),e.one(l.support.transition.end,function(){clearTimeout(t),e.detach()})):e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return l.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||l(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var e=t?l(t.currentTarget)[this.type](this._options).data(this.type):this;e.tip().hasClass("in")?e.hide():e.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var t=l.fn.tooltip;l.fn.tooltip=function(n){return this.each(function(){var t=l(this),e=t.data("tooltip"),i="object"==typeof n&&n;e||t.data("tooltip",e=new s(this,i)),"string"==typeof n&&e[n]()})},l.fn.tooltip.Constructor=s,l.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},l.fn.tooltip.noConflict=function(){return l.fn.tooltip=t,this}}(window.jQuery),function(s){"use strict";var o=function(t,e){this.init("popover",t,e)};o.prototype=s.extend({},s.fn.tooltip.Constructor.prototype,{constructor:o,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=s(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var t=s.fn.popover;s.fn.popover=function(n){return this.each(function(){var t=s(this),e=t.data("popover"),i="object"==typeof n&&n;e||t.data("popover",e=new o(this,i)),"string"==typeof n&&e[n]()})},s.fn.popover.Constructor=o,s.fn.popover.defaults=s.extend({},s.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),s.fn.popover.noConflict=function(){return s.fn.popover=t,this}}(window.jQuery),function(o){"use strict";function s(t,e){var i,n=o.proxy(this.process,this),s=o(t).is("body")?o(window):o(t);this.options=o.extend({},o.fn.scrollspy.defaults,e),this.$scrollElement=s.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(i=o(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=o("body"),this.refresh(),this.process()}s.prototype={constructor:s,refresh:function(){var n=this;this.offsets=o([]),this.targets=o([]),this.$body.find(this.selector).map(function(){var t=o(this),e=t.data("target")||t.attr("href"),i=/^#\w/.test(e)&&o(e);return i&&i.length&&[[i.position().top+(!o.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),n=this.offsets,s=this.targets,o=this.activeTarget;if(i<=e)return o!=(t=s.last()[0])&&this.activate(t);for(t=n.length;t--;)o!=s[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(s[t])},activate:function(t){var e,i;this.activeTarget=t,o(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',(e=o(i).parent("li").addClass("active")).parent(".dropdown-menu").length&&(e=e.closest("li.dropdown").addClass("active")),e.trigger("activate")}};var t=o.fn.scrollspy;o.fn.scrollspy=function(n){return this.each(function(){var t=o(this),e=t.data("scrollspy"),i="object"==typeof n&&n;e||t.data("scrollspy",e=new s(this,i)),"string"==typeof n&&e[n]()})},o.fn.scrollspy.Constructor=s,o.fn.scrollspy.defaults={offset:10},o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load",function(){o('[data-spy="scroll"]').each(function(){var t=o(this);t.scrollspy(t.data())})})}(window.jQuery),function(r){"use strict";var n=function(t){this.element=r(t)};n.prototype={constructor:n,show:function(){var t,e,i,n=this.element,s=n.closest("ul:not(.dropdown-menu)"),o=n.attr("data-target");o||(o=(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(t=s.find(".active:last a")[0],i=r.Event("show",{relatedTarget:t}),n.trigger(i),i.isDefaultPrevented()||(e=r(o),this.activate(n.parent("li"),s),this.activate(e,e.parent(),function(){n.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,e,i){function n(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var s=e.find("> .active"),o=i&&r.support.transition&&s.hasClass("fade");o?s.one(r.support.transition.end,n):n(),s.removeClass("in")}};var t=r.fn.tab;r.fn.tab=function(i){return this.each(function(){var t=r(this),e=t.data("tab");e||t.data("tab",e=new n(this)),"string"==typeof i&&e[i]()})},r.fn.tab.Constructor=n,r.fn.tab.noConflict=function(){return r.fn.tab=t,this},r(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),r(this).tab("show")})}(window.jQuery),function(s){"use strict";var o=function(t,e){this.$element=s(t),this.options=s.extend({},s.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=s(this.options.menu),this.shown=!1,this.listen()};o.prototype={constructor:o,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var t=s.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=s.isFunction(this.source)?this.source(this.query,s.proxy(this.process,this)):this.source)?this.process(e):this},process:function(t){var e=this;return t=s.grep(t,function(t){return e.matcher(t)}),(t=this.sorter(t)).length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],s=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):s.push(e):i.push(e);return i.concat(n,s)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(t){var i=this;return(t=s(t).map(function(t,e){return(t=s(i.options.item).attr("data-value",e)).find("a").html(i.highlighter(e)),t[0]})).first().addClass("active"),this.$menu.html(t),this},next:function(t){var e=this.$menu.find(".active").removeClass("active").next();e.length||(e=s(this.$menu.find("li")[0])),e.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active").prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",s.proxy(this.focus,this)).on("blur",s.proxy(this.blur,this)).on("keypress",s.proxy(this.keypress,this)).on("keyup",s.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",s.proxy(this.keydown,this)),this.$menu.on("click",s.proxy(this.click,this)).on("mouseenter","li",s.proxy(this.mouseenter,this)).on("mouseleave","li",s.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~s.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),s(t.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var t=s.fn.typeahead;s.fn.typeahead=function(n){return this.each(function(){var t=s(this),e=t.data("typeahead"),i="object"==typeof n&&n;e||t.data("typeahead",e=new o(this,i)),"string"==typeof n&&e[n]()})},s.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},s.fn.typeahead.Constructor=o,s.fn.typeahead.noConflict=function(){return s.fn.typeahead=t,this},s(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var e=s(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),function(a){"use strict";var s=function(t,e){this.options=a.extend({},a.fn.affix.defaults,e),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(t),this.checkPosition()};s.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,e=a(document).height(),i=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,o=s.bottom,r=s.top;"object"!=typeof s&&(o=r=s),"function"==typeof r&&(r=s.top()),"function"==typeof o&&(o=s.bottom()),t=!(null!=this.unpin&&i+this.unpin<=n.top)&&(null!=o&&n.top+this.$element.height()>=e-o?"bottom":null!=r&&i<=r&&"top"),this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?n.top-i:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(t?"-"+t:"")))}};var t=a.fn.affix;a.fn.affix=function(n){return this.each(function(){var t=a(this),e=t.data("affix"),i="object"==typeof n&&n;e||t.data("affix",e=new s(this,i)),"string"==typeof n&&e[n]()})},a.fn.affix.Constructor=s,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=t,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var t=a(this),e=t.data();e.offset=e.offset||{},e.offsetBottom&&(e.offset.bottom=e.offsetBottom),e.offsetTop&&(e.offset.top=e.offsetTop),t.affix(e)})})}(window.jQuery),function(x){x.fn.priceFormat=function(b){b=x.extend({prefix:"US$ ",suffix:"",centsSeparator:".",thousandsSeparator:",",limit:!1,centsLimit:2,clearPrefix:!1,clearSufix:!1,allowNegative:!1,insertPlusSign:!1,clearOnEmpty:!1},b);return this.each(function(){function r(t){s.is("input")?s.val(t):s.html(t)}function i(){return a=s.is("input")?s.val():s.html()}function l(t,e){if(!e&&(""===t||t==l("0",!0))&&_)return"";var i=function(t){for(;t.length<g+1;)t="0"+t;return t}(function(t){for(var e="",i=0;i<t.length;i++)char_=t.charAt(i),0==e.length&&0==char_&&(char_=!1),char_&&char_.match(h)&&(f?e.length<f&&(e+=char_):e+=char_);return e}(t)),n="",s=0;0==g&&(o=u="");var o=i.substr(i.length-g,g),r=i.substr(0,i.length-g);if(i=0==g?r:r+u+o,p||""!=x.trim(p)){for(var a=r.length;0<a;a--)char_=r.substr(a-1,1),++s%3==0&&(char_=p+char_),n=char_+n;n.substr(0,1)==p&&(n=n.substring(1,n.length)),i=0==g?n:n+u+o}return!y||0==r&&0==o||(i=-1!=t.indexOf("-")&&t.indexOf("+")<t.indexOf("-")?"-"+i:v?"+"+i:""+i),c&&(i=c+i),d&&(i+=d),i}function t(){var t=i(),e=l(t);t!=e&&r(e),0==parseFloat(t)&&_&&r("")}function e(){""!=x.trim(c)&&o&&r(i().split(c)[1])}function n(){""!=x.trim(d)&&m&&r(i().split(d)[0])}var s=x(this),a="",h=/[0-9]/;a=s.is("input")?s.val():s.html();var c=b.prefix,d=b.suffix,u=b.centsSeparator,p=b.thousandsSeparator,f=b.limit,g=b.centsLimit,o=b.clearPrefix,m=b.clearSuffix,y=b.allowNegative,v=b.insertPlusSign,_=b.clearOnEmpty;v&&(y=!0),s.bind("keydown.price_format",function(t){var e=t.keyCode?t.keyCode:t.which,i=String.fromCharCode(e),n=!1,s=a,o=l(s+i);(48<=e&&e<=57||96<=e&&e<=105)&&(n=!0),8==e&&(n=!0),9==e&&(n=!0),13==e&&(n=!0),46==e&&(n=!0),37==e&&(n=!0),39==e&&(n=!0),!y||189!=e&&109!=e&&173!=e||(n=!0),!v||187!=e&&107!=e&&61!=e||(n=!0),n||(t.preventDefault(),t.stopPropagation(),s!=o&&r(o))}),s.bind("keyup.price_format",t),s.bind("focusout.price_format",t),o&&(s.bind("focusout.price_format",function(){e()}),s.bind("focusin.price_format",function(){s.val(c+i())})),m&&(s.bind("focusout.price_format",function(){n()}),s.bind("focusin.price_format",function(){s.val(i()+d)})),0<i().length&&(t(),e(),n())})},x.fn.unpriceFormat=function(){return x(this).unbind(".price_format")},x.fn.unmask=function(){var t,e="";for(var i in t=x(this).is("input")?x(this).val():x(this).html())isNaN(t[i])&&"-"!=t[i]||(e+=t[i]);return e}}(jQuery),function(){"use strict";function t(k){k.fn._fadeIn=k.fn.fadeIn;var S=k.noop||function(){},T=/MSIE/.test(navigator.userAgent),E=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),M=(document.documentMode,k.isFunction(document.createElement("div").style.setExpression));k.blockUI=function(t){i(window,t)},k.unblockUI=function(t){D(window,t)},k.growlUI=function(t,e,i,n){var s=k('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),e&&s.append("<h2>"+e+"</h2>"),void 0===i&&(i=3e3),k.blockUI({message:s,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:i,showOverlay:!1,onUnblock:n,css:k.blockUI.defaults.growlCSS})},k.fn.block=function(t){var e=k.extend({},k.blockUI.defaults,t||{});return this.each(function(){var t=k(this);e.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==k.css(this,"position")&&(this.style.position="relative",k(this).data("blockUI.static",!0)),this.style.zoom=1,i(this,t)})},k.fn.unblock=function(t){return this.each(function(){D(this,t)})},k.blockUI.version=2.57,k.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var z=null,A=[];function i(t,s){var e,i,o=t==window,n=s&&void 0!==s.message?s.message:void 0;if(!(s=k.extend({},k.blockUI.defaults,s||{})).ignoreIfBlocked||!k(t).data("blockUI.isBlocked")){if(s.overlayCSS=k.extend({},k.blockUI.defaults.overlayCSS,s.overlayCSS||{}),e=k.extend({},k.blockUI.defaults.css,s.css||{}),s.onOverlayClick&&(s.overlayCSS.cursor="pointer"),i=k.extend({},k.blockUI.defaults.themedCSS,s.themedCSS||{}),n=void 0===n?s.message:n,o&&z&&D(window,{fadeOut:0}),n&&"string"!=typeof n&&(n.parentNode||n.jquery)){var r=n.jquery?n[0]:n,a={};k(t).data("blockUI.history",a),a.el=r,a.parent=r.parentNode,a.display=r.style.display,a.position=r.style.position,a.parent&&a.parent.removeChild(r)}k(t).data("blockUI.onUnblock",s.onUnblock);var l,h,c,d,u=s.baseZ;l=T||s.forceIframe?k('<iframe class="blockUI" style="z-index:'+u+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+s.iframeSrc+'"></iframe>'):k('<div class="blockUI" style="display:none"></div>'),h=s.theme?k('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+u+++';display:none"></div>'):k('<div class="blockUI blockOverlay" style="z-index:'+u+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),s.theme&&o?(d='<div class="blockUI '+s.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(u+10)+';display:none;position:fixed">',s.title&&(d+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+"</div>"),d+='<div class="ui-widget-content ui-dialog-content"></div>',d+="</div>"):s.theme?(d='<div class="blockUI '+s.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(u+10)+';display:none;position:absolute">',s.title&&(d+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(s.title||"&nbsp;")+"</div>"),d+='<div class="ui-widget-content ui-dialog-content"></div>',d+="</div>"):d=o?'<div class="blockUI '+s.blockMsgClass+' blockPage" style="z-index:'+(u+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+s.blockMsgClass+' blockElement" style="z-index:'+(u+10)+';display:none;position:absolute"></div>',c=k(d),n&&(s.theme?(c.css(i),c.addClass("ui-widget-content")):c.css(e)),s.theme||h.css(s.overlayCSS),h.css("position",o?"fixed":"absolute"),(T||s.forceIframe)&&l.css("opacity",0);var p=[l,h,c],f=k(o?"body":t);k.each(p,function(){this.appendTo(f)}),s.theme&&s.draggable&&k.fn.draggable&&c.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var g=M&&(!k.support.boxModel||0<k("object,embed",o?null:t).length);if(E||g){if(o&&s.allowBodyStretch&&k.support.boxModel&&k("html,body").css("height","100%"),(E||!k.support.boxModel)&&!o)var m=O(t,"borderTopWidth"),y=O(t,"borderLeftWidth"),v=m?"(0 - "+m+")":0,_=y?"(0 - "+y+")":0;k.each(p,function(t,e){var i=e[0].style;if(i.position="absolute",t<2)o?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+s.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),o?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),_&&i.setExpression("left",_),v&&i.setExpression("top",v);else if(s.centerY)o&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!s.centerY&&o){var n="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(s.css&&s.css.top?parseInt(s.css.top,10):0)+') + "px"';i.setExpression("top",n)}})}if(n&&(s.theme?c.find(".ui-widget-content").append(n):c.append(n),(n.jquery||n.nodeType)&&k(n).show()),(T||s.forceIframe)&&s.showOverlay&&l.show(),s.fadeIn){var b=s.onBlock?s.onBlock:S,x=s.showOverlay&&!n?b:S,w=n?b:S;s.showOverlay&&h._fadeIn(s.fadeIn,x),n&&c._fadeIn(s.fadeIn,w)}else s.showOverlay&&h.show(),n&&c.show(),s.onBlock&&s.onBlock();if(L(1,t,s),o?(z=c[0],A=k(":input:enabled:visible",z),s.focusInput&&setTimeout($,20)):function(t,e,i){var n=t.parentNode,s=t.style,o=(n.offsetWidth-t.offsetWidth)/2-O(n,"borderLeftWidth"),r=(n.offsetHeight-t.offsetHeight)/2-O(n,"borderTopWidth");e&&(s.left=0<o?o+"px":"0");i&&(s.top=0<r?r+"px":"0")}(c[0],s.centerX,s.centerY),s.timeout){var C=setTimeout(function(){o?k.unblockUI(s):k(t).unblock(s)},s.timeout);k(t).data("blockUI.timeout",C)}}}function D(t,e){var i,n=t==window,s=k(t),o=s.data("blockUI.history"),r=s.data("blockUI.timeout");r&&(clearTimeout(r),s.removeData("blockUI.timeout")),e=k.extend({},k.blockUI.defaults,e||{}),L(0,t,e),null===e.onUnblock&&(e.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock")),i=n?k("body").children().filter(".blockUI").add("body > .blockUI"):s.find(">.blockUI"),e.cursorReset&&(1<i.length&&(i[1].style.cursor=e.cursorReset),2<i.length&&(i[2].style.cursor=e.cursorReset)),n&&(z=A=null),e.fadeOut?(i.fadeOut(e.fadeOut),setTimeout(function(){a(i,o,e,t)},e.fadeOut)):a(i,o,e,t)}function a(t,e,i,n){var s=k(n);t.each(function(t,e){this.parentNode&&this.parentNode.removeChild(this)}),e&&e.el&&(e.el.style.display=e.display,e.el.style.position=e.position,e.parent&&e.parent.appendChild(e.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof i.onUnblock&&i.onUnblock(n,i);var o=k(document.body),r=o.width(),a=o[0].style.width;o.width(r-1).width(r),o[0].style.width=a}function L(t,e,i){var n=e==window,s=k(e);if((t||(!n||z)&&(n||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",t),i.bindEvents&&(!t||i.showOverlay))){var o="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?k(document).bind(o,i,r):k(document).unbind(o,r)}}function r(t){if(t.keyCode&&9==t.keyCode&&z&&t.data.constrainTabKey){var e=A,i=!t.shiftKey&&t.target===e[e.length-1],n=t.shiftKey&&t.target===e[0];if(i||n)return setTimeout(function(){$(n)},10),!1}var s=t.data,o=k(t.target);return o.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(),0<o.parents("div."+s.blockMsgClass).length||0===o.parents().children().filter("div.blockUI").length}function $(t){if(A){var e=A[!0===t?A.length-1:0];e&&e.focus()}}function O(t,e){return parseInt(k.css(t,e),10)||0}}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(),function(d,u,t){var e=/\+/g;function p(t){return t}function f(t){return decodeURIComponent(t.replace(e," "))}var g=d.cookie=function(t,e,i){if(void 0!==e){if(i=d.extend({},g.defaults,i),null===e&&(i.expires=-1),"number"==typeof i.expires){var n=i.expires,s=i.expires=new Date;s.setDate(s.getDate()+n)}return e=g.json?JSON.stringify(e):String(e),u.cookie=[encodeURIComponent(t),"=",g.raw?e:encodeURIComponent(e),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var o=g.raw?p:f,r=u.cookie.split("; "),a=0,l=r.length;a<l;a++){var h=r[a].split("=");if(o(h.shift())===t){var c=o(h.join("="));return g.json?JSON.parse(c):c}}return null};g.defaults={},d.removeCookie=function(t,e){return null!==d.cookie(t)&&(d.cookie(t,null,e),!0)}}(jQuery,document),function(i,n,T,c){var s=T(i),h=T(n),E=T.fancybox=function(){E.open.apply(this,arguments)},o=null,a=n.createTouch!==c,d=function(t){return t&&t.hasOwnProperty&&t instanceof T},u=function(t){return t&&"string"===T.type(t)},M=function(t){return u(t)&&0<t.indexOf("%")},z=function(t,e){var i=parseInt(t,10)||0;return e&&M(t)&&(i*=E.getViewport()[e]/100),Math.ceil(i)},A=function(t,e){return z(t,e)+"px"};T.extend(E,{version:"2.1.3",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!a,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(T.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:T.noop,beforeLoad:T.noop,afterLoad:T.noop,beforeShow:T.noop,afterShow:T.noop,beforeChange:T.noop,beforeClose:T.noop,afterClose:T.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(l,h){if(l&&(T.isPlainObject(h)||(h={}),!1!==E.close(!0)))return T.isArray(l)||(l=d(l)?T(l).get():[l]),T.each(l,function(t,e){var i,n,s,o,r,a={};"object"===T.type(e)&&(e.nodeType&&(e=T(e)),d(e)?(a={href:e.data("fancybox-href")||e.attr("href"),title:e.data("fancybox-title")||e.attr("title"),isDom:!0,element:e},T.metadata&&T.extend(!0,a,e.metadata())):a=e),i=h.href||a.href||(u(e)?e:null),n=h.title!==c?h.title:a.title||"",!(o=(s=h.content||a.content)?"html":h.type||a.type)&&a.isDom&&((o=e.data("fancybox-type"))||(o=(o=e.prop("class").match(/fancybox\.(\w+)/))?o[1]:null)),u(i)&&(o||(E.isImage(i)?o="image":E.isSWF(i)?o="swf":"#"===i.charAt(0)?o="inline":u(e)&&(o="html",s=e)),"ajax"===o&&(i=(r=i.split(/\s+/,2)).shift(),r=r.shift())),s||("inline"===o?i?s=T(u(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):a.isDom&&(s=e):"html"===o?s=i:!o&&!i&&a.isDom&&(o="inline",s=e)),T.extend(a,{href:i,type:o,content:s,title:n,selector:r}),l[t]=a}),E.opts=T.extend(!0,{},E.defaults,h),h.keys!==c&&(E.opts.keys=!!h.keys&&T.extend({},E.defaults.keys,h.keys)),E.group=l,E._start(E.opts.index)},cancel:function(){var t=E.coming;t&&!1!==E.trigger("onCancel")&&(E.hideLoading(),E.ajaxLoad&&E.ajaxLoad.abort(),E.ajaxLoad=null,E.imgPreload&&(E.imgPreload.onload=E.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),E.coming=null,E.current||E._afterZoomOut(t))},close:function(t){E.cancel(),!1!==E.trigger("beforeClose")&&(E.unbindEvents(),E.isActive&&(E.isOpen&&!0!==t?(E.isOpen=E.isOpened=!1,E.isClosing=!0,T(".fancybox-item, .fancybox-nav").remove(),E.wrap.stop(!0,!0).removeClass("fancybox-opened"),E.transitions[E.current.closeMethod]()):(T(".fancybox-wrap").stop(!0).trigger("onReset").remove(),E._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(E.player.timer)},i=function(){e(),E.current&&E.player.isActive&&(E.player.timer=setTimeout(E.next,E.current.playSpeed))},n=function(){e(),T("body").unbind(".player"),E.player.isActive=!1,E.trigger("onPlayEnd")};!0===t||!E.player.isActive&&!1!==t?E.current&&(E.current.loop||E.current.index<E.group.length-1)&&(E.player.isActive=!0,T("body").bind({"afterShow.player onUpdate.player":i,"onCancel.player beforeClose.player":n,"beforeLoad.player":e}),i(),E.trigger("onPlayStart")):n()},next:function(t){var e=E.current;e&&(u(t)||(t=e.direction.next),E.jumpto(e.index+1,t,"next"))},prev:function(t){var e=E.current;e&&(u(t)||(t=e.direction.prev),E.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var n=E.current;n&&(t=z(t),E.direction=e||n.direction[t>=n.index?"next":"prev"],E.router=i||"jumpto",n.loop&&(t<0&&(t=n.group.length+t%n.group.length),t%=n.group.length),n.group[t]!==c&&(E.cancel(),E._start(t)))},reposition:function(t,e){var i,n=E.current,s=n?n.wrap:null;s&&(i=E._getPosition(e),t&&"scroll"===t.type?(delete i.position,s.stop(!0,!0).animate(i,200)):(s.css(i),n.pos=T.extend({},n.dim,i)))},update:function(e){var i=e&&e.type,n=!i||"orientationchange"===i;n&&(clearTimeout(o),o=null),E.isOpen&&!o&&(o=setTimeout(function(){var t=E.current;t&&!E.isClosing&&(E.wrap.removeClass("fancybox-tmp"),(n||"load"===i||"resize"===i&&t.autoResize)&&E._setDimension(),"scroll"===i&&t.canShrink||E.reposition(e),E.trigger("onUpdate"),o=null)},n&&!a?0:300))},toggle:function(t){E.isOpen&&(E.current.fitToView="boolean"===T.type(t)?t:!E.current.fitToView,a&&(E.wrap.removeAttr("style").addClass("fancybox-tmp"),E.trigger("onUpdate")),E.update())},hideLoading:function(){h.unbind(".loading"),T("#fancybox-loading").remove()},showLoading:function(){var t,e;E.hideLoading(),t=T('<div id="fancybox-loading"><div></div></div>').click(E.cancel).appendTo("body"),h.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),E.cancel())}),E.defaults.fixed||(e=E.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var t=E.current&&E.current.locked||!1,e={x:s.scrollLeft(),y:s.scrollTop()};return e.h=t?(e.w=t[0].clientWidth,t[0].clientHeight):(e.w=a&&i.innerWidth?i.innerWidth:s.width(),a&&i.innerHeight?i.innerHeight:s.height()),e},unbindEvents:function(){E.wrap&&d(E.wrap)&&E.wrap.unbind(".fb"),h.unbind(".fb"),s.unbind(".fb")},bindEvents:function(){var e,r=E.current;r&&(s.bind("orientationchange.fb"+(a?"":" resize.fb")+(r.autoCenter&&!r.locked?" scroll.fb":""),E.update),(e=r.keys)&&h.bind("keydown.fb",function(i){var n=i.which||i.keyCode,t=i.target||i.srcElement;if(27===n&&E.coming)return!1;!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey&&(!t||!t.type&&!T(t).is("[contenteditable]"))&&T.each(e,function(t,e){return 1<r.group.length&&e[n]!==c?(E[t](e[n]),i.preventDefault(),!1):-1<T.inArray(n,e)?(E[t](),i.preventDefault(),!1):void 0})}),T.fn.mousewheel&&r.mouseWheel&&E.wrap.bind("mousewheel.fb",function(t,e,i,n){for(var s=T(t.target||null),o=!1;s.length&&!o&&!s.is(".fancybox-skin")&&!s.is(".fancybox-wrap");)o=s[0]&&!(s[0].style.overflow&&"hidden"===s[0].style.overflow)&&(s[0].clientWidth&&s[0].scrollWidth>s[0].clientWidth||s[0].clientHeight&&s[0].scrollHeight>s[0].clientHeight),s=T(s).parent();0!==e&&!o&&1<E.group.length&&!r.canShrink&&(0<n||0<i?E.prev(0<n?"down":"left"):(n<0||i<0)&&E.next(n<0?"up":"right"),t.preventDefault())}))},trigger:function(i,t){var e,n=t||E.coming||E.current;if(n){if(T.isFunction(n[i])&&(e=n[i].apply(n,Array.prototype.slice.call(arguments,1))),!1===e)return!1;n.helpers&&T.each(n.helpers,function(t,e){e&&E.helpers[t]&&T.isFunction(E.helpers[t][i])&&(e=T.extend(!0,{},E.helpers[t].defaults,e),E.helpers[t][i](e,n))}),T.event.trigger(i+".fb")}},isImage:function(t){return u(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(t){return u(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,i,n={};t=z(t);if(!(e=E.group[t]||null))return!1;if(e=(n=T.extend(!0,{},E.opts,e)).margin,i=n.padding,"number"===T.type(e)&&(n.margin=[e,e,e,e]),"number"===T.type(i)&&(n.padding=[i,i,i,i]),n.modal&&T.extend(!0,n,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),n.autoSize&&(n.autoWidth=n.autoHeight=!0),"auto"===n.width&&(n.autoWidth=!0),"auto"===n.height&&(n.autoHeight=!0),n.group=E.group,n.index=t,E.coming=n,!1===E.trigger("beforeLoad"))E.coming=null;else{if(i=n.type,e=n.href,!i)return E.coming=null,!(!E.current||!E.router||"jumpto"===E.router)&&(E.current.index=t,E[E.router](E.direction));if(E.isActive=!0,"image"!==i&&"swf"!==i||(n.autoHeight=n.autoWidth=!1,n.scrolling="visible"),"image"===i&&(n.aspectRatio=!0),"iframe"===i&&a&&(n.scrolling="scroll"),n.wrap=T(n.tpl.wrap).addClass("fancybox-"+(a?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+n.wrapCSS).appendTo(n.parent||"body"),T.extend(n,{skin:T(".fancybox-skin",n.wrap),outer:T(".fancybox-outer",n.wrap),inner:T(".fancybox-inner",n.wrap)}),T.each(["Top","Right","Bottom","Left"],function(t,e){n.skin.css("padding"+e,A(n.padding[t]))}),E.trigger("onReady"),"inline"===i||"html"===i){if(!n.content||!n.content.length)return E._error("content")}else if(!e)return E._error("href");"image"===i?E._loadImage():"ajax"===i?E._loadAjax():"iframe"===i?E._loadIframe():E._afterLoad()}},_error:function(t){T.extend(E.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:E.coming.tpl.error}),E._afterLoad()},_loadImage:function(){var t=E.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,E.coming.width=this.width,E.coming.height=this.height,E._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,E._error("image")},t.src=E.coming.href,!0!==t.complete&&E.showLoading()},_loadAjax:function(){var i=E.coming;E.showLoading(),E.ajaxLoad=T.ajax(T.extend({},i.ajax,{url:i.href,error:function(t,e){E.coming&&"abort"!==e?E._error("ajax",t):E.hideLoading()},success:function(t,e){"success"===e&&(i.content=t,E._afterLoad())}}))},_loadIframe:function(){var t=E.coming,e=T(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",a?"auto":t.iframe.scrolling).attr("src",t.href);T(t.wrap).bind("onReset",function(){try{T(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(E.showLoading(),e.one("load",function(){T(this).data("ready",1),a||T(this).bind("load.fb",E.update),T(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),E._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||E._afterLoad()},_preloadImages:function(){var t,e,i=E.group,n=E.current,s=i.length,o=n.preload?Math.min(n.preload,s-1):0;for(e=1;e<=o;e+=1)"image"===(t=i[(n.index+e)%s]).type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var i,t,e,n,s,o=E.coming,r=E.current;if(E.hideLoading(),o&&!1!==E.isActive)if(!1===E.trigger("afterLoad",o,r))o.wrap.stop(!0).trigger("onReset").remove(),E.coming=null;else{switch(r&&(E.trigger("beforeChange",r),r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),E.unbindEvents(),i=o.content,t=o.type,e=o.scrolling,T.extend(E,{wrap:o.wrap,skin:o.skin,outer:o.outer,inner:o.inner,current:o,previous:r}),n=o.href,t){case"inline":case"ajax":case"html":o.selector?i=T("<div>").html(i).find(o.selector):d(i)&&(i.data("fancybox-placeholder")||i.data("fancybox-placeholder",T('<div class="fancybox-placeholder"></div>').insertAfter(i).hide()),i=i.show().detach(),o.wrap.bind("onReset",function(){T(this).find(i).length&&i.hide().replaceAll(i.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":i=o.tpl.image.replace("{href}",n);break;case"swf":i='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',s="",T.each(o.swf,function(t,e){i+='<param name="'+t+'" value="'+e+'"></param>',s+=" "+t+'="'+e+'"'}),i+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}(!d(i)||!i.parent().is(o.inner))&&o.inner.append(i),E.trigger("beforeShow"),o.inner.css("overflow","yes"===e?"scroll":"no"===e?"hidden":e),E._setDimension(),E.reposition(),E.isOpen=!1,E.coming=null,E.bindEvents(),E.isOpened?r.prevMethod&&E.transitions[r.prevMethod]():T(".fancybox-wrap").not(o.wrap).stop(!0).trigger("onReset").remove(),E.transitions[E.isOpened?o.nextMethod:o.openMethod](),E._preloadImages()}},_setDimension:function(){var t,e,i,n,s,o,r,a,l,h=E.getViewport(),c=0,d=!1,u=!1,p=(d=E.wrap,E.skin),f=E.inner,g=E.current,m=(u=g.width,g.height),y=g.minWidth,v=g.minHeight,_=g.maxWidth,b=g.maxHeight,x=g.scrolling,w=g.scrollOutside?g.scrollbarWidth:0,C=g.margin,k=z(C[1]+C[3]),S=z(C[0]+C[2]);if(d.add(p).add(f).width("auto").height("auto").removeClass("fancybox-tmp"),e=k+(C=z(p.outerWidth(!0)-p.width())),i=S+(t=z(p.outerHeight(!0)-p.height())),n=M(u)?(h.w-e)*z(u)/100:u,s=M(m)?(h.h-i)*z(m)/100:m,"iframe"===g.type){if(l=g.content,g.autoHeight&&1===l.data("ready"))try{l[0].contentWindow.document.location&&(f.width(n).height(9999),o=l.contents().find("body"),w&&o.css("overflow-x","hidden"),s=o.height())}catch(t){}}else(g.autoWidth||g.autoHeight)&&(f.addClass("fancybox-tmp"),g.autoWidth||f.width(n),g.autoHeight||f.height(s),g.autoWidth&&(n=f.width()),g.autoHeight&&(s=f.height()),f.removeClass("fancybox-tmp"));if(u=z(n),m=z(s),a=n/s,y=z(M(y)?z(y,"w")-e:y),_=z(M(_)?z(_,"w")-e:_),v=z(M(v)?z(v,"h")-i:v),o=_,r=b=z(M(b)?z(b,"h")-i:b),g.fitToView&&(_=Math.min(h.w-e,_),b=Math.min(h.h-i,b)),e=h.w-k,S=h.h-S,g.aspectRatio?(_<u&&(m=z((u=_)/a)),b<m&&(u=z((m=b)*a)),u<y&&(m=z((u=y)/a)),m<v&&(u=z((m=v)*a))):(u=Math.max(y,Math.min(u,_)),g.autoHeight&&"iframe"!==g.type&&(f.width(u),m=f.height()),m=Math.max(v,Math.min(m,b))),g.fitToView)if(f.width(u).height(m),d.width(u+C),h=d.width(),k=d.height(),g.aspectRatio)for(;(e<h||S<k)&&y<u&&v<m&&!(19<c++);)m=Math.max(v,Math.min(b,m-10)),(u=z(m*a))<y&&(m=z((u=y)/a)),_<u&&(m=z((u=_)/a)),f.width(u).height(m),d.width(u+C),h=d.width(),k=d.height();else u=Math.max(y,Math.min(u,u-(h-e))),m=Math.max(v,Math.min(m,m-(k-S)));w&&"auto"===x&&m<s&&u+C+w<e&&(u+=w),f.width(u).height(m),d.width(u+C),h=d.width(),k=d.height(),d=(e<h||S<k)&&y<u&&v<m,u=g.aspectRatio?u<o&&m<r&&u<n&&m<s:(u<o||m<r)&&(u<n||m<s),T.extend(g,{dim:{width:A(h),height:A(k)},origWidth:n,origHeight:s,canShrink:d,canExpand:u,wPadding:C,hPadding:t,wrapSpace:k-p.outerHeight(!0),skinSpace:p.height()-m}),!l&&g.autoHeight&&v<m&&m<b&&!u&&f.height("auto")},_getPosition:function(t){var e=E.current,i=E.getViewport(),n=e.margin,s=E.wrap.width()+n[1]+n[3],o=E.wrap.height()+n[0]+n[2];n={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&o<=i.h&&s<=i.w?n.position="fixed":e.locked||(n.top+=i.y,n.left+=i.x),n.top=A(Math.max(n.top,n.top+(i.h-o)*e.topRatio)),n.left=A(Math.max(n.left,n.left+(i.w-s)*e.leftRatio)),n},_afterZoomIn:function(){var e=E.current;e&&(E.isOpen=E.isOpened=!0,E.wrap.css("overflow","visible").addClass("fancybox-opened"),E.update(),(e.closeClick||e.nextClick&&1<E.group.length)&&E.inner.css("cursor","pointer").bind("click.fb",function(t){!T(t.target).is("a")&&!T(t.target).parent().is("a")&&(t.preventDefault(),E[e.closeClick?"close":"next"]())}),e.closeBtn&&T(e.tpl.closeBtn).appendTo(E.skin).bind(a?"touchstart.fb":"click.fb",function(t){t.preventDefault(),E.close()}),e.arrows&&1<E.group.length&&((e.loop||0<e.index)&&T(e.tpl.prev).appendTo(E.outer).bind("click.fb",E.prev),(e.loop||e.index<E.group.length-1)&&T(e.tpl.next).appendTo(E.outer).bind("click.fb",E.next)),E.trigger("afterShow"),e.loop||e.index!==e.group.length-1?E.opts.autoPlay&&!E.player.isActive&&(E.opts.autoPlay=!1,E.play()):E.play(!1))},_afterZoomOut:function(t){t=t||E.current,T(".fancybox-wrap").trigger("onReset").remove(),T.extend(E,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),E.trigger("afterClose",t)}}),E.transitions={getOrigPosition:function(){var t=E.current,e=t.element,i=t.orig,n={},s=50,o=50,r=t.hPadding,a=t.wPadding,l=E.getViewport();return!i&&t.isDom&&e.is(":visible")&&((i=e.find("img:first")).length||(i=e)),d(i)?(n=i.offset(),i.is("img")&&(s=i.outerWidth(),o=i.outerHeight())):(n.top=l.y+(l.h-o)*t.topRatio,n.left=l.x+(l.w-s)*t.leftRatio),("fixed"===E.wrap.css("position")||t.locked)&&(n.top-=l.y,n.left-=l.x),{top:A(n.top-r*t.topRatio),left:A(n.left-a*t.leftRatio),width:A(s+a),height:A(o+r)}},step:function(t,e){var i,n,s=e.prop,o=(n=E.current).wrapSpace,r=n.skinSpace;"width"!==s&&"height"!==s||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),E.isClosing&&(i=1-i),n=t-(n="width"===s?n.wPadding:n.hPadding),E.skin[s](z("width"===s?n:n-o*i)),E.inner[s](z("width"===s?n:n-o*i-r*i)))},zoomIn:function(){var t=E.current,e=t.pos,i=t.openEffect,n="elastic"===i,s=T.extend({opacity:1},e);delete s.position,n?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===i&&(e.opacity=.1),E.wrap.css(e).animate(s,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:n?this.step:null,complete:E._afterZoomIn})},zoomOut:function(){var t=E.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),E.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:E._afterZoomOut})},changeIn:function(){var t,e=E.current,i=e.nextEffect,n=e.pos,s={opacity:1},o=E.direction;n.opacity=.1,"elastic"===i&&(s[t="down"===o||"up"===o?"top":"left"]="down"===o||"right"===o?(n[t]=A(z(n[t])-200),"+=200px"):(n[t]=A(z(n[t])+200),"-=200px")),"none"===i?E._afterZoomIn():E.wrap.css(n).animate(s,{duration:e.nextSpeed,easing:e.nextEasing,complete:function(){setTimeout(E._afterZoomIn,20)}})},changeOut:function(){var t=E.previous,e=t.prevEffect,i={opacity:.1},n=E.direction;"elastic"===e&&(i["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px"),t.wrap.animate(i,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){T(this).trigger("onReset").remove()}})}},E.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!a,fixed:!0},overlay:null,fixed:!1,create:function(t){t=T.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=T('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,t.fixed&&E.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=T.extend({},this.defaults,t);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(s.bind("resize.overlay",T.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){T(t.target).hasClass("fancybox-overlay")&&(E.isActive?E.close():e.close())}),this.overlay.css(t.css).show()},close:function(){T(".fancybox-overlay").remove(),s.unbind("resize.overlay"),this.overlay=null,!1!==this.margin&&(T("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),T.browser.msie?(t=Math.max(n.documentElement.offsetWidth,n.body.offsetWidth),h.width()>t&&(e=h.width())):h.width()>s.width()&&(e=h.width()),this.overlay.width(e).height(h.height())},onReady:function(t,e){T(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=(h.height()>s.height()||"scroll"===T("body").css("overflow-y"))&&T("body").css("margin-right"),this.el=n.all&&!n.querySelector?T("html"):T("body"),this.create(t)),t.locked&&this.fixed&&(e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&T("body").css("margin-right",z(this.margin)+e.scrollbarWidth)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!E.isActive&&this.overlay.fadeOut(t.speedOut,T.proxy(this.close,this))}},E.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=E.current,i=e.title,n=t.type;if(T.isFunction(i)&&(i=i.call(e.element,e)),u(i)&&""!==T.trim(i)){switch(e=T('<div class="fancybox-title fancybox-title-'+n+'-wrap">'+i+"</div>"),n){case"inside":n=E.skin;break;case"outside":n=E.wrap;break;case"over":n=E.inner;break;default:n=E.skin,e.appendTo("body"),T.browser.msie&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),E.current.margin[2]+=Math.abs(z(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](n)}}},T.fn.fancybox=function(o){var r,a=T(this),l=this.selector||"",t=function(t){var e,i,n=T(this).blur(),s=r;!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey&&!n.is(".fancybox-wrap")&&(e=o.groupAttr||"data-fancybox-group",(i=n.attr(e))||(e="rel",i=n.get(0)[e]),i&&""!==i&&"nofollow"!==i&&(s=(n=(n=l.length?T(l):a).filter("["+e+'="'+i+'"]')).index(this)),o.index=s,!1!==E.open(n,o)&&t.preventDefault())};return r=(o=o||{}).index||0,l&&!1!==o.live?h.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",t):a.unbind("click.fb-start").bind("click.fb-start",t),this.filter("[data-fancybox-start=1]").trigger("click"),this},h.ready(function(){if(T.scrollbarWidth===c&&(T.scrollbarWidth=function(){var t=T('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=(e=t.children()).innerWidth()-e.height(99).innerWidth();return t.remove(),e}),T.support.fixedPosition===c){var t=T.support,e=T('<div style="position:fixed;top:20px;"></div>').appendTo("body"),i=20===e[0].offsetTop||15===e[0].offsetTop;e.remove(),t.fixedPosition=i}T.extend(E.defaults,{scrollbarWidth:T.scrollbarWidth(),fixed:T.support.fixedPosition,parent:T("body")})})}(window,document,jQuery),function(c){"use strict";c.fn.toggleButtons=function(t){var a,l,h=.05,e={init:function(t){return this.each(function(){var i,n,o,s,r={};(a=c(this)).addClass("toggle-button"),c.each(a.data(),function(t,e){var i,n={};0===t.indexOf("togglebutton")&&(i=t.match(/[A-Z][a-z]+/g),function(t,e,i){for(var n=0,s=e.length;n<s;n++)t=t[e[n]]=t[e[n]]||n==s-1?i:{}}(n,i=c.map(i,function(t){return t.toLowerCase()}),e),r=c.extend(!0,r,n))}),o=c.extend(!0,{},c.fn.toggleButtons.defaults,t,r),c(this).data("options",o),i=c("<span></span>").addClass("labelLeft").text(void 0===o.label.enabled?"ON":o.label.enabled),n=c("<span></span>").addClass("labelRight").text(void 0===o.label.disabled?"OFF ":o.label.disabled),(l=a.find("input:checkbox").wrap(c("<div></div>")).parent()).append(i),l.append(c("<label></label>").attr("for",a.find("input").attr("id"))),l.append(n),a.find("input").is(":checked")?a.find(">div").css("left","0"):a.find(">div").css("left","-50%"),o.animated?void 0!==o.transitionspeed&&(h=/^(\d*%$)/.test(o.transitionspeed)?.05*parseInt(o.transitionspeed)/100:o.transitionspeed):h=0,c(this).data("transitionSpeed",1e3*h),o.width/=2,a.css("width",2*o.width).find(">div").css("width",3*o.width).find(">span, >label").css("width",o.width),a.css("height",o.height).find("span, label").css("height",o.height).filter("span").css("line-height",o.height+"px"),a.find("input").is(":disabled")&&c(this).addClass("deactivate"),a.find("span").css(o.font),void 0===o.style.enabled?void 0!==o.style.custom&&void 0!==o.style.custom.enabled&&void 0!==o.style.custom.enabled.background&&(i.css("color",o.style.custom.enabled.color),void 0===o.style.custom.enabled.gradient?i.css("background",o.style.custom.enabled.background):c.each(["-webkit-","-moz-","-o-",""],function(t,e){i.css("background-image",e+"linear-gradient(top, "+o.style.custom.enabled.background+","+o.style.custom.enabled.gradient+")")})):i.addClass(o.style.enabled),void 0===o.style.disabled?void 0!==o.style.custom&&void 0!==o.style.custom.disabled&&void 0!==o.style.custom.disabled.background&&(n.css("color",o.style.custom.disabled.color),void 0===o.style.custom.disabled.gradient?n.css("background",o.style.custom.disabled.background):c.each(["-webkit-","-moz-","-o-",""],function(t,e){n.css("background-image",e+"linear-gradient(top, "+o.style.custom.disabled.background+","+o.style.custom.disabled.gradient+")")})):n.addClass(o.style.disabled);var e=function(t){t.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};i.on("click",function(t){e(c(this))}),n.on("click",function(t){e(c(this))}),a.find("input").on("change",function(t,e){var i=c(this).parent(),n=c(this).is(":checked"),s=c(this).closest(".toggle-button");i.stop().animate({left:n?"0":"-50%"},s.data("transitionSpeed")),o=s.data("options"),e||o.onChange(i,n,t)}),a.find("label").on("mousedown touchstart",function(t){s=!1,t.preventDefault(),t.stopImmediatePropagation(),c(this).closest(".toggle-button").is(".deactivate")?c(this).off("click"):(c(this).on("mousemove touchmove",function(t){var e=c(this).closest(".toggle-button"),i=((t.pageX||t.originalEvent.targetTouches[0].pageX)-e.offset().left)/(2*o.width)*100;s=!0,t.stopImmediatePropagation(),t.preventDefault(),i<25?i=25:75<i&&(i=75),e.find(">div").css("left",i-75+"%")}),c(this).on("click touchend",function(t){var e=c(t.target).siblings("input");t.stopImmediatePropagation(),t.preventDefault(),c(this).off("mouseleave"),s?parseInt(c(this).parent().css("left"))<-25?e.attr("checked",!1):e.attr("checked",!0):e.attr("checked",!e.is(":checked")),e.trigger("change")}),c(this).on("mouseleave",function(t){var e=c(this).siblings("input");t.preventDefault(),t.stopImmediatePropagation(),c(this).off("mouseleave"),c(this).trigger("mouseup"),parseInt(c(this).parent().css("left"))<-25?e.attr("checked",!1):e.attr("checked",!0),e.trigger("change")}),c(this).on("mouseup",function(t){t.stopImmediatePropagation(),t.preventDefault(),c(this).off("mousemove")}))})}),this},toggleActivation:function(){c(this).toggleClass("deactivate")},toggleState:function(t){var e=c(this).find("input");e.attr("checked",!e.is(":checked")).trigger("change",t)},setState:function(t,e){c(this).find("input").attr("checked",t).trigger("change",e)},status:function(){return c(this).find("input:checkbox").is(":checked")},destroy:function(){var t,e=c(this).find("div");return e.find(":not(input:checkbox)").remove(),(t=e.children()).unwrap().unwrap(),t.unbind("change"),t}};return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void c.error("Method "+t+" does not exist!"):e.init.apply(this,arguments)},c.fn.toggleButtons.defaults={onChange:function(){},width:100,height:25,font:{},animated:!0,transitionspeed:void 0,label:{enabled:void 0,disabled:void 0},style:{enabled:void 0,disabled:void 0,custom:{enabled:{background:void 0,gradient:void 0,color:"#FFFFFF"},disabled:{background:void 0,gradient:void 0,color:"#FFFFFF"}}}}}($);